{"meta":{"title":"æ£®æ£®çš„åšå®¢","subtitle":"æ­£åœ¨æ›´æ–°...","description":"I hear and I forget. I see and I remember. I do and I understand.","author":"ForeverSen","url":"http://github.com/ForeverSen/ForeverSen.github.io","root":"/"},"pages":[{"title":"about","date":"2019-07-01T09:25:30.000Z","updated":"2019-09-10T04:56:24.000Z","comments":true,"path":"about/index.html","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/about/index.html","excerpt":"","text":""},{"title":"categories","date":"2019-07-01T09:25:30.000Z","updated":"2019-09-10T04:27:14.000Z","comments":true,"path":"categories/index.html","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/index.html","excerpt":"","text":""},{"title":"friends","date":"2019-07-01T13:25:30.000Z","updated":"2019-09-10T04:28:44.000Z","comments":true,"path":"friends/index.html","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/friends/index.html","excerpt":"","text":""},{"title":"tags","date":"2019-07-01T10:23:38.000Z","updated":"2019-09-10T04:28:56.000Z","comments":true,"path":"tags/index.html","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"2019.12æœˆæ€»ç»“","slug":"2019.12æœˆæ€»ç»“","date":"2020-01-05T10:25:08.000Z","updated":"2020-03-23T15:57:27.472Z","comments":true,"path":"2020/01/05/2019.12-yue-zong-jie/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2020/01/05/2019.12-yue-zong-jie/","excerpt":"","text":"12æœˆæœ€åä¸€ä¸ªæœˆï¼Œæ˜å¤©å°±æ˜¯2020å¹´äº†ï¼Œå›é¡¾2019ï¼Œæ„Ÿè§‰æˆé•¿äº†è®¸å¤šï¼Œ2020ï¼Œå¸Œæœ›èƒ½ç»§ç»­ä¿æŒå¯¹æŠ€æœ¯çš„çƒ­æƒ…ï¼Œåšè‡ªå·±å–œæ¬¢åšçš„äº‹ï¼Œæ˜å¹´ï¼Œä¹Ÿå°†æ¯•ä¸šå•¦ï¼Œä»æ­¤ä¾¿æ˜¯ç¤¾ä¼šäººã€‚ğŸ·ï¸ 1. JRebelå®ç°çƒ­éƒ¨ç½²å‡å°‘é‡å¯æ—¶é—´å¹³æ—¶æˆ‘ä»¬åœ¨å¼€å‘ä¸­æ€»æ˜¯éœ€è¦ä¸æ–­ä¿®æ”¹Serviceå±‚æˆ–è€…å…¶ä»–å±‚çš„ä»£ç ï¼Œè¿™æ—¶å€™å¦‚æœé¡¹ç›®å¤§çš„è¯ï¼Œé‡å¯ä¸€æ¬¡è¦å‡ åç§’ï¼Œè¿™æ˜¯ååˆ†ç—›è‹¦çš„äº‹æƒ…ï¼Œè¿™æ—¶å€™çƒ­éƒ¨ç½²å°±ç”Ÿæ•ˆäº†ã€‚è¿™é‡Œä½¿ç”¨JRebelçš„çƒ­éƒ¨ç½²ï¼Œåœ¨IDEAä¸­è£…æ’ä»¶å°±å¯ä»¥äº†ã€‚ç ´è§£çš„è¯éœ€è¦åŠå¹´ä¸€æ¬¡ã€‚ ç ´è§£å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  ç„¶åéœ€è¦é‡æ–°ç”Ÿæˆidï¼Œåœ¨è¿™ ç„¶åå¡«å†™å…·ä½“è·¯å¾„å³å¯ã€‚http://127.0.0.1:8888/e4188520-e963-484e-ae3d-e42b4b0861ee ç„¶ååœ¨é¡¹ç›®ä¸­å°±èƒ½ç”¨äº†ï¼Œç›´æ¥å³é”®å³å¯ã€‚ 2.ä½¿ç”¨Mybatis-plusè‡ªåŠ¨å¡«å……åˆ›å»ºæ—¶é—´å’Œä¿®æ”¹æ—¶é—´åˆ›å»ºæ—¶é—´å’Œä¿®æ”¹æ—¶é—´éƒ½æ˜¯å¹³æ—¶åœ¨æ’å…¥æ•°æ®æˆ–è€…ä¿®æ”¹æ•°æ®æ—¶éƒ½æ˜¯è¦æ–°å»ºæˆ–è€…ä¿®æ”¹çš„ï¼Œä¸å¿…è¦æ¯æ¬¡éƒ½å»ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨Mybatis-plus çš„è‡ªåŠ¨å¡«å……åŠŸèƒ½ã€‚ å®ç°å…ƒå¯¹è±¡å¤„ç†å™¨æ¥å£ï¼šcom.baomidou.mybatisplus.core.handlers.MetaObjectHandler @Component public class MetaObjectHandlerConfig implements MetaObjectHandler { @Override public void insertFill(MetaObject metaObject) { Object createTime = getFieldValByName(\"createdAt\", metaObject); Object updateTime = getFieldValByName(\"updatedAt\", metaObject); if (createTime == null){ setFieldValByName(\"createdAt\", LocalDateTime.now(), metaObject); } if (updateTime == null){ setFieldValByName(\"updatedAt\", LocalDateTime.now(), metaObject); } } æ³¨è§£å¡«å……å­—æ®µ @TableField(fill = FieldFill.INSERT) ï¼ @TableField(fill = FieldFill.INSERT) private LocalDateTime createdAt; @TableField(fill = FieldFill.INSERT_UPDATE) private LocalDateTime updatedAt; å­—æ®µå¿…é¡»å£°æ˜TableFieldæ³¨è§£ï¼Œå±æ€§fillé€‰æ‹©å¯¹åº”ç­–ç•¥ï¼Œè¯¥ç”³æ˜å‘ŠçŸ¥ Mybatis-Plus éœ€è¦é¢„ç•™æ³¨å…¥ SQL å­—æ®µã€‚ å¡«å……å¤„ç†å™¨MyMetaObjectHandler åœ¨ Spring Boot ä¸­éœ€è¦å£°æ˜@Component æ³¨å…¥ã€‚ å¿…é¡»ä½¿ç”¨çˆ¶ç±»çš„setFieldValByName()æˆ–è€…setInsertFieldValByName/setUpdateFieldValByNameæ–¹æ³•ï¼Œå¦åˆ™ä¸ä¼šæ ¹æ®æ³¨è§£FieldFill.xxxæ¥åŒºåˆ†ã€‚ 3.å¸¸ç”¨æ³¨è§£çš„å­¦ä¹ 1. @Profile: æŒ‡ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®šé…ç½®æ–‡ä»¶å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶,å°±æ‰§è¡Œï¼Œå®˜æ–¹æ–‡æ¡£è§£é‡Šï¼Œè¿™é‡ŒæŒ‡å®šç¯å¢ƒä¸ºprodç”Ÿäº§ç¯å¢ƒæ—¶è¿è¡Œã€‚æ‰§è¡Œç›¸åº”å†…å®¹ï¼Œè¾“å‡ºæ–‡å­—ã€‚ 2. @Value æ³¨è§£ä¸ºè¯»å–é…ç½®æ–‡ä»¶çš„å†…å®¹ã€‚ spring: profiles: active: prod 3. @Beanæ³¨è§£Springçš„@Beanæ³¨è§£ç”¨äºå‘Šè¯‰æ–¹æ³•ï¼Œäº§ç”Ÿä¸€ä¸ªBeanå¯¹è±¡ï¼Œç„¶åè¿™ä¸ªBeanå¯¹è±¡äº¤ç»™Springç®¡ç†ã€‚äº§ç”Ÿè¿™ä¸ªBeanå¯¹è±¡çš„æ–¹æ³•Springåªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œéšåè¿™ä¸ªSpringå°†ä¼šå°†è¿™ä¸ªBeanå¯¹è±¡æ”¾åœ¨è‡ªå·±çš„IOCå®¹å™¨ä¸­ã€‚ 4. @JsonViewå’Œ@JsonPropertyæ³¨è§£@JsonViewå¯ä»¥è¿‡æ»¤åºåˆ—åŒ–å¯¹è±¡çš„å­—æ®µå±æ€§ï¼Œå¯ä»¥ä½¿ä½ æœ‰é€‰æ‹©çš„åºåˆ—åŒ–å¯¹è±¡ã€‚ä¸€èˆ¬ç”¨çš„æ¯”è¾ƒå¤šçš„åœ°æ–¹å°±æ˜¯åœ¨è¿”å›çš„VOæˆ–è€…å±æ€§ä¸ŠæŒ‡å®šå“ªäº›ä¸éœ€è¦è¿”å›ï¼Œç„¶ååœ¨Controllerä¸Šç”¨@JsonViewæŒ‡å®šå“ªä¸ªæ–¹æ³•ç”¨å“ªä¸ªè¿‡æ»¤æ¡ä»¶ï¼Œè¿™ä¸ªè¿˜æœ‰ç»§æ‰¿çš„æœºåˆ¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨äº†è§£ä¸‹ã€‚JsonViewå‚è€ƒ@JsonPropertyçš„è¯æ˜¯å®šä¹‰åœ¨å±æ€§ä¸Šï¼Œå½“ä½ éœ€è¦æŒ‡å®šè¿”å›çš„å±æ€§è·Ÿå‰ç«¯çº¦å®šçš„åç§°ä¸åŒæ—¶ï¼Œæˆ–è€…å‰ç«¯dtoä¼ å…¥å‚æ•°è·Ÿä½ çš„beanå±æ€§åä¸åŒï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥åœ¨å±æ€§ä¸Šé¢@JsonPropertyæ³¨è§£æŒ‡å®šåç§°ã€‚ 5. @JsonIncludeæ³¨è§£@JsonInclude(JsonInclude.Include.NON_NULL)ä½œç”¨åœ¨ç±»ä¸Šçš„è¯è¡¨ç¤ºå¦‚æœè¿™ä¸ªç±»ä¸­çš„å±æ€§å¦‚æœå€¼ä¸ºnull,åˆ™ä¸è¿”å›ã€‚æ„Ÿè§‰è¿˜æ˜¯å¾ˆå¥½ç”¨çš„ã€‚6. @EnumVerifyæ³¨è§£@EnumVerifyæ³¨è§£ï¼Œå¯ä»¥åœ¨DTOå…¥å‚çš„æ—¶å€™å¯¹å‚æ•°æŒ‡å®šæšä¸¾çš„ç±»å‹åˆ¤æ–­ï¼Œè¿™æ ·å°±ä¸ç”¨åœ¨ä»£ç ä¸­åˆ¤æ–­å•¦ã€‚ @EnumVerify(message = \"è¯·é€‰æ‹©æ­£ç¡®çš„å®¢æˆ·ç±»å‹\", enumClass = CustomerType.class) private Integer type; è‡ªå·±åˆ›å»ºä¸€ä¸ªStarter 4.Patchè¯·æ±‚å’ŒPutè¯·æ±‚åº”ä½¿ç”¨x-www-form-urlencodedæ–¹å¼ä¼ é€’å‚æ•°åœ¨ä½¿ç”¨Patchå’Œputè¯·æ±‚æ—¶ï¼Œbodyä¸­çš„è¯·æ±‚å‚æ•°æ–¹å¼è¦æ”¹ä¸ºx-www-form-urlencodedã€‚ 5.SQLå¸¸ç”¨å‡½æ•° IFNULL(v1,v2) å‡½æ•°å¦‚æœç¬¬ä¸€ä¸ªå‚æ•° ä¸º NULLï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªå‚æ•°çš„å¤‡ç”¨å€¼ï¼Œå…¶å®è·ŸCASE WHEN THENå·®ä¸å¤šï¼Œåªæ˜¯æ›´åŠ ç®€æ´æ˜äº†äº†ã€‚ CONCACT ç”¨äºå°†å¤šä¸ªå­—ç¬¦ä¸²è¿æ¥èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªå•ä¸€çš„å­—ç¬¦ä¸²ã€‚ CASE WHEN THEN ELSE THEN END CASE è¡¨ç¤ºå‡½æ•°å¼€å§‹ï¼ŒWHEN THEN è¡¨ç¤ºæ¡ä»¶æˆç«‹ååšä»€ä¹ˆï¼ŒEND è¡¨ç¤ºå‡½æ•°ç»“æŸ 6.@NotEmptyã€@NotBlankã€@NotNullå¹³æ—¶æˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨DTOçš„å…¥å‚ä¸Šä½¿ç”¨validateçš„æ³¨è§£ï¼Œè¿™ä¸‰ç§ç®—æ˜¯æ¯”è¾ƒå¸¸è§çš„å§ã€‚ @NotEmpty ç”¨åœ¨é›†åˆç±»ä¸Šé¢ç”¨@NotEmptyä¿®é¥°çš„Stringç±»ã€Collectionã€Mapã€æ•°ç»„ï¼Œæ˜¯ä¸èƒ½ä¸ºnullæˆ–è€…é•¿åº¦ä¸º0çš„(String Collection Mapçš„isEmpty()æ–¹æ³•) @NotBlankåªç”¨äºString,ä¸èƒ½ä¸ºnullä¸”trim()ä¹‹åsize&gt;0 @NotNull:ä¸èƒ½ä¸ºnullï¼Œä½†å¯ä»¥ä¸ºempty,æ²¡æœ‰Sizeçš„çº¦æŸ 7. Mavenä¾èµ–èŒƒå›´ Mavenæœ‰ä»¥ä¸‹å‡ ç§ä¾èµ–èŒƒå›´ï¼š compileï¼šç¼–è¯‘ä¾èµ–èŒƒå›´ï¼Œä½¿ç”¨æ­¤ä¾èµ–èŒƒå›´å¯¹äºç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œä¸‰ç§classpathéƒ½æœ‰æ•ˆï¼Œå³åœ¨ç¼–è¯‘ã€æµ‹è¯•å’Œè¿è¡Œæ—¶éƒ½è¦ä½¿ç”¨è¯¥ä¾èµ–jaråŒ…ï¼› testï¼šæµ‹è¯•ä¾èµ–èŒƒå›´ï¼Œåªå¯¹æµ‹è¯•æœ‰æ•ˆï¼Œè¡¨æ˜åªåœ¨æµ‹è¯•çš„æ—¶å€™éœ€è¦ï¼Œåœ¨ç¼–è¯‘å’Œè¿è¡Œæ—¶å°†æ— æ³•ä½¿ç”¨è¯¥ç±»ä¾èµ–ï¼Œå¦‚ junitï¼› providedï¼šå·²æä¾›ä¾èµ–èŒƒå›´ã€‚ç¼–è¯‘å’Œæµ‹è¯•æœ‰æ•ˆï¼Œè¿è¡Œæ— æ•ˆã€‚å¦‚servlet-apiï¼Œåœ¨é¡¹ç›®è¿è¡Œæ—¶ï¼Œtomcatç­‰å®¹å™¨å·²ç»æä¾›ï¼Œæ— éœ€Mavené‡å¤å¼•å…¥ï¼› runtimeï¼šè¿è¡Œæ—¶ä¾èµ–èŒƒå›´ã€‚æµ‹è¯•å’Œè¿è¡Œæœ‰æ•ˆï¼Œç¼–è¯‘æ— æ•ˆã€‚å¦‚ jdbc é©±åŠ¨å®ç°ï¼Œç¼–è¯‘æ—¶åªéœ€æ¥å£ï¼Œæµ‹è¯•æˆ–è¿è¡Œæ—¶æ‰éœ€è¦å…·ä½“çš„ jdbc é©±åŠ¨å®ç°ï¼› systemï¼šç³»ç»Ÿä¾èµ–èŒƒå›´ï¼Œä½¿ç”¨systemèŒƒå›´çš„ä¾èµ–æ—¶å¿…é¡»é€šè¿‡systemPathå…ƒç´ æ˜¾ç¤ºåœ°æŒ‡å®šä¾èµ–æ–‡ä»¶çš„è·¯å¾„ï¼Œä¸ä¾èµ–Mavenä»“åº“è§£æã€‚ åœ¨é»˜è®¤ä¾èµ–èŒƒå›´çš„æƒ…å†µä¸‹ï¼Œä¼ é€’æ€§ä¾èµ–ä¹Ÿæ˜¯æœ‰æ¡ä»¶çš„ã€‚ å½“ç¬¬äºŒç›´æ¥ä¾èµ–ä¸ºcompileæ—¶ï¼Œåˆ™ä¾èµ–å…³ç³»ä»¥ç¬¬ä¸€ç›´æ¥ä¾èµ–ä¸ºå‡†ï¼› å½“ç¬¬äºŒç›´æ¥ä¾èµ–ä¸ºtestæ—¶ï¼Œåˆ™æ²¡æœ‰ä¾èµ–å…³ç³»ï¼› å½“ç¬¬äºŒç›´æ¥ä¾èµ–ä¸ºprovidedæ—¶ï¼Œåªæœ‰ç¬¬ä¸€ç›´æ¥ä¾èµ–ä¹Ÿä¸ºprovidedæ—¶æ‰æœ‰providedèŒƒå›´çš„ä¾èµ–å…³ç³»ï¼› å½“ç¬¬äºŒç›´æ¥ä¾èµ–ä¸ºruntimeæ—¶ï¼Œé™¤äº†ç¬¬ä¸€ç›´æ¥ä¾èµ–å…³ç³»ä¸ºcompileæ—¶ä¾èµ–èŒƒå›´ä¸ºruntimeï¼Œå…¶ä»–ä¸‰ç§çš†ä¸ç¬¬ä¸€ç›´æ¥ä¾èµ–èŒƒå›´ç›¸åŒã€‚ ä¾èµ–å†²çªçš„è°ƒèŠ‚ï¼šA -&gt; B -&gt; C -&gt; X (1.0)A -&gt; D -&gt; X (2.0)ç”±äºåªèƒ½å¼•å…¥ä¸€ä¸ªç‰ˆæœ¬çš„åŒ… , æ­¤æ—¶ Maven æŒ‰ç…§æœ€çŸ­è·¯å¾„é€‰æ‹©å¯¼å…¥ X (2.0) A -&gt; B -&gt; X (1.0)A -&gt; D -&gt; X (2.0)è·¯å¾„é•¿åº¦ä¸€è‡´ , åˆ™ä¼˜å…ˆé€‰æ‹©ç¬¬ä¸€ä¸ª , æ­¤æ—¶å¯¼å…¥ X (1.0)","categories":[{"name":"Java","slug":"Java","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/Java/"}]},{"title":"SSHå­¦ä¹ ","slug":"SSHå…å¯†ç™»å½•æœåŠ¡å™¨åŠSSHå†…ç½‘ç©¿é€","date":"2019-12-16T10:25:08.000Z","updated":"2019-12-21T05:59:39.659Z","comments":true,"path":"2019/12/16/ssh-mian-mi-deng-lu-fu-wu-qi-ji-ssh-nei-wang-chuan-tou/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/12/16/ssh-mian-mi-deng-lu-fu-wu-qi-ji-ssh-nei-wang-chuan-tou/","excerpt":"","text":"SSHçœŸæ˜¯ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥åšåˆ°å¥½å¤šä¸œè¥¿ï¼Œæœ€è¿‘å­¦ä¹ äº†ä¸€ç‚¹çš®æ¯›ï¼Œæ€»ç»“ä¸‹ï¼š 1.SSHç›®å½•â”œâ”€â”€ authorized_keys --æœåŠ¡å™¨çš„å·²æˆæƒç§˜é’¥ä¿¡æ¯ â”œâ”€â”€ config --æœ¬åœ°é…ç½® â”œâ”€â”€ id_rsa --ç§é’¥ â”œâ”€â”€ id_rsa.pub --å…¬é’¥ â””â”€â”€ known_hosts --å·²çŸ¥è®¤è¯çš„ä¸»æœºè¶³è¿¹ å¦‚æœæœ¬æœºæ²¡æœ‰sshç›®å½•çš„è¯ï¼Œå¯ä»¥è‡ªå·±ç”Ÿæˆä¸‹ï¼š ssh-keygen -t rsa -C \"zhan@zhitao.com\" ç„¶åä¸‰ä¸ªå›è½¦å°±å¯ä»¥äº†ã€‚ 2.é€šè¿‡ç»ˆç«¯æŸ¥çœ‹ SSH è¿œç¨‹ç™»å½•æ˜¯å¦å·²ç»å¼€å¯ æƒ³è¦æŸ¥çœ‹ Mac ä¸Š SSH çš„å½“å‰çŠ¶æ€ï¼Ÿä½¿ç”¨ç®€å•çš„ç»ˆç«¯å°±å¯ä»¥æ£€æŸ¥ SSH å’Œè¿œç¨‹ç™»å½•ç›®å‰æ˜¯å¦å·²ç»å¼€å¯ï¼š sudo systemsetup -getremotelogin å¦‚æœå·²ç»å¼€å¯çš„è¯ï¼ŒæŒ‡ä»¤ä¼šæ˜¾ç¤º â€œRemote Login: Onâ€ ï¼Œåä¹‹å°±ä¼šæ˜¾ç¤ºâ€œRemote Login: Offâ€ã€‚ é€šè¿‡ç»ˆç«¯æŒ‡ä»¤å¼€å¯Macçš„SSH è¦å¿«é€Ÿå¼€å¯ SSH æœåŠ¡å™¨å¹¶å…è®¸ SSH è¿æ¥è¿›å…¥å½“å‰ Macï¼Œä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤ï¼š sudo systemsetup -setremotelogin on è¾“å…¥æŒ‡ä»¤åå¹¶æ²¡æœ‰ä»»ä½•ç¡®è®¤ä¿¡æ¯è¡¨æ˜è¿œç¨‹ç™»å½•å’Œ SSH å·²ç»å¼€å¯ï¼Œä½†ä½ å¯ä»¥ä½¿ç”¨ä¸Šæ–‡æåˆ°çš„æ–¹æ³•æ¥æ£€æŸ¥æ˜¯å¦å¼€å¯æˆåŠŸã€‚ é€šè¿‡ç»ˆç«¯æŒ‡ä»¤å…³é—­Macçš„SSH å¦‚æœä½ æƒ³é€šè¿‡ç»ˆç«¯æŒ‡ä»¤ç¦ç”¨ SSH æœåŠ¡å™¨å¹¶é˜»æ­¢è¿œç¨‹è¿æ¥ï¼Œè¾“å…¥ä¸‹åˆ—æŒ‡ä»¤ï¼š sudo systemsetup -setremotelogin off 3.é…ç½®æœ¬åœ°sshå…å¯†ç™»å½•æœåŠ¡å™¨ä½¿ç”¨ssh å¯ä»¥åšåˆ°åœ¨æœ¬åœ°å…å¯†ç™»å½•æœåŠ¡å™¨ï¼Œå¾ˆæ–¹ä¾¿ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  è¿™ä¸ªå‘½ä»¤è¦ç†Ÿæ‚‰ï¼Œæ‹·è´æœ¬åœ°çš„å…¬é’¥åˆ°æœåŠ¡å™¨ ssh-copy-id user@ip_address å¦å¤–æœ¬åœ°ä¹Ÿå¯ä»¥ç”¨åˆ«åä»£æ›¿ç”¨æˆ·å’Œipåœ°å€ï¼Œå…·ä½“çš„é…ç½®å¯ä»¥åœ¨ ~/.ssh/configä¸­å»é…ç½®ï¼Œæˆ‘è¿™é‡Œé…ç½®äº†hw å’Œ ali çš„ã€‚å› æ­¤åœ¨æˆ‘æœ¬åœ°ä½¿ç”¨ å°±å¯ä»¥ç™»å½•äº† ssh hw æˆ–è€… ssh ali å…·ä½“é…ç½®ï¼š Host hw hostname ä½ çš„ip user ç”¨æˆ·å port 22 IdentityFile ~/.ssh/id_rsa 4.SSHå®ç°å¤–ç½‘è®¿é—®å†…ç½‘è¿™ç§æ–¹å¼çš„åŸç†å°±æ˜¯é€šè¿‡å½“å‰unix/linuxå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ä¸»åŠ¨çš„å»ºç«‹ä¸€ä¸ªSSLéš§é“ï¼Œç„¶åå°†æœåŠ¡å™¨ä¸Šçš„æŸä¸ªç«¯å£ï¼ˆè¿™é‡Œæˆ‘å®šä¹‰ä¸º8888ï¼‰è½¬å‘åˆ°å½“å‰å®¢æˆ·ç«¯çš„22ç«¯å£ä¸Šï¼Œè¿™æ ·ä»»ä½•ä¸€å°è®¡ç®—æœºåŒ…æ‹¬æœåŠ¡å™¨æœ¬èº«ï¼Œéƒ½èƒ½ä½¿ç”¨æœåŠ¡å™¨ä¸Šå¼€å¯çš„æŸä¸ªç«¯å£è¿æ¥åˆ°å½“å‰çš„å®¢æˆ·ç«¯ä¸Šï¼Œæˆ‘ç†è§£åˆ°çš„å°±æ˜¯è¿›è¡Œäº†ç«¯å£è½¬å‘ï¼Œç„¶åé—´æ¥é€šè¿‡æœåŠ¡å™¨æ¥è®¿é—®å†…ç½‘çš„æœºå™¨ã€‚ 1. åœ¨æœ¬åœ°æœºå™¨è¾“å…¥ä»¥ä¸‹å‘½ä»¤ ï¼ˆå»ºç«‹éš§é“ï¼‰ ssh -p 22 -NR 8888:127.0.0.1:22 root@ip åœ¨sshæ–‡æ¡£ä¸­ -NR çš„å®šä¹‰ï¼š -N ä¸æ‰§è¡Œè¿œç¨‹å‘½ä»¤. ç”¨äºè½¬å‘ç«¯å£. (ä»…é™åè®®ç¬¬äºŒç‰ˆ) -R port:host:hostport å°†è¿œç¨‹ä¸»æœº(æœåŠ¡å™¨)çš„æŸä¸ªç«¯å£è½¬å‘åˆ°æœ¬åœ°ç«¯æŒ‡å®šæœºå™¨çš„æŒ‡å®šç«¯å£. å·¥ä½œåŸç†æ˜¯è¿™æ ·çš„, è¿œç¨‹ä¸»æœºä¸Šåˆ†é…äº†ä¸€ä¸ª socket ä¾¦å¬ port ç«¯å£, ä¸€æ—¦è¿™ä¸ªç«¯å£ä¸Šæœ‰äº†è¿æ¥, è¯¥è¿æ¥å°±ç»è¿‡å®‰å…¨é€šé“è½¬å‘å‡ºå», åŒæ—¶æœ¬åœ°ä¸»æœºå’Œ host çš„ hostport ç«¯å£å»ºç«‹è¿æ¥. å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šç«¯å£çš„è½¬å‘. åªæœ‰ç”¨ root ç™»å½•è¿œç¨‹ä¸»æœº æ‰èƒ½è½¬å‘ç‰¹æƒç«¯å£. IPv6 åœ°å€ç”¨å¦ä¸€ç§æ ¼å¼è¯´æ˜: port/host/hostport -g å…è®¸è¿œç«¯ä¸»æœºè¿æ¥æœ¬åœ°è½¬å‘çš„ç«¯å£. -f è¦æ±‚ åœ¨æ‰§è¡Œå‘½ä»¤å‰é€€è‡³åå°. å®ƒç”¨äºå½“ å‡†å¤‡è¯¢é—®å£ä»¤æˆ–å¯†è¯­, ä½†æ˜¯ç”¨æˆ·å¸Œæœ›å®ƒåœ¨åå°è¿›è¡Œ. è¯¥é€‰é¡¹éšå«äº† -n é€‰é¡¹. åœ¨è¿œç«¯æœºå™¨ä¸Šå¯åŠ¨ X11 ç¨‹åºçš„æ¨èæ‰‹æ³•å°±æ˜¯ç±»ä¼¼äº ssh -f host xterm çš„å‘½ä»¤. -q å®‰é™æ¨¡å¼. æ¶ˆé™¤æ‰€æœ‰çš„è­¦å‘Šå’Œè¯Šæ–­ä¿¡æ¯ -nï¼š æŠŠ stdin é‡å®šå‘åˆ° /dev/null (å®é™…ä¸Šé˜²æ­¢ä» stdin è¯»å–æ•°æ®). åœ¨åå°è¿è¡Œæ—¶ä¸€å®šä¼šç”¨åˆ°è¿™ä¸ªé€‰é¡¹. å®ƒçš„å¸¸ç”¨æŠ€å·§æ˜¯è¿œç¨‹è¿è¡Œ X11 ç¨‹åº. ä¾‹å¦‚, ssh -n shadows.cs.hut.fi emacs å°†ä¼šåœ¨ shadows.cs.hut.fi ä¸Šå¯åŠ¨ emacs, åŒæ—¶è‡ªåŠ¨åœ¨åŠ å¯†é€šé“ä¸­è½¬å‘ X11 è¿æ¥. åœ¨åå°è¿è¡Œ. (ä½†æ˜¯å¦‚æœ è¦æ±‚å£ä»¤æˆ–å¯†è¯­, è¿™ç§æ–¹å¼å°±æ— æ³•å·¥ä½œ; å‚è§ -f é€‰é¡¹.) 2. ç„¶åå¯ä»¥ç™»å½•è‡ªå·±çš„æœåŠ¡å™¨ï¼Œåœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šå°±å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ï¼š ssh ç”¨æˆ·å@127.0.0.1 -8888 è¿™é‡Œçš„ç”¨æˆ·åæ˜¯ä½ æœ¬åœ°æœºå™¨çš„ç”¨æˆ·åã€‚ 3. å¦‚æœæ˜¯å…¶ä»–æœºå™¨çš„è¯ï¼Œå°±å¯ä»¥é€šè¿‡ ssh ç”¨æˆ·å@ip -8888 è¿™é‡Œçš„ç”¨æˆ·åæ˜¯æœåŠ¡å™¨ä¸Šçš„ç”¨æˆ·åï¼Œipæ˜¯æœåŠ¡å™¨çš„ipã€‚ é€šè¿‡ä»¥ä¸Šä¸‰ä¸ªæ­¥éª¤å°±å¯ä»¥å®ç°å¤–ç½‘è®¿é—®å…¬å¸å†…ç½‘æ‹‰ï¼Œä¸è¿‡è¦å†…ç½‘çš„æœºå™¨ä¸€ç›´å¼€ç€ï¼Œè½¬å‘ç€ç«¯å£ã€‚å¦å¤–æœ¬åœ°æœºå™¨çš„sshå¦‚æœåœ¨ä¸€å®šæ—¶é—´å†…ä¼šåœæ‰è‡ªåŠ¨è½¬å‘çš„è¯·æ±‚ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦å®‰è£…autosshï¼Œæ¥ç›‘æ§sshè½¬å‘è¯·æ±‚ï¼Œä¸€ç›´ä¿æŒç€è¿™ä¸ªè¯·æ±‚ã€‚ 5.SCPä¼ è¾“æ–‡ä»¶åœ¨Linunxä¸‹ä½¿ç”¨SCPä¼ è¾“æ–‡ä»¶ï¼Œä¹Ÿå†™åœ¨è¿™é‡Œå§ï¼Œåæ­£å·¥ä½œæˆ–è€…ä»¥åå­¦ä¹ ä¼šç»å¸¸ç”¨åˆ°ï¼ŒæŠŠè‡ªå·±çš„æ–‡ä»¶ä¼ åˆ°æœåŠ¡å™¨æˆ–è€…ä»æœåŠ¡å™¨ä¸­æ‹‰æ–‡ä»¶ä¸‹æ¥ã€‚å…ˆåˆ¶å®šä¸‹è§„åˆ™ï¼š fileLocal:æœ¬åœ°æ–‡ä»¶ä½ç½® fileRemoteï¼šæœåŠ¡å™¨æ–‡ä»¶ä½ç½® remoteIpï¼šæœåŠ¡å™¨ip ä¸Šä¼ åˆ°è¿œç«¯æœåŠ¡å™¨scp fileLocal root@remoteIp:fileRemote ä»æœåŠ¡å™¨ä¸Šå¤åˆ¶æ–‡ä»¶åˆ°æœ¬åœ°scp root@remoteIp:fileRemote fileLocal å¦å¤–å¦‚æœè®¾å®šäº†åˆ«åçš„è¯ï¼Œå°±æ˜¯è·Ÿsshé‚£é‡Œä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨åˆ«åä»£æ›¿root@remoteIp ä¸Šé¢éƒ½æ˜¯é’ˆå¯¹å•ä¸ªæ–‡ä»¶çš„ï¼Œå¦‚æœéœ€è¦ä¼ è¾“æ•´ä¸ªæ–‡ä»¶å¤¹çš„è¯ï¼Œéœ€è¦ç”¨scp -r å¦å¤–ä½¿ç”¨scpè¦æ³¨æ„æ‰€ä½¿ç”¨çš„ç”¨æˆ·æ˜¯å¦å…·æœ‰å¯è¯»å–è¿œç¨‹æœåŠ¡å™¨ç›¸åº”æ–‡ä»¶çš„æƒé™ï¼Œå¦‚æœæ²¡æœ‰æƒé™ï¼Œéœ€è¦chmod 777 ä¸€ä¸‹ã€‚","categories":[{"name":"è®¡ç®—æœºåŸºç¡€","slug":"è®¡ç®—æœºåŸºç¡€","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/è®¡ç®—æœºåŸºç¡€/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/Linux/"}]},{"title":"2019.11æœˆæ€»ç»“","slug":"2019.11æœˆæ€»ç»“","date":"2019-12-01T10:25:08.000Z","updated":"2019-12-21T05:43:05.886Z","comments":true,"path":"2019/12/01/2019.11-yue-zong-jie/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/12/01/2019.11-yue-zong-jie/","excerpt":"","text":"åä¸€æœˆï¼Œå¾ˆå¿«ï¼Œå·²ç»å®ä¹ ä¸€ä¸ªå¤šæœˆäº†ï¼Œæ„Ÿè§‰æœ€è¿‘å†™çš„ä¸šåŠ¡è¿˜æ˜¯æŒºå¤šçš„ï¼Œä¹Ÿå­¦ä¹ åˆ°äº†è®¸å¤šä¸œè¥¿ï¼Œå¹³æ—¶è‡ªå·±é‡åˆ°äº†å›°éš¾ä¹Ÿä¼šåœ¨è¿™é‡Œæ€»ç»“ä¸‹ï¼Œä¸è¿‡è¿™ä¸ªæœˆå·æ‡’äº†ä¸€æŠŠï¼Œæ²¡åˆ©ç”¨ç©ºä½™çš„æ—¶é—´å»å­¦ä¹ æ–°çš„æŠ€æœ¯ï¼Œä¸è¿‡æœ€è¿‘å¼€å§‹çœ‹ä¹¦äº†ğŸ˜‚ã€‚ 1. Springä¸­@RequestParamå’Œ@RequestBodyåŒºåˆ«æ³¨è§£@RequestParamæ¥æ”¶çš„å‚æ•°æ˜¯æ¥è‡ªrequestHeaderä¸­ï¼Œå³è¯·æ±‚å¤´ã€‚é€šå¸¸ç”¨äºGETè¯·æ±‚ï¼ŒåƒPOSTã€DELETEç­‰å…¶å®ƒç±»å‹çš„è¯·æ±‚ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚@RequestParamç”¨æ¥å¤„ç† Content-Type ä¸º application/x-www-form-urlencoded ç¼–ç çš„å†…å®¹ï¼ŒContent-Typeé»˜è®¤ä¸ºè¯¥å±æ€§ã€‚ @RequestParamæœ‰ä¸‰ä¸ªé…ç½®å‚æ•°ï¼š required è¡¨ç¤ºæ˜¯å¦å¿…é¡»ï¼Œé»˜è®¤ä¸º trueï¼Œå¿…é¡»ã€‚ defaultValue å¯è®¾ç½®è¯·æ±‚å‚æ•°çš„é»˜è®¤å€¼ã€‚ value ä¸ºæ¥æ”¶urlçš„å‚æ•°åï¼ˆç›¸å½“äºkeyå€¼ï¼‰ã€‚ æ³¨è§£@RequestBodyæ¥æ”¶çš„å‚æ•°æ˜¯æ¥è‡ªrequestBodyä¸­ï¼Œå³è¯·æ±‚ä½“ã€‚ä¸€èˆ¬ç”¨äºå¤„ç†é Content-Type: application/x-www-form-urlencodedç¼–ç æ ¼å¼çš„æ•°æ®ï¼Œæ¯”å¦‚ï¼šapplication/jsonã€application/xmlç­‰ç±»å‹çš„æ•°æ®ã€‚é€šå¸¸ç”¨äºæ¥æ”¶POSTã€DELETEç­‰ç±»å‹çš„è¯·æ±‚æ•°æ®ï¼ŒGETç±»å‹ä¹Ÿå¯ä»¥é€‚ç”¨ã€‚ 2.Array.asList()å‘ç°åœ¨å¼€å‘ä¸­è¿˜æ˜¯æ¯”è¾ƒå¸¸è§åˆ°Arrays.asList()çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒå°†ä¸€ä¸ªæ•°ç»„è½¬æ¢ä¸ºä¸€ä¸ªListé›†åˆã€‚ Arrays.asList()å°†æ•°ç»„è½¬æ¢ä¸ºé›†åˆå,åº•å±‚å…¶å®è¿˜æ˜¯æ•°ç»„ã€‚ ä½¿ç”¨æ—¶è¦æ³¨æ„ï¼šä¼ é€’çš„æ•°ç»„å¿…é¡»æ˜¯å¯¹è±¡æ•°ç»„ï¼Œè€Œä¸æ˜¯åŸºæœ¬ç±»å‹ã€‚Arrays.asList()æ˜¯æ³›å‹æ–¹æ³•ï¼Œä¼ å…¥çš„å¯¹è±¡å¿…é¡»æ˜¯å¯¹è±¡æ•°ç»„ã€‚ ä½¿ç”¨é›†åˆçš„ä¿®æ”¹æ–¹æ³•:add()ã€remove()ã€clear()ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚Arrays.asList() æ–¹æ³•è¿”å›çš„å¹¶ä¸æ˜¯ java.util.ArrayList ï¼Œè€Œæ˜¯ java.util.Arrays çš„ä¸€ä¸ªå†…éƒ¨ç±»,è¿™ä¸ªå†…éƒ¨ç±»å¹¶æ²¡æœ‰å®ç°é›†åˆçš„ä¿®æ”¹æ–¹æ³•æˆ–è€…è¯´å¹¶æ²¡æœ‰é‡å†™è¿™äº›æ–¹æ³•ã€‚ æ­£ç¡®çš„å°†æ•°ç»„è½¬æ¢ä¸ºArrayListçš„æ–¹æ³•ï¼š ç›´æ¥è½¬List list = new ArrayList&lt;>(Arrays.asList(arr)); ä½¿ç”¨ Java8 çš„Stream:List myList = Arrays.stream(arr).collect(Collectors.toList()); 3. æ•°æ®åº“è¡¨è®¾è®¡ å­—æ®µå¦‚æœæ˜¯å­—ç¬¦çš„è¯ï¼Œå­—ç¬¦ç¼–ç å¿…é¡»ä½¿ç”¨utf8-mb4ï¼Œè¦ç»Ÿä¸€ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ å°½é‡ä¸è¦ä»¥MySQLå…³é”®å­—ä½œä¸ºå­—æ®µçš„å‘½åï¼Œå¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œä¸ç„¶åšæŸ¥è¯¢è¯­å¥çš„æ—¶å€™ä¼šå‡ºé”™ã€‚ æ¯ä¸ªæ•°æ®è¡¨å¿…é¡»å­˜åœ¨ä¸»é”®,é™¤ç‰¹æ®Šæƒ…å†µå¤–,åº”ä½¿ç”¨è‡ªå¢ä¸»é”®ã€‚ é™¤ç‰¹æ®Šæƒ…å†µå¤–,æ‰€æœ‰å­—æ®µå¿…é¡»è®¾å®šé»˜è®¤å€¼å¹¶ä¸”ä¸€å®šä¸å¯ä»¥å‡ºç°NULLç±»å‹ã€‚ 4.resultTypeå’ŒresultMapåŒºåˆ«å®˜æ–¹æ–‡æ¡£ resultType ä»è¿™æ¡è¯­å¥ä¸­è¿”å›çš„æœŸæœ›ç±»å‹çš„ç±»çš„å®Œå…¨é™å®šåæˆ–åˆ«åã€‚ æ³¨æ„å¦‚æœè¿”å›çš„æ˜¯é›†åˆï¼Œé‚£åº”è¯¥è®¾ç½®ä¸ºé›†åˆåŒ…å«çš„ç±»å‹ï¼Œè€Œä¸æ˜¯é›†åˆæœ¬èº«ã€‚å¯ä»¥ä½¿ç”¨ resultType æˆ– resultMapï¼Œä½†ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚ resultMap å¤–éƒ¨ resultMap çš„å‘½åå¼•ç”¨ã€‚ç»“æœé›†çš„æ˜ å°„æ˜¯ MyBatis æœ€å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¦‚æœä½ å¯¹å…¶ç†è§£é€å½»ï¼Œè®¸å¤šå¤æ‚æ˜ å°„çš„æƒ…å½¢éƒ½èƒ½è¿åˆƒè€Œè§£ã€‚å¯ä»¥ä½¿ç”¨ resultMap æˆ– resultTypeï¼Œä½†ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚ 5.Springä¸­çš„äº‹åŠ¡æœºåˆ¶1ã€ Springä¸­äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºï¼š äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºæ˜¯æŒ‡ï¼Œå¦‚æœåœ¨å¼€å§‹å½“å‰äº‹åŠ¡ä¹‹å‰ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸Šä¸‹æ–‡å·²ç»å­˜åœ¨ï¼Œæ­¤æ—¶æœ‰è‹¥å¹²é€‰é¡¹å¯ä»¥æŒ‡å®šä¸€ä¸ªäº‹åŠ¡æ€§æ–¹æ³•çš„æ‰§è¡Œè¡Œä¸ºã€‚åœ¨TransactionDefinitionå®šä¹‰ä¸­åŒ…æ‹¬äº†å¦‚ä¸‹å‡ ä¸ªè¡¨ç¤ºä¼ æ’­è¡Œä¸ºçš„å¸¸é‡ï¼š TransactionDefinition.PROPAGATION_REQUIREDï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ã€‚ TransactionDefinition.PROPAGATION_REQUIRES_NEWï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ TransactionDefinition.PROPAGATION_SUPPORTSï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™ä»¥éäº‹åŠ¡çš„æ–¹å¼ç»§ç»­è¿è¡Œã€‚ TransactionDefinition.PROPAGATION_NOT_SUPPORTEDï¼šä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ TransactionDefinition.PROPAGATION_NEVERï¼šä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚ TransactionDefinition.PROPAGATION_MANDATORYï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åŠ å…¥è¯¥äº‹åŠ¡ï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚ TransactionDefinition.PROPAGATION_NESTEDï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªäº‹åŠ¡ä½œä¸ºå½“å‰äº‹åŠ¡çš„åµŒå¥—äº‹åŠ¡æ¥è¿è¡Œï¼›å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™è¯¥å–å€¼ç­‰ä»·äºTransactionDefinition.PROPAGATION_REQUIREDã€‚ 2ã€Springäº‹åŠ¡ç§ç±»ï¼šSpringä¸­çš„äº‹åŠ¡ä¸€èˆ¬åˆ†ä¸ºç¼–ç¨‹å¼äº‹åŠ¡å’Œå£°æ˜å¼äº‹åŠ¡ï¼Œç”±äºç¼–ç¨‹å¼äº‹åŠ¡æ¯”è¾ƒå¤æ‚ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­éƒ½æ˜¯ä½¿ç”¨å£°æ˜å¼äº‹åŠ¡ï¼Œä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ï¼Œè€Œå£°æ˜å¼äº‹åŠ¡ä¹Ÿæœ‰å¾ˆå¤šç§ç±»å‹æ¥å®šä¹‰ã€‚å…¨é¢åˆ†æ Spring çš„ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†åŠå£°æ˜å¼äº‹åŠ¡ç®¡ç† ä¸€ç§æ˜¯åœ¨é…ç½®æ–‡ä»¶ï¼ˆxmlï¼‰ä¸­åšç›¸å…³çš„äº‹åŠ¡è§„åˆ™å£°æ˜ è¿˜æœ‰å°±æ˜¯åŸºäº @Transactional çš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†è™½ç„¶ @Transactional æ³¨è§£å¯ä»¥ä½œç”¨äºæ¥å£ã€æ¥å£æ–¹æ³•ã€ç±»ä»¥åŠç±»æ–¹æ³•ä¸Šï¼Œä½†æ˜¯ Spring å°ç»„å»ºè®®ä¸è¦åœ¨æ¥å£æˆ–è€…æ¥å£æ–¹æ³•ä¸Šä½¿ç”¨è¯¥æ³¨è§£ï¼Œå› ä¸ºè¿™åªæœ‰åœ¨ä½¿ç”¨åŸºäºæ¥å£çš„ä»£ç†æ—¶å®ƒæ‰ä¼šç”Ÿæ•ˆã€‚å¦å¤–ï¼Œ @Transactional æ³¨è§£åº”è¯¥åªè¢«åº”ç”¨åˆ° public æ–¹æ³•ä¸Šï¼Œè¿™æ˜¯ç”± Spring AOP çš„æœ¬è´¨å†³å®šçš„ã€‚å¦‚æœä½ åœ¨ protectedã€private æˆ–è€…é»˜è®¤å¯è§æ€§çš„æ–¹æ³•ä¸Šä½¿ç”¨ @Transactional æ³¨è§£ï¼Œè¿™å°†è¢«å¿½ç•¥ï¼Œä¹Ÿä¸ä¼šæŠ›å‡ºä»»ä½•å¼‚å¸¸ã€‚è¿˜æœ‰å°±æ˜¯Spring çš„ AOP çš„è‡ªè°ƒç”¨é—®é¢˜ä¼šå¯¼è‡´ å°±ç®—å‡ºç°å¼‚å¸¸ä¹Ÿä¸ä¼šå›æ»šï¼Œéœ€è¦æ³¨æ„ï¼è‡ªè°ƒç”¨é—®é¢˜å°±æ˜¯è¯´ï¼šåŒä¸€ä¸ªç±»ä¸­ä¸€ä¸ªæ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªæ–¹æ³•æœ‰äº‹åŠ¡çš„æ–¹æ³•ï¼Œäº‹åŠ¡æ˜¯ä¸ä¼šèµ·ä½œç”¨çš„ã€‚è‡ªè°ƒç”¨é—®é¢˜é€å½»çš„æŒæ¡ Spring ä¸­@transactional çš„ä½¿ç”¨ 6.Charleså·¥å…·çš„ä½¿ç”¨å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼Œå¥½çš„å·¥å…·è®©ä½ å¼€å‘æ•ˆç‡å€å¢ã€‚è¿™æ¬¾å·¥å…·æ¯”èµ·wiresharkå¥½ç”¨å¤šäº†ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥çœ‹æ‰‹æœºAPPçš„æ¥å£ï¼ˆè¦æ‰‹æœºè·Ÿç”µè„‘è¿æ¥åŒä¸€ç½‘æ®µï¼‰ã€‚ æˆªå– Http å’Œ Https ç½‘ç»œå°åŒ…ã€‚ æ”¯æŒé‡å‘ç½‘ç»œè¯·æ±‚ï¼Œæ–¹ä¾¿åç«¯è°ƒè¯•ã€‚ æ”¯æŒä¿®æ”¹ç½‘ç»œè¯·æ±‚å‚æ•°ã€‚ æ”¯æŒç½‘ç»œè¯·æ±‚çš„æˆªè·å¹¶åŠ¨æ€ä¿®æ”¹ã€‚ æ”¯æŒæ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œã€‚ å…¶ä¸­ä½¿ç”¨Mapä¹Ÿå¯ä»¥å°†è¿œç¨‹åœ°å€çš„æ¥å£è½¬å‘åˆ°æœ¬åœ°ï¼Œæ¯”å¦‚å¯ä»¥å°†æµ‹è¯•ç¯å¢ƒæˆ–è€…ç”Ÿäº§ç¯å¢ƒçš„åœ°å€è½¬å‘åˆ°æœ¬åœ°çš„åœ°å€ï¼Œè¿™ä¸ªæ—¶å€™æœ¬åœ°ä¹Ÿè¦æœ‰ä¸€ä»½è·Ÿæµ‹è¯•ç¯å¢ƒä¸€æ ·çš„æ•°æ®åº“ï¼Œç„¶åå½“ä½ åœ¨çº¿ä¸Šæ“ä½œæµ‹è¯•ç¯å¢ƒæ—¶ï¼Œå®é™…ä¸Šæ“ä½œçš„å°±æ˜¯ä½ æœ¬åœ°çš„æ•°æ®åº“ã€‚åŠŸèƒ½å¼ºå¤§ã€‚è¿˜æœ‰ä¸€äº›Rewirte å’Œ Breakpoints åŠŸèƒ½ç­‰ï¼Œå…·ä½“å¯ä»¥å‚è€ƒCharles ä»å…¥é—¨åˆ°ç²¾é€šã€‚ 7.Java8æ–°ç‰¹æ€§Java8çš„æ–°ç‰¹æ€§ï¼ŒçœŸçš„ç»™å¼€å‘è€…å¸¦æ¥äº†ç¦éŸ³ï¼Œåœ¨å¼€å‘ä¸­ä¹Ÿå¾ˆå®ç”¨ï¼Œå°¤å…¶æ˜¯æµStreamï¼ŒOptionalåˆ¤æ–­ç©ºæŒ‡é’ˆå¼‚å¸¸ç­‰ï¼ŒLocalDateTimeä»£æ›¿Dateï¼Œæ€»çš„æ¥è¯´æ–°ç‰¹æ€§æœ‰ä»¥ä¸‹å‡ ä¸ªï¼šè¿™é‡Œåªåšæ€»ç»“ï¼šä¸åšå…·ä½“åŠŸèƒ½ï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒç›¸å…³åšå®¢ï¼ŒJavaGuideåšä¸»æ€»ç»“çš„å¤ªå¥½äº†å“ˆå“ˆå“ˆè¯¦è§£Java8 Lambdaè¡¨è¾¾å¼ æ¥å£çš„é»˜è®¤æ–¹æ³•(ä½¿ç”¨ default å…³é”®å­—å‘æ¥å£æ·»åŠ éæŠ½è±¡æ–¹æ³•å®ç°) æ–¹æ³•å¼•ç”¨ï¼ˆ::ï¼‰ æµStreamï¼ˆfilterã€sortã€mapã€collectã€reduceã€countï¼‰ Optionalï¼ˆå¯é¢„é˜²ç©ºæŒ‡é’ˆï¼‰ LocalDateTimeï¼ˆä»¥åå°½é‡ç”¨è¿™ä¸ªä»£æ›¿Dateï¼‰ 8.JavaBeanä¸­ç”¨LocalDateTime ä¿®é¥° åˆ›å»ºæ—¶é—´ æŠ¥é”™è°·æ­Œäº†ä¸€ä¸‹ï¼Œæ˜¯Mybatis-plusç‰ˆæœ¬è·Ÿdruidè¿æ¥æ± ç‰ˆæœ¬å†²çªçš„é—®é¢˜ï¼Œæˆ‘æ›¾åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œå…¶ä¸­ç”¨Mybatis-plusâ•hikari è¿æ¥æ± ï¼Œè¿™æ ·ä½¿ç”¨LocalDateTimeä¿®é¥°created_atå°±ä¸ä¼šæŠ¥é”™ã€‚ ä¹‹å‰é¡¹ç›®ä¸­ç”¨åˆ°çš„Mybatis-plus â• druid å°±ä¼šå‡ºç°æŠ¥é”™ã€‚å‚è€ƒ è§£å†³æ–¹æ³•ï¼š 1ã€ä½¿ç”¨Dateç±»å‹ä¿®é¥°Bean 2ã€æ¢è¿æ¥æ± ï¼Œä½¿ç”¨hikariCP 12æœˆ TODO åŠ å¼ºSQLè¯­å¥çš„ç¼–å†™ã€‚ å¯¹Redisçš„ç†Ÿç»ƒåº”ç”¨ã€‚ çœ‹ä¸€æœ¬ä¹¦ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/Java/"}]},{"title":"è¯»ã€Šé«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€‹","slug":"ã€Šé«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€‹è¯»ä¹¦ç¬”è®°","date":"2019-11-28T10:25:08.000Z","updated":"2019-12-21T05:45:29.392Z","comments":true,"path":"2019/11/28/gao-xiao-neng-ren-shi-de-qi-ge-xi-guan-du-shu-bi-ji/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/11/28/gao-xiao-neng-ren-shi-de-qi-ge-xi-guan-du-shu-bi-ji/","excerpt":"","text":"è¯»ã€Šé«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€‹ æœ€è¿‘è¯»å®Œäº† å²è’‚èŠ¬Â·ç§‘ç»´çš„ã€é«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€ï¼Œå¯¹äºåˆå…¥èŒåœºçš„äººæ¥è¯´ï¼Œæ”¶è·æŒºå¤šï¼Œä»ä¸­ä½ å¯ä»¥åœ¨å¦‚ä»Šçš„ç”Ÿæ´»ä¸­å‘ç°è‡ªå·±å¾ˆå¤šéœ€è¦å»æé«˜çš„åœ°æ–¹ã€‚å¸Œæœ›èƒ½å¥½å¥½è·µè¡Œè¿™ä¸ƒä¸ªä¹ æƒ¯ï¼Œå¯¹ç”Ÿæ´»è¿˜æœ‰å·¥ä½œä¼šå¾ˆæœ‰å¸®åŠ©ã€‚æ˜¯æœ¬ç»å…¸å¥½ä¹¦ã€‚ç®€å•è®²ä¸‹è¿™å‡ ä¸ªä¹ æƒ¯è¿˜æœ‰è‡ªå·±çš„ç†è§£å§ã€‚ ä¸ªäººé¢†åŸŸçš„æˆåŠŸ 1ã€ç§¯æä¸»åŠ¨ï¼ˆBE PROACTIVEï¼‰ é‡‡å–ä¸»åŠ¨ï¼Œä¸ºè‡ªå·±çš„è¿‡å»å’Œæœªæ¥è´Ÿè´£ï¼Œä¸è¦è¢«ç¯å¢ƒå·¦å³ã€‚ é€‰æ‹©åˆ›é€ è‡ªå·±çš„äººç”Ÿï¼Œä¸æ€¨å¤©å°¤äººã€‚ å°½é‡ä¸è¯´â€œå¦‚æœâ€ï¼Œè€Œæ˜¯è¯´â€œæˆ‘å¯ä»¥â€ã€‚ å€˜è‹¥ä¸€ä¸ªäººå¾ˆæœ‰èƒ½åŠ›ï¼Œä½†æ˜¯ç”±äºä¸ä¸»åŠ¨è€Œæ²¡æ³•å±•ç¤ºè‡ªå·±é•¿å¤„ï¼Œé‚£ä¹ˆä¹Ÿå°†ä¸€æ— æ˜¯å¤„ã€‚ 2ã€ä»¥ç»ˆä¸ºå§‹ï¼ˆBEGIN WITH THE END IN MINDï¼‰ åœ¨åšä»»ä½•äº‹æƒ…ä¹‹å‰ï¼Œéƒ½è¦å…ˆè®¤æ¸…æ–¹å‘ï¼Œé¿å…è¯¯å…¥æ­§é€”ï¼Œç™½è´¹åŠŸå¤«ã€‚ å›ºå®ˆæ„¿æ™¯ï¼Œåˆ«ç­‰åˆ°æˆåŠŸä¹‹åï¼Œæ‰å‘ç°è‡ªå·±å¤±å»äº†æœ€å®è´µçš„ä¸œè¥¿ã€‚ ä»»ä½•äº‹ç‰©éƒ½éœ€è¦ä¸¤æ¬¡åˆ›é€ ï¼Œå…ˆåœ¨è‡ªå·±å¤´è„‘ä¸­æ„æ€ï¼Œç„¶åå†ä»˜è¯¸è¡ŒåŠ¨ã€‚ åšä»»ä½•äº‹æƒ…å‰éƒ½éœ€è¦æ€è€ƒç»“æœä¼šæ˜¯å¦‚ä½•ï¼Œè·¯ä¸Šä¼šé‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œå¤±è´¥åä¼šæ€æ ·ï¼Œ 3ã€è¦äº‹ç¬¬ä¸€ï¼ˆPUT FIRST THINGS FIRSTï¼‰ é‡è¦çš„äº‹ç»ä¸å¯ä»¥å—èŠéº»ç»¿è±†å°äº‹ç‰µç»Šã€‚ å‹‡äºè¯´â€œä¸â€ï¼Œå¿…è¦æ—¶ï¼Œåœ¨ç´§æ€¥ä¸é‡è¦ä¹‹é—´ï¼Œåº”è¯¥ä¸å‘ä¸äº¢çš„æ‹’ç»åˆ«äººï¼ŒçŸ¥é“å–èˆã€‚ è¦æœ‰è‰¯å¥½çš„æ—¶é—´ç®¡ç†ï¼Œä¼˜å…ˆå®Œæˆæœ€é‡è¦çš„äº‹ã€‚ ä¸ªäººç‹¬ç«‹ä¸ä»£è¡¨çœŸæ­£çš„æˆåŠŸï¼Œåœ†æ»¡äººç”Ÿè¿˜å¿…é¡»è¿½æ±‚å…¬ä¼—é¢†åŸŸçš„æˆåŠŸã€‚ å…¬ä¼—é¢†åŸŸçš„æˆåŠŸï¼š 4ã€åŒèµ¢æ€ç»´ï¼ˆTHINK WIN-WINï¼‰ åŒèµ¢è€…æŠŠç”Ÿæ´»çœ‹ä½œä¸€ä¸ªåˆä½œçš„èˆå°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªè§’æ–—åœºï¼Œäººäººéƒ½æœ‰è¶³å¤Ÿçš„ç«‹è¶³ç©ºé—´ï¼Œä»–äººä¹‹å¾—ä¸å¿…è§†ä¸ºè‡ªå·±å¿—å¤±ã€‚ å¦‚æœå®åœ¨æ— æ³•è¾¾æˆå…±è¯†ï¼Œå®ç°åŒèµ¢ï¼Œä¸å¦‚å¥½èšå¥½æ•£ï¼Œæ”¾å¼ƒäº¤æ˜“åˆä½œã€‚ åŒèµ¢çš„æ€ç»´éœ€è¦åŒèµ¢å“å¾·ï¼ˆè¯šä¿¡ã€æˆç†Ÿã€çŸ¥è¶³ï¼‰ã€åŒèµ¢å…³ç³»ã€åŒèµ¢åè®®ã€åŒèµ¢ä½“ç³»ã€åŒèµ¢è¿‡ç¨‹æ¥å®Œæˆçš„ã€‚ ç”Ÿæ´»ä¸­å¤„å¤„å¯è§äº¤æ˜“ï¼Œå¦‚ä½•è¾¾åˆ°åŒæ–¹å½¼æ­¤ä¹‹é—´åˆ©ç›Šçš„æœ€å¤§åŒ–ï¼Œä¼šè®©äº¤æ˜“å˜å¾—ç®€å•ã€‚ 5ã€çŸ¥å½¼è§£å·±ï¼ˆSEEK FIRST TO UNDERSTAND,THEN TO BE UNDERSTOODï¼‰ é¦–å…ˆå»å¯»æ±‚äº†è§£å¯¹æ–¹ï¼Œç„¶åå†äº‰å–è®©å¯¹æ–¹äº†è§£è‡ªå·±â€”â€”è¿›è¡Œæœ‰æ•ˆäººé™…æ²Ÿé€šçš„å…³é”®ã€‚ çŸ¥å½¼éœ€è¦ä»æ…ˆå¿ƒï¼Œè§£å·±éœ€è¦å‹‡æ°”ï¼Œèƒ½å¹³è¡¡ä¸¤è€…ï¼Œåˆ™å¯å¤§å¹…æé«˜æ²Ÿé€šçš„æ•ˆç‡ã€‚ æœ‰æ•ˆçš„æ²Ÿé€šï¼Œå–„äºè¡¨è¾¾è‡ªå·±ï¼Œä¸è¦å¤ªè¿‡äºå¿ƒæ€¥ï¼Œè¦æœ‰è€å¿ƒã€‚ è¦æ‡‚å¾—è†å¬åˆ«äººï¼Œå³ä½¿è‡ªå·±å¾ˆç´¯å¾ˆç–²å€¦ï¼Œèµ·ç è¦å°Šé‡åˆ«äººå’Œä½ è¯´è¯ã€‚ 6ã€ç»Ÿåˆç»¼æ•ˆï¼ˆSYNERGIZEï¼‰ ç»Ÿåˆç»¼æ•ˆæ˜¯äº’ç›¸å°Šé‡çš„ç»“æœï¼Œå³éæŒ‰ç…§æˆ‘çš„æ–¹å¼ï¼Œäº¦ééµå¾ªä½ çš„æ–¹å¼ï¼Œè€Œæ˜¯åˆ›é€ ç¬¬ä¸‰ç§æ›´å¥½çš„åŠæ³•ï¼Œèƒ½ä½¿1+1&gt; 2çš„ç»“æœã€‚ å¦‚æœä¸€ä½å…·æœ‰ç›¸å½“èªæ˜æ‰æ™ºçš„äººè·Ÿæˆ‘æ„è§ä¸åŒï¼Œé‚£ä¹ˆå¯¹æ–¹çš„ä¸»å¼ å¿…å®šæœ‰æˆ‘å°šæœªä½“ä¼šçš„å¥¥ç§˜ã€‚ æ•å¼€èƒ¸æ€€ï¼Œåšé‡‡ä¼—è®®ï¼Œå°Šé‡å·®å¼‚ï¼Œé€‰æ‹©æœ€ä¼˜è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚ 7ã€ä¸æ–­æ›´æ–°ï¼ˆSHARPEN THE SAWï¼‰ å·¥ä½œæœ¬èº«å¹¶ä¸èƒ½å¸¦æ¥ç»æµä¸Šçš„å®‰å…¨æ„Ÿï¼Œå…·å¤‡è‰¯å¥½çš„æ€è€ƒã€å­¦ä¹ ã€åˆ›é€ ä¸é€‚åº”èƒ½åŠ›ï¼Œæ‰èƒ½ç«‹äºä¸è´¥ä¹‹åœ°ã€‚æ‹¥æœ‰è´¢å¯Œï¼Œå¹¶ä¸ä»£è¡¨ç»æµç‹¬ç«‹æ²¡æ‹¥æœ‰åˆ›é€ è´¢å¯Œçš„èƒ½åŠ›æ‰çœŸæ­£å¯é ã€‚ è‡ªæˆ‘æå‡ èº«ä½“å±‚é¢ï¼ˆå¥åº·é¥®é£Ÿã€å……è¶³ä¼‘æ¯ã€å®šæœŸé”»ç‚¼ï¼‰ ç²¾ç¥å±‚é¢ï¼ˆæ¬£èµä¼˜ç§€çš„æ–‡å­¦ã€ä¸è‡ªç„¶è¿›è¡Œäº¤æµï¼‰ æ™ºåŠ›å±‚é¢ï¼ˆé˜…è¯»æ–‡å­¦å·¨è‘—ã€åäººè‡ªä¼ ã€è‡ªå·±å†™ä½œè®°å½•æƒ³æ³•å’Œç»å†ï¼‰ ç¤¾ä¼š/æƒ…æ„Ÿå±‚é¢ï¼ˆè‰¯å¥½çš„æ²Ÿé€šã€ç†è§£å°Šé‡ä»–äººï¼‰ ç”Ÿæ´»æ˜¯éœ€è¦ä¸æ–­å»å­¦ä¹ çš„ï¼Œç¤¾ä¼šå˜åŒ–å¾ˆå¿«ï¼Œå¦‚æœä¸åŠ ä»¥åŠªåŠ›ï¼Œå¾ˆå¯èƒ½ä¼šè¢«ç¤¾ä¼šæ‰€æ·˜æ±°ï¼Œæ‡‚å¾—æŠ•èµ„è‡ªå·±æ˜¯éå¸¸æ­£ç¡®çš„é€‰æ‹©ï¼Œæ­£å¦‚é‚£å¥å½“å¹´å­¦è‹±è¯­çš„è°šè¯­ â€œ You are never too old to learn things.â€ ä¹Ÿå¸Œæœ›è‡ªå·±åœ¨ä»Šåæ— è®ºå·¥ä½œã€å®¶åº­ã€è¿˜æ˜¯ç”Ÿæ´»ä¸Šéƒ½èƒ½è·µè¡Œè¿™ä¸ƒä¸ªä¹ æƒ¯ï¼Œæˆä¸ºçœŸæ­£çš„ã€é«˜æ•ˆèƒ½ã€ï¼Œæ­£å¦‚ä½œè€…æ‰€è¯´ï¼šâ€œäººç”Ÿå°±æ˜¯ä¸€ä¸ªèºæ—‹æ¡¨å¼çš„ä¸Šå‡è¿‡ç¨‹ï¼Œæˆ‘ä»¬åªæœ‰ä¸æ–­çš„å­¦ä¹ ã€å®è·µã€åšæŒå…»æˆï¼Œèƒ½è®©æˆ‘ä»¬ç»ˆèº«å—ç›Šçš„ä¹ æƒ¯ï¼Œæˆ‘ä»¬æ‰èƒ½ç¨³æ­¥çš„å‘ä¸Šè€Œç”Ÿï¼Œæˆ‘ä»¬æ‰èƒ½å¤Ÿåœ¨å„ç§é—®é¢˜å’Œå›°å¢ƒä¸­ï¼Œç ´èŒ§è€Œå‡ºã€‚â€","categories":[{"name":"æ‚è®°","slug":"æ‚è®°","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/æ‚è®°/"}],"tags":[{"name":"æ‚è®°","slug":"æ‚è®°","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/æ‚è®°/"}]},{"title":"2019.10æœˆæ€»ç»“","slug":"2019.10æœˆæ€»ç»“","date":"2019-11-01T10:25:08.000Z","updated":"2019-11-17T09:52:26.000Z","comments":true,"path":"2019/11/01/2019.10-yue-zong-jie/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/11/01/2019.10-yue-zong-jie/","excerpt":"","text":"è½¬çœ¼å·²ç»11æœˆä»½äº†ï¼Œå†™ä¸‹æœ€è¿‘å­¦åˆ°çš„ä¸€äº›çŸ¥è¯†ä»¥åŠè¿™ä¸ªæœˆéœ€è¦å­¦ä¹ çš„çŸ¥è¯†ï¼Œè™½ç„¶å‡ºæ¥å®ä¹ åæ—¶é—´å¯èƒ½æ¯”è¾ƒå°‘ï¼Œå†™åšå®¢çš„é¢‘ç‡æ¯”è¾ƒä½ï¼Œä½†æ˜¯ä¸€ä¸ªæœˆè¿˜æ˜¯å¿…é¡»è¦æ€»ç»“ä¸€ä¸‹çš„ï¼š 1. DOã€DTOã€VOã€POJOçš„åŒºåˆ«å‚è€ƒé˜¿é‡Œå·´å·´ä»£ç è§„èŒƒï¼š DOï¼ˆ Data Objectï¼‰ï¼šä¸æ•°æ®åº“è¡¨ç»“æ„ä¸€ä¸€å¯¹åº”ï¼Œé€šè¿‡DAOå±‚å‘ä¸Šä¼ è¾“æ•°æ®æºå¯¹è±¡ã€‚ DTOï¼ˆ Data Transfer Objectï¼‰ï¼šæ•°æ®ä¼ è¾“å¯¹è±¡ï¼ŒServiceæˆ–Managerå‘å¤–ä¼ è¾“çš„å¯¹è±¡ã€‚ BOï¼ˆ Business Objectï¼‰ï¼šä¸šåŠ¡å¯¹è±¡ã€‚ ç”±Serviceå±‚è¾“å‡ºçš„å°è£…ä¸šåŠ¡é€»è¾‘çš„å¯¹è±¡ã€‚ VOï¼ˆ View Objectï¼‰ï¼šæ˜¾ç¤ºå±‚å¯¹è±¡ï¼Œé€šå¸¸æ˜¯Webå‘æ¨¡æ¿æ¸²æŸ“å¼•æ“å±‚ä¼ è¾“çš„å¯¹è±¡ã€‚ POJOï¼ˆ Plain Ordinary Java Objectï¼‰ï¼šåœ¨æœ¬æ‰‹å†Œä¸­ï¼Œ POJOä¸“æŒ‡åªæœ‰setter/getter/toStringçš„ç®€å•ç±»ï¼ŒåŒ…æ‹¬DO/DTO/BO/VOç­‰ã€‚ Queryï¼šæ•°æ®æŸ¥è¯¢å¯¹è±¡ï¼Œå„å±‚æ¥æ”¶ä¸Šå±‚çš„æŸ¥è¯¢è¯·æ±‚ã€‚ æ³¨æ„è¶…è¿‡2ä¸ªå‚æ•°çš„æŸ¥è¯¢å°è£…ï¼Œç¦æ­¢ä½¿ç”¨Mapç±»æ¥ä¼ è¾“ã€‚ é¢†åŸŸæ¨¡å‹å‘½åè§„çº¦ï¼š æ•°æ®å¯¹è±¡ï¼šxxxDOï¼Œxxxå³ä¸ºæ•°æ®è¡¨åã€‚ æ•°æ®ä¼ è¾“å¯¹è±¡ï¼šxxxDTOï¼Œxxxä¸ºä¸šåŠ¡é¢†åŸŸç›¸å…³çš„åç§°ã€‚ å±•ç¤ºå¯¹è±¡ï¼šxxxVOï¼Œxxxä¸€èˆ¬ä¸ºç½‘é¡µåç§°ã€‚ POJOæ˜¯DO/DTO/BO/VOçš„ç»Ÿç§°ï¼Œç¦æ­¢å‘½åæˆxxxPOJOã€‚ 2.ä»£ç è§„èŒƒä»£ç ä¸€å®šè¦è§„èŒƒï¼Œè¿™ä¸€ç‚¹å¯ä»¥å‚è€ƒé˜¿é‡Œå·´å·´ä»£ç è§„èŒƒï¼Œæ€»ç»“çš„è¿˜æ˜¯å¾ˆè¯¦ç»†çš„ï¼Œé€šè¯»ä¸€éï¼Œä¼šæ”¶è·è®¸å¤šï¼Œæœ€è¿‘æˆ‘ä¹Ÿæ˜¯ä¸€ç›´å«Œå¼ƒè‡ªå·±çš„ä»£ç æ€ä¹ˆå¯ä»¥è¿™ä¹ˆä¸‘ï¼Œè€Œä¸”æ— ç« å¯å¾ªï¼Œå°±æ¯”å¦‚è¯´ æ³¨é‡Šï¼Œä¸€èˆ¬æ¥å£ã€ç±»ã€æšä¸¾ç±»çš„å±æ€§ã€ç±»å±æ€§ã€ç±»æ–¹æ³•è¿™äº›éƒ½æ˜¯éœ€è¦æ³¨é‡Šçš„ï¼Œä¸ç„¶ä¸å¥½ç»´æŠ¤ï¼› èƒ½ç®€æ´å°±ç®€æ´ï¼Œæ¯”å¦‚è¯´èƒ½ä½¿ç”¨lambdaè¡¨è¾¾å¼é‚£ç§å°±ä½¿ç”¨é‚£ç§ï¼Œä½¿äººçœ‹èµ·æ¥å¾ˆèˆ’æœï¼› é¿å…è¸©å‘ï¼Œè¿™é‡Œå°±è¦é ç»éªŒï¼Œæ¯”å¦‚è¯´ä¸è¦åœ¨ArrayList.foreaché‡Œé¢è¿›è¡Œaddå’Œremoveæ“ä½œï¼Œä¼šæŠ¥å¼‚å¸¸ï¼Œåº”è¯¥ä½¿ç”¨è¿­ä»£å™¨ï¼› æ³¨æ„æ—¶é—´å¤æ‚åº¦ï¼ŒSQLè¯­å¥ç¼–å†™è¦è§„èŒƒã€‚ è°·æ­Œç¼–ç è§„èŒƒ æ™“é£è½»æŠ€æœ¯å°ç«™ 3.Gitçš„å­¦ä¹ å¯¹äºGitçš„å­¦ä¹ è¿˜æ˜¯å®æ“æ¯”è¾ƒå¥½ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚crisonä¹Ÿè·Ÿæˆ‘ä»¬åŸ¹è®­äº†Gitçš„å¸¸è§„ä½¿ç”¨ä»¥åŠåŸç†ï¼› Gitçš„åˆ†æ”¯æ“ä½œå…¶å®å°±æ˜¯åŸºäºé“¾è¡¨æ¥å®ç°ï¼Œé“¾è¡¨åˆ‡æ¢åˆ†æ”¯å¯ä»¥è¾¾åˆ°Oï¼ˆ1ï¼‰çš„æ—¶é—´å¤æ‚åº¦ï¼Œåˆ‡æ¢åˆ†æ”¯æ—¶å°±æŠŠHeadæŒ‡é’ˆæŒ‡å‘å“ªä¸ªåˆ†æ”¯ï¼› Gitä¸ä¿å­˜æ–‡ä»¶çš„å†…å®¹ï¼ŒGitåªå­˜å‚¨å˜æ›´è®°å½•ã€‚ git init â€“bare è·Ÿ git init çš„åŒºåˆ«ï¼šgit init â€“bare åªæ˜¯new ä¸€ä¸ªè£¸éœ²çš„.gitæ–‡ä»¶ï¼Œä¸èƒ½ç¼–è¾‘æ–‡ä»¶çš„å†…å®¹ï¼Œåªæœ‰.gitæ–‡ä»¶git init çš„è¯é™¤äº†æœ‰.gitæ–‡ä»¶å¤–ï¼Œè¿˜å¯ä»¥è®°å½•æ–‡ä»¶å†…å®¹ Gitçš„è¿œç¨‹ä»“åº“ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°ï¼Œä¸ä¸€å®šåªåœ¨è¿œç«¯ï¼› .gitæ–‡ä»¶åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š 4.ä¸­å°æˆ˜ç•¥æ€æƒ³æˆ‘ä¸ªäººç†è§£çš„ä¸­å°å°±æ˜¯è¯´æŠŠä¸€äº›å…¬å…±çš„ä¸œè¥¿æŠ½å–å‡ºæ¥ï¼Œä¸è¦åšé‡å¤çš„ä¸œè¥¿ã€‚å¤§ä¸­å°ï¼Œå°å‰å°ï¼Œç®€ä¾¿å¼€å‘ã€‚å¯ä»¥å‚è€ƒä»¥ä¸‹æ–‡ç« ï¼šé˜¿é‡Œä¸­å°æ€æƒ³ThoughtWorksæ´è§ 5. Mybatis-Plus çš„å¸¸è§„ä½¿ç”¨æœ€è¿‘ç”±äºä¸šåŠ¡é©±åŠ¨ï¼ŒæŒä¹…å±‚çš„æ¡†æ¶æ˜¯Mybatis-Plusï¼ŒèŠ±ä¸€æ³¢æ—¶é—´å†å»å¥½å¥½äº†è§£ä»¥ä¸‹ï¼ŒçœŸçš„ï¼Œå®˜æ–¹æ–‡æ¡£å°±è¶³å¤Ÿï¼Œå­¦ä»€ä¹ˆéƒ½æ˜¯å¦‚æ­¤ï¼Œå¯ä»¥ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šå­¦ä¹ ã€‚ ä½¿ç”¨è¿™äº›ä¸»è¦æ˜¯è¿›è¡Œå•è¡¨çš„ç®€å•æ“ä½œï¼Œå…¶ä¸­è¿˜åŒ…å«ä¸€äº›lambdaè¡¨è¾¾å¼ã€‚ä½¿ç”¨lambdaQueryç›¸å¯¹æ›´å¥½ä¸€ç‚¹ï¼Œä¸ç”¨ç¡¬ç¼–ç ï¼Œä»¥åæ¯”è¾ƒå¥½ç»´æŠ¤ã€‚ 6. PostMançš„ä½¿ç”¨ é€‚å½“å»ºç«‹å·¥ä½œåŒº å»ºç«‹æ”¶è—å¤¹ï¼Œä»¥åæ–¹ä¾¿è¿›è¡Œæµ‹è¯• é€‚å½“ä½¿ç”¨å˜é‡è¿™æ ·åœ¨è·¯å¾„ä¸­å°±å¯ä»¥é€šè¿‡ã€å’Œæ¥è·å–å€¼ï¼Œè¿™æ ·æ˜¾ç¤ºçš„å°±å¾ˆæ¸…æ¥šã€‚ 7.å…¶ä»–BeanUtils.copyPropertiesæ˜¯ä¸€ä¸ªæµ…æ‹·è´æ–¹æ³•ï¼Œå¤åˆ¶å±æ€§æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠDTOå¯¹è±¡å’Œè¦è½¬åŒ–çš„å¯¹è±¡ä¸¤ä¸ªçš„å±æ€§å€¼è®¾ç½®ä¸ºä¸€æ ·çš„åç§°ï¼Œå¹¶ä¸”ä¿è¯ä¸€æ ·çš„ç±»å‹å°±å¯ä»¥äº†ã€‚å¦‚æœä½ åœ¨åšDTOè½¬åŒ–çš„æ—¶å€™ä¸€ç›´ä½¿ç”¨setè¿›è¡Œå±æ€§èµ‹å€¼ï¼Œé‚£ä¹ˆè¯·å°è¯•è¿™ç§æ–¹å¼ç®€åŒ–ä»£ç ï¼Œè®©ä»£ç æ›´åŠ æ¸…æ™°! org.springframework.beans.BeanUtils.copyProperties(source, dest) å°†sourceå¤åˆ¶ç»™dest org.apache.commons.beanutils.BeanUtils.copyProperties(dest,source) å°†destèµ‹å€¼ç»™source å¯¹äºä»¥ä¸Šä¸¤ç§æœ€å¥½å†™ä¸€ä¸ªå·¥å…·ç±»æ¥è¿›è¡Œèµ‹å€¼ï¼Œä¸ç„¶æŸå¤©æ”¹ä»£ç çš„è¯ä¼šå¾ˆéº»çƒ¦ã€‚ TODO List Dockerï¼ˆå‘½ä»¤ã€åŸç†ã€ç”¨é€”ï¼‰ K8sï¼ˆåŸç†å¯å‚è€ƒæ–‡æ¡£ï¼‰ Linuxï¼ˆä¸€äº›ä¸å¸¸ç”¨çš„å‘½ä»¤ä¹Ÿè¦ä¼šï¼‰ Java8ï¼ˆLambdaè¡¨è¾¾å¼ï¼‰ Kafka è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ï¼Œæ„Ÿè§‰è¿˜æ˜¯å¾ˆå¤šä¸œè¥¿è¦å­¦å“ˆğŸ˜‚ï¼Œå¸ˆçˆ¶é¢†è¿›é—¨ï¼Œä¿®è¡Œè¿˜æ˜¯å¾—é ä¸ªäººï¼Œæœ‰å¹¸çš„æ˜¯å…¬å¸å¾ˆå¤šå¤§ç‰›å¯ä»¥æ•™ä½ ï¼Œä¸æ‡‚å°±é—®ï¼Œæ”¶è·é¢‡ä¸°å¯Œã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/Java/"}]},{"title":"åªæœ‰ä¸€æ¬¡çš„ç§‹æ‹›","slug":"åªæœ‰ä¸€æ¬¡çš„ç§‹æ‹›","date":"2019-10-10T10:25:08.000Z","updated":"2020-03-23T15:28:29.716Z","comments":true,"path":"2019/10/10/zhi-you-yi-ci-de-qiu-zhao/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/10/10/zhi-you-yi-ci-de-qiu-zhao/","excerpt":"","text":"å¹¿å·æœ¬ç§‘ç§‹æ‹›ä¹‹è·¯ï¼ŒJavaåå°æ–¹å‘ è¯´è¯´è¿™ä¸¤ä¸ªå¤šæœˆçš„æ„Ÿå—å§ï¼Œçº¯å±ä¸ªäººæ€»ç»“è´´ï¼Œä¸å–œå‹¿å–·å“ˆï¼Œä»Šå¤©ç®—æ˜¯æƒ³ç»“æŸç§‹æ‹›äº†ï¼Œä¸€è·¯èµ°æ¥ï¼ŒçœŸçš„å¾ˆå¤šæ„Ÿæ¦‚ï¼Œä¸çŸ¥é“ä»ä½•è¯´èµ·ï¼Œå¾ˆå¹¸è¿çš„æ˜¯æ‹¿åˆ°äº†ä¸€ä¸ªå°å…¬å¸çš„offerï¼Œbaseæ·±åœ³ï¼Œè¿™ç®—æ˜¯å¯¹æˆ‘è¿™ä¸ªèœé¸¡å¾ˆå¤§çš„é¼“åŠ±äº†å§ï¼Œå…¶ä¸­èµ°äº†å¾ˆå¤šå¼¯è·¯ï¼Œç‰›å®¢çš„åå­—ä¹Ÿä»â€œäº’è”ç½‘top50å°±è¡Œâ€æ”¹ä¸ºâ€œæ˜¯å®¶å…¬å¸å°±è¡Œâ€ï¼Œemmã€‚ä¹Ÿå¾ˆå¼€å¿ƒæœ‰å‡ ä¸ªä¸€èµ·å¥‹æ–—ç§‹æ‹›çš„å°ä¼™ä¼´ï¼Œå°¤å…¶æ˜¯èˆå‹ï¼Œä»ä¸‰æœˆä»½è¯•æ°´æ˜¥æ‹›ï¼Œé‚£æ—¶å€™çœŸçš„æ˜¯è¢«å®Œè™ï¼Œåˆ°åæ¥ä¸€èµ·æš‘å‡å»å®ä¹ ï¼Œå†åæ¥ä¹æœˆä»½è¾èŒç§‹æ‹›ï¼Œæ–¹å‘å¾ˆæ˜ç¡®ï¼Œæœ€ç»ˆä¸€èµ·ç§‹æ‹›çš„å°ä¼™ä¼´ä¹Ÿéƒ½æœ‰äº†å½’å®¿ï¼Œå¾ˆå¼€å¿ƒ:laughing: ä¹æœˆä»½è¾èŒåï¼Œå°±ä¸“å¿ƒå‡†å¤‡åŸºç¡€+ç®—æ³•ï¼Œè™½ç„¶åœ¨å…«æœˆä»½å°±å·²ç»æœ‰å‡†å¤‡äº†åŸºç¡€é‚£äº›ï¼Œæˆ‘èµ°çš„æ˜¯ Javaåå°æ–¹å‘ï¼Œå› æ­¤ï¼Œé¢è¯•å’Œç¬”è¯•è€ƒçš„æ¯”è¾ƒå¤šçš„å°±æ˜¯è®¡ç®—æœºç½‘ç»œ+JavaåŸºç¡€+æ•°æ®åº“+Javaå¹¶å‘+JVM+æ¡†æ¶+æ“ä½œç³»ç»Ÿ+Linux+è®¾è®¡æ¨¡å¼ï¼Œè€ƒçš„å†…å®¹è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œéœ€è¦ä½ èŠ±æ—¶é—´å»å‡†å¤‡ï¼Œè¿˜æœ‰ç®—æ³•å¾ˆé‡è¦ï¼ç”±äºæˆ‘ä¹‹å‰åˆ·çš„æ˜¯LeetCodeï¼Œåˆ°ä¸ƒæœˆä»½æ‰åˆ·äº†100é“å·¦å³ï¼Œåæ¥å°±å¼€å§‹åˆ·å‰‘æŒ‡Offerï¼Œåˆ°æˆ‘ç»“æŸçš„æ—¶å€™è¿˜æ˜¯æ²¡åˆ·å®Œï¼Œç½ªè¿‡Â·Â·ï¼Œåªåˆ·äº†50é“ï¼Œå› ä¸ºåé¢ä¸€äº›ç¬”è¯•é¢è¯•è¿ç€æ¥ï¼Œè®©æˆ‘æ²¡æ—¶é—´åˆ·ã€‚è¿˜æœ‰é¡¹ç›®ä¹Ÿæ˜¯æŒºé‡è¦çš„ï¼Œé¢è¯•ä¸­ä¼šé—®ä½ é¡¹ç›®æ¶æ„ï¼Œæ•°æ®åº“ä¸­è¡¨çš„è®¾è®¡ç­‰ç­‰ï¼Œæ‰€ä»¥é¡¹ç›®ä¹Ÿæ˜¯è¦å¾ˆäº†è§£æ‰è¡Œã€‚æ„Ÿè§‰è‡ªå·±å¿ƒé‡Œè¿˜æ˜¯æœ‰ç‚¹é€¼æ•°ï¼Œå› æ­¤å¤§å‚æ˜¯æŠ•éƒ½æ²¡æŠ•ï¼Œå‡ ä¹éƒ½æ˜¯æŠ•ä¸­å°å‚ï¼ŒæŠ•çš„å…¬å¸æœ‰å¾ˆå¤šï¼Œè¯´ä¸‹è¢«é¢è¯•çš„å…¬å¸å§ã€‚:point_down: :one:TCLï¼šå‡‰ã€‚ç½‘ç”³ï¼Œç„¶åçº¿ä¸Šç¬”è¯•ï¼Œéš”å¤©é¢è¯•ï¼Œç§‹æ‹›å¤„å¥³é¢ï¼Œå¾ˆéš¾å—ï¼Œå½“æ—¶æ²¡æœ‰ä»€ä¹ˆé¢è¯•ç»éªŒï¼Œï¼ˆåœ¨è¿™é‡Œæé†’å¤§å®¶å¦‚æœæœ‰ç©ºå¤šå»æŠ•ç®€å†ï¼Œæ— è®ºå¤§å°å…¬å¸ï¼Œå»ç§¯ç´¯é¢è¯•ç»éªŒï¼‰TCLå½“æ—¶åªæœ‰ä¸€è½®æŠ€æœ¯é¢ï¼Œåªè¦è¿‡äº†æŠ€æœ¯é¢ï¼Œéš”å¤©å°±å®‰æ’HRé¢ï¼Œé¢è¯•æ—¶ç­”å¾—æŒºä¸å¥½çš„ï¼Œå¾ˆå¤šä¸œè¥¿æ²¡æŠŠæ¡ä½ï¼Œæ¯”å¦‚é—®åˆ°é¡¹ç›®ä¸­è¡¨å¾—è®¾è®¡ï¼Œé‚£æ—¶å€™æ²¡æ€ä¹ˆæ³¨æ„ï¼Œå†åŠ ä¸Šå»é¢è¯•çš„åŒå­¦å¾ˆå¤šéƒ½æ˜¯211ã€985ï¼ŒæŠ€æœ¯å·®åŠ ä¸Šå­¦å†å·®ï¼Œä¸æŒ‚ä¹Ÿéš¾æ€ªã€‚ã€‚å¯¹äº†ï¼Œå½“æ—¶è¿˜æœ‰ä¸€ä¸ªè‹±è¯­çš„è‡ªæˆ‘ä»‹ç»ï¼Œè¿™ä¹Ÿè®©æˆ‘çŒä¸åŠé˜²ï¼Œè™½ç„¶è¿‡äº†å…­çº§ã€‚ :two:æŸç¿ç§‘æŠ€ï¼šå‡‰ã€‚æ‹‰é’©ä¸ŠæŠ•é€’çš„å…¬å¸ï¼Œå…¬å¸åœ¨çŒå¾·é‚£è¾¹46æ¥¼ï¼Œé£æ™¯å¾ˆä¸é”™ï¼ŒåŠå…¬ç¯å¢ƒä¹Ÿå¾ˆèˆ’æœï¼Œåœ¨å­—èŠ‚è·³åŠ¨æ—è¾¹ï¼Œå…ˆæ˜¯åšäº†ç¬”è¯•ï¼Œç„¶åé¢è¯•ï¼Œé—®çš„é—®é¢˜éƒ½æ˜¯åŸºç¡€é¢˜ï¼Œå·®ä¸å¤šæ˜¯ç¬”è¯•é¢˜ä¸Šé¢çš„é—®é¢˜ï¼Œæ„Ÿè§‰å›ç­”çš„è¿˜å¯ä»¥ï¼Œæœ€åè¿˜æ˜¯æŒ‚äº†~:confused: :three:è…¾è®¯å¾®ä¿ï¼šå‡‰ã€‚ç®—æ˜¯ç§‹æ‹›æœ€æƒ³å»çš„å…¬å¸äº†å§~~å…ˆæ˜¯å»å¤§å­¦åŸåå·¥ç¬”è¯•ï¼Œç¬”è¯•ä¸éš¾ï¼Œæ„Ÿè§‰åšçš„è¿˜ä¸é”™ï¼Œåæ¥æ”¶åˆ°é¢è¯•ï¼Œä¸‰è½®é¢è¯•ï¼Œä¸¤è½®æŠ€æœ¯+HRé¢ï¼Œé‚£å‡ å¤©éƒ½æ˜¯ä»èŠ±éƒ½è·‘åˆ°ç•ªç¦ºï¼Œç¡®å®å¾ˆç´¯ï¼Œä¸€é¢å›ç­”çš„æ„Ÿè§‰è¿˜å¯ä»¥ï¼Œä¸è¿‡æœ‰é“æ™ºåŠ›é¢˜å›ç­”ä¸å‡ºæ¥ï¼Œåæ¥ä¹Ÿæ”¶åˆ°äº†äºŒé¢é€šçŸ¥ï¼ŒäºŒé¢ä¸»è¦æ˜¯é—®ä½ é¡¹ç›®é—®é¢˜ä»¥åŠå¯¹è¯­è¨€çš„ç†è§£è¿˜æœ‰èŒä¸šç”Ÿæ¶¯è§„åˆ’ï¼Œå…¶ä¸­é—®åˆ°é¡¹ç›®ä¸­ä¸€ä¸ªåŠŸèƒ½çš„æ—¶åºå›¾ï¼Œè¿™ä¸ªå½“æ—¶æœ‰ç‚¹æ‡µï¼Œæ²¡ç­”ä¸Šæ¥ï¼Œæ„Ÿè§‰æœ‰ç‚¹å¿ƒé…¸ï¼Œåé¢ä¹Ÿé¢åˆ°äº†HRé¢ï¼Œå½“æ—¶çœ‹äº†offershowå–Šäº†æœŸæœ›è–ªèµ„ï¼Œæ„Ÿè§‰å–Šé«˜äº†ï¼Œç½ªè¿‡ï¼Œåé¢ä¹Ÿæ²¡æ”¶åˆ°offerï¼Œåæ¥å¾—çŸ¥ä¸€ä¸ªæ ¡å‹æ”¶åˆ°offerï¼ˆç”µå­ä¸“ä¸šï¼‰ï¼ŒçœŸæ˜¯å¼ºå•Šã€‚ã€‚ã€‚ :four:ä¸‰ä¸ƒäº’å¨±ï¼šå‡‰ã€‚å½“æ—¶è·Ÿèˆå‹ä¸€èµ·çº¿ä¸Šç¬”è¯•ï¼Œç„¶è€Œä»–æ”¶åˆ°ä¸‰ä¸ƒäº’å¨±é¢è¯•ï¼Œæˆ‘æ²¡æ”¶åˆ°ï¼Œäºæ˜¯å°±æƒ³èµ·äº†éœ¸é¢çš„æƒ³æ³•ï¼Œå“ˆå“ˆå“ˆï¼Œæœ€ç»ˆä¹Ÿç»™äº†é¢è¯•æœºä¼šï¼Œä¸è¿‡æ²¡æŠŠæ¡ä½ï¼Œå½“æ—¶æŠ•çš„Javaæ¸¸æˆæœåŠ¡ç«¯å¼€å‘ï¼Œç°åœºåšç¬”è¯•é¢˜ï¼Œé—®æ€ä¹ˆè®¾è®¡ä¸€ä¸ªæ¸¸æˆæœåŠ¡å™¨ï¼Œä½ è§‰å¾—Javaæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Œéƒ½æ˜¯å¼€æ”¾é¢˜ç›®ï¼Œä¸è¿‡é¢è¯•æ„Ÿå—å¾ˆå¥½ï¼Œé¢è¯•å®˜å¾ˆæ¸©å’Œï¼Œä¸è¿‡ä¸€é¢å°±æŒ‚äº†ã€‚ :five:TTè¯­éŸ³ï¼šå‡‰ã€‚å½“æ—¶æ˜¯å»å®£è®²ä¼šï¼Œç„¶åç°åœºç¬”è¯•ï¼Œæœ€åé¢è¯•çš„ï¼Œè¿™å®¶å…¬å¸æ„Ÿè§‰ä¹Ÿå¾ˆä¸é”™ï¼Œå› ä¸ºæ˜¯åœ¨å¹¿å·ï¼Œæ„Ÿè§‰å¹³å°ä¹Ÿè¿˜å¯ä»¥ï¼Œä¸€è½®é¢è¯•æ˜¯éƒ¨é—¨äº¤å‰é¢ï¼Œæœ‰ä¸¤ä¸ªé¢è¯•å®˜ï¼Œä¸€ä¸ªæ˜¯C++çš„ï¼Œä¸€ä¸ªæ˜¯Goçš„ï¼ŒäºŒè½®é¢è¯•æ˜¯æŠ€æœ¯æ€»ç›‘ï¼Œé—®çš„éƒ½æ˜¯ä¸€äº›çœ‹æ³•ç›¸å…³çš„é—®é¢˜ï¼Œæ„Ÿè§‰ç­”å¾—ä¸æ˜¯å¾ˆå¥½ï¼Œä¹Ÿæœ‰ç‚¹åæ‚”ã€‚ã€‚ã€‚è¿™å®¶å…¬å¸å¾—HRé¢ç®—æ˜¯é¢å¾—æœ€ä¹…å¾—ä¸€æ¬¡äº†ï¼Œé¢äº†40åˆ†é’Ÿï¼ŒæœŸé—´é—®ä½ å®ä¹ åšäº†ä»€ä¹ˆï¼Œå…·ä½“åˆ°æŸä¸ªåŠŸèƒ½å¾—å®ç°ç­‰ç­‰ã€‚ã€‚æœ€åå‡‰äº†ã€‚:cold_sweat: :six:è¯—æ‚¦ç½‘ç»œï¼šå‡‰ã€‚å®£è®²ä¼šè®²çš„å¾ˆå¥½ï¼Œå¯æ˜¯æˆ‘å°±æ˜¯æƒ³dissè¿™å®¶å…¬å¸ï¼Œä¸€é¢æ˜¯HRé¢ï¼Œ é—®äº†ä¸€äº›ç®€å•å¾—é—®é¢˜ï¼Œç„¶åå°±è®©ä½ å›å»ç­‰é€šçŸ¥ã€‚ã€‚è¯´å¦‚æœé€šè¿‡åé¢ä¼šæœ‰äºŒé¢ã€‚åæ¥éš”å¤©äºŒé¢ï¼Œæ‹›çš„æ˜¯æœåŠ¡å™¨ç«¯å¼€å‘ï¼Œé¢è¯•å®˜çœ‹æˆ‘ç®€å†ä¸Šçš„é¡¹ç›®éƒ½æ˜¯Springçš„ï¼Œé—®æˆ‘Springæ˜¯ä¸æ˜¯å‰ç«¯æ¡†æ¶ã€‚ã€‚åé¢ä¹Ÿé—®ä¸€äº›å¾ˆæ°´çš„é—®é¢˜ï¼Œæ„Ÿè§‰éƒ½ç­”å‡ºæ¥äº†ï¼Œåæ‰‹ç»™ä½ ä¸€ä¸ªæŒ‚ï¼Œè®©ä½ å¯ä»¥å›å»äº†ï¼Ÿä¸€èˆ¬çš„é¢è¯•å®˜è¿˜ä¼šå°Šé‡é¢è¯•è€…ï¼Œèµ·ç ä¼šé—® â€œä½ è¿˜æœ‰ä»€ä¹ˆéœ€è¦é—®çš„å—ï¼Ÿâ€ å“¼ï¼Œä½ å´å•¥éƒ½æ²¡æœ‰ã€‚ã€‚ã€‚ :seven:æ€ä¸ºç§‘æŠ€ï¼šGetã€‚è¿™å®¶å…¬å¸ä¹Ÿæ˜¯æˆ‘åé¢çš„å½’å®¿ï¼Œå®£è®²ä¼šæ‹¿iPadå½“å¥–å“ï¼Œå…¥èŒæ ‡é…å°å¼macï¼Œæ„Ÿè§‰å¥½çˆ½çš„èŠ‚å¥ï¼Œå½“æ—¶å¥½åƒè¿˜æŒºå¤šäººçš„ï¼Œåæ¥ç¬”è¯•åšçš„å¯ä»¥ï¼Œéš”å¤©æ”¶åˆ°é¢è¯•ï¼Œä¸€é¢æ˜¯HRé¢ï¼ŒäºŒé¢æŠ€æœ¯æ€»ç›‘é¢ï¼Œä¸‰é¢CEOé¢ï¼Œæ•´ä½“å›ç­”çš„éƒ½ä¸é”™ï¼Œäºæ˜¯å½“å¤©æ™šä¸Šå°±æ”¶åˆ°ç”µè¯ï¼Œéš”å¤©åœ¨å›å®¶è¿‡å›½åº†çš„å¤§å·´ä¸Šæ”¶åˆ°offerã€‚ :eight:ç§Ÿç§Ÿè½¦ï¼šGETã€‚ç¬”è¯•æ˜¯åœ¨å›½åº†å‰ï¼Œåˆšå¼€å§‹è¿˜ä»¥ä¸ºå‡‰äº†ï¼Œå› ä¸ºç¬”è¯•é¢˜æœ‰ç‚¹éš¾åº¦ï¼Œè¦æ‰‹å†™HashMapå’Œæ‰‹å†™çº¿ç¨‹æ± ã€‚ã€‚ã€‚åæ¥æ”¶åˆ°é¢è¯•åœ¨å›½åº†åï¼Œé¢è¯•ä½“éªŒè¿˜æ˜¯ä¸é”™çš„ï¼Œåªé¢äº†ä¸€é¢ï¼Œä¸€é¢75åˆ†é’Ÿï¼Œé¢è¯•å®˜å‡ ä¹æŠŠæ‰€æœ‰è¯¥é—®çš„é—®é¢˜éƒ½é—®äº†ï¼Œæˆ‘ä¹Ÿæ„Ÿè§‰æˆ‘å…¨éƒ¨çŸ¥è¯†éƒ½è¢«ä»–æŒ–å‡ºæ¥çš„èŠ‚å¥ï¼Œé¢è¯•å®˜çš„æ°´å¹³ä¹Ÿå¾ˆé«˜ï¼Œä¼šå¾ˆè®¤çœŸä½ è¯´çš„æ¯ä¸€å¥è¯ï¼Œç„¶åä»”ç»†æ·±å…¥çš„é—®ï¼Œä¹Ÿä¼šå‡ºä¸€äº›åœºæ™¯é¢˜è®©ä½ åˆ¤æ–­è¯¥æ€ä¹ˆåšã€‚äºŒé¢40åˆ†é’Ÿï¼Œå¾ˆå¤šåœºæ™¯ç›®ï¼Œä¼šè®©ä½ æ ¹æ®å…·ä½“æƒ…å†µå¦‚ä½•è®¾è®¡ä¸€ä¸ªç³»ç»Ÿï¼Œè¿˜æœ‰é—®ä¸€äº›åŸºç¡€é¢˜ï¼ŒTCPã€UDPåº”ç”¨ã€æ•°æ®åº“é‚£äº›ï¼ŒHR15åˆ†é’Ÿï¼Œé—®äº†å¤§å­¦ç”Ÿæ´»ã€å®ä¹ ç»å†ã€æ„å‘è–ªèµ„ç­‰ç­‰ã€‚:arrow_down_small:è¯´å®è¯é¢è¯•è¿™ä¹ˆå¤šä¸‹æ¥ï¼Œç¡®å®å¥½ç´¯ï¼Œç™½å¤©é¢è¯•ï¼Œæ™šä¸Šå®£è®²ä¼šç¬”è¯•ï¼Œæœ‰ä¸€å‘¨æ˜¯è¿‡çš„å¾ˆç´¯çš„ã€‚å°¤å…¶å­¦æ ¡æ¯”è¾ƒåè¿œçš„åœ°æ–¹çš„è¯ï¼Œç»å¸¸è¦è·‘åˆ°å¤§å­¦åŸé‚£è¾¹å»ï¼Œè€Œä¸”å½“è¿˜æ²¡æœ‰æ‹¿åˆ°offerçš„æ—¶å€™ï¼Œå¿ƒæ€ä¼šæœ‰ç‚¹å¤±è½ï¼Œå½“æ—¶ä¹Ÿæƒ³å¥½äº†å°±ç®—å›½åº†å‰æ²¡æœ‰æ‹¿åˆ°ä¹Ÿè¦å›å®¶ï¼Œå› ä¸ºæ•´ä¸ªæš‘å‡éƒ½æ²¡å›å»ï¼Œç¡®å®æœ‰ç‚¹æƒ³å®¶ã€‚åˆ°ç°åœ¨ä¹Ÿå‡ ä¹ä¸æƒ³å»é¢è¯•äº†ï¼Œå®£è®²ä¼šä¹Ÿæ”¾å¼ƒäº†ï¼Œåƒ58åŒåŸã€æˆ¿å¤šå¤šã€åœŸå·´å…”ã€æ˜“å¹»ã€æ•°å­—å¹¿ä¸œçš„ç¬”è¯•ä¹Ÿéƒ½æ‹’ç»äº†ï¼Œæƒ³å¥½å¥½å‡†å¤‡ä¸‹æ¥ä¸‹æ¥çš„å…¥èŒï¼Œè™½ç„¶è¯´æ¯”è¾ƒå–œæ¬¢å¹¿å·ï¼Œå¯èƒ½æ˜¯å› ä¸ºå­¦æ ¡åœ¨å¹¿å·çš„åŸå› å§ï¼Œè€Œä¸”å¹¿å·çš„æ–‡åŒ–åº•è•´ä¹Ÿä¹…ç‚¹ï¼Œå¬è¯´æ·±åœ³èŠ‚å¥å¾ˆå¿«ï¼Ÿå­¦æ ¡å‘†ä¹…äº†ä¹Ÿå¥½æ— èŠï¼Œå¾ˆå¤šåŒå­¦éƒ½å»å®ä¹ äº†ï¼Œæ—…æ¸¸çš„è¯å°ä¼™ä¼´ä»¬éƒ½å¿™ã€‚åœ¨å­¦æ ¡æ‰“äº†å¥½å¤šåœºçƒ:basketball:ï¼Œå­¦æ ¡çš„ç¯®çƒåœºä¹Ÿç¿»æ–°å•¦ï¼Œç€å®ç¾¡æ…•ï¼Œæ‰“èµ·æ¥çœŸèˆ’æœï¼Œä¹Ÿåšäº†å…¥èŒä½“æ£€ï¼Œé‚£å°±å»å®ä¹ å§ï¼è¶å¹´è½»ï¼Œå»å¥‹æ–—ï¼Œæœªæ¥å¯æœŸ~:punch:","categories":[{"name":"æ‚è®°","slug":"æ‚è®°","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/æ‚è®°/"}],"tags":[{"name":"æ‚è®°","slug":"æ‚è®°","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/æ‚è®°/"}]},{"title":"å‰‘æŒ‡Offerï¼ˆ40-49Javaè¯­è¨€æè¿°ï¼‰","slug":"å‰‘æŒ‡Offerï¼ˆ40-49)","date":"2019-09-28T10:25:08.000Z","updated":"2019-11-17T09:41:22.000Z","comments":true,"path":"2019/09/28/jian-zhi-offer-40-49/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/09/28/jian-zhi-offer-40-49/","excerpt":"","text":"ä¸çŸ¥ä¸è§‰å·²ç»å¿«åæœˆä»½äº†ï¼Œè¿˜å‰©ä¸å¤šå•¦ï¼Œæœ€è¿‘ä¹Ÿæ˜¯ä¸€ç›´è·‘å®£è®²ä¼šï¼Œç¬”è¯•ï¼Œé¢è¯•ï¼Œæ²¡æœ‰ä»€ä¹ˆæ—¶é—´å»åˆ·é¢˜ã€‚ 40. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—é¢˜ç›®æè¿°æ•°ç»„ä¸­æœ‰ä¸€ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚ä¾‹å¦‚è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸º9çš„æ•°ç»„{1,2,3,2,2,2,5,4,2}ã€‚ç”±äºæ•°å­—2åœ¨æ•°ç»„ä¸­å‡ºç°äº†5æ¬¡ï¼Œè¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œå› æ­¤è¾“å‡º2ã€‚å¦‚æœä¸å­˜åœ¨åˆ™è¾“å‡º0ã€‚ è§£é¢˜æ€è·¯ï¼šä¸€ï¼šå¦‚æœæœ‰ç¬¦åˆæ¡ä»¶çš„æ•°å­—ï¼Œåˆ™å®ƒå‡ºç°çš„æ¬¡æ•°æ¯”å…¶ä»–æ‰€æœ‰æ•°å­—å‡ºç°çš„æ¬¡æ•°å’Œè¿˜è¦å¤šã€‚åœ¨éå†æ•°ç»„æ—¶ä¿å­˜ä¸¤ä¸ªå€¼ï¼šä¸€æ˜¯æ•°ç»„ä¸­ä¸€ä¸ªæ•°å­—ï¼Œä¸€æ˜¯æ¬¡æ•°ã€‚éå†ä¸‹ä¸€ä¸ªæ•°å­—æ—¶ï¼Œè‹¥å®ƒä¸ä¹‹å‰ä¿å­˜çš„æ•°å­—ç›¸åŒï¼Œåˆ™æ¬¡æ•°åŠ 1ï¼Œå¦åˆ™æ¬¡æ•°å‡1ï¼›è‹¥æ¬¡æ•°ä¸º0ï¼Œåˆ™ä¿å­˜ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œå¹¶å°†æ¬¡æ•°ç½®ä¸º1ã€‚éå†ç»“æŸåï¼Œæ‰€ä¿å­˜çš„æ•°å­—å³ä¸ºæ‰€æ±‚ã€‚ç„¶åå†åˆ¤æ–­å®ƒæ˜¯å¦ç¬¦åˆæ¡ä»¶å³å¯ã€‚ public class Solution { public int MoreThanHalfNum_Solution(int [] array) { if (array.length == 0) return 0; int cnt = 1; //æœ€å¤šå‡ºç°çš„æ•°å­— int num = array[0]; for (int i = 1; i &lt; array.length; i++) { if (num == array[i]) { cnt++; } else { cnt--; } if (cnt == 0) { num = array[i]; cnt = 1; } } // è¿™é‡Œè¿˜éœ€è¦å†åˆ¤æ–­æ˜¯å¦ç¬¦åˆæ¡ä»¶ cnt = 0; for (int i : array) { if (num == i) { cnt++; } } return cnt > array.length / 2 ? num : 0; } } äºŒï¼šæœ¬é¢˜ä¹Ÿå¯ä»¥ç”¨HashMapæ¥æ±‚è§£ï¼Œä¸è¿‡ç©ºé—´å¤æ‚åº¦æ¯”è¾ƒé«˜ã€‚ import java.util.*; public class Solution { public int MoreThanHalfNum_Solution(int [] array) { if (array.length == 0) return 0; int HalfLen = array.length / 2; Map&lt;Integer,Integer> map = new HashMap&lt;>(); for (int i : array) { map.put(i,map.getOrDefault(i,0)+1); } for (Map.Entry&lt;Integer,Integer> entry :map.entrySet()) { if (entry.getValue() > HalfLen) { return entry.getKey(); } } return 0; } } 41. æœ€å°çš„Kä¸ªæ•°é¢˜ç›®æè¿°è¾“å…¥nä¸ªæ•´æ•°ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å°çš„Kä¸ªæ•°ã€‚ä¾‹å¦‚è¾“å…¥4,5,1,6,2,7,3,8è¿™8ä¸ªæ•°å­—ï¼Œåˆ™æœ€å°çš„4ä¸ªæ•°å­—æ˜¯1,2,3,4,ã€‚è§£é¢˜æ€è·¯ï¼šç¬¬ä¸€ç§ï¼šç”¨å¿«é€Ÿæ’åºä¸­çš„partionæ–¹æ³•ï¼Œä½¿å¾—æ¯”ç¬¬kä¸ªæ•°å­—å°çš„æ‰€æœ‰æ•°å­—éƒ½ä½äºæ•°ç»„çš„å·¦è¾¹ï¼Œæ¯”ç¬¬kä¸ªæ•°å­—å¤§çš„æ‰€æœ‰æ•°å­—éƒ½ä½äºæ•°ç»„çš„å³è¾¹ã€‚è°ƒæ•´ä¹‹åï¼Œä½äºæ•°ç»„å·¦è¾¹çš„kä¸ªæ•°å­—å°±æ˜¯æœ€å°çš„kä¸ªæ•°å­—ã€‚ import java.util.ArrayList; public class Solution { public ArrayList&lt;Integer> GetLeastNumbers_Solution(int [] input, int k) { ArrayList&lt;Integer> list = new ArrayList&lt;>(); if (input.length == 0 || k > input.length || k &lt; 0) return list; getKthNum(input,k); for (int i = 0; i &lt; k; i++) { list.add(input[i]); } return list; } //è°ƒæ•´æ•°ç»„ä½ç½®ä¸ºç¬¬Kä¸ª private void getKthNum(int [] arr,int k) { int R = arr.length - 1 ; int L = 0; while (L &lt; R){ int i = partition(arr,L,R); if (i == k) break; if (i > k) { R = i - 1; } else { L = i + 1; } } } //åˆ‡åˆ†æ–¹æ³• private int partition(int [] arr,int L,int R) { int num = arr[L]; int less = L + 1, more = R; while (true) { while (less &lt; R &amp;&amp; arr[less] &lt; num) less++; while (more > L &amp;&amp; arr[more] > num) more--; if (less >= more) break; swap(arr,less++,more--); } swap(arr,L,more); return more; } private void swap(int [] arr,int i ,int j) { int temp = arr[i]; arr[i] = arr[j]; arr[j] = temp; } } ç¬¬äºŒç§ï¼šä½¿ç”¨å †æ’åº import java.util.ArrayList; import java.util.PriorityQueue; public class Solution { public ArrayList&lt;Integer> GetLeastNumbers_Solution(int [] input, int k) { ArrayList&lt;Integer> list = new ArrayList&lt;>(); if (input == null || k &lt;= 0 || k > input.length) return list; PriorityQueue&lt;Integer> queue = new PriorityQueue&lt;>(); for (int i : input) { queue.add(i); } for (int i = 0; i &lt; k; i++) { list.add(queue.poll()); } return list; } } 42. æ•°æ®æµä¸­çš„ä¸­ä½æ•°é¢˜ç›®æè¿°å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼Ÿå¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä½äºä¸­é—´çš„æ•°å€¼ã€‚å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚æˆ‘ä»¬ä½¿ç”¨Insert()æ–¹æ³•è¯»å–æ•°æ®æµï¼Œä½¿ç”¨GetMedian()æ–¹æ³•è·å–å½“å‰è¯»å–æ•°æ®çš„ä¸­ä½æ•°ã€‚ è§£é¢˜æ€è·¯ï¼šä½¿ç”¨ä¸¤ä¸ªå †æ¥è§£å†³é—®é¢˜ï¼ŒminQueue ä¸ºæœ€å°å †ï¼ŒmaxQueueä¸ºæœ€å¤§å †ï¼Œè¦ä¿è¯æœ€å°å †ä¸­çš„å€¼éƒ½æ¯”æœ€å¤§å †çš„å€¼å¤§ï¼Œç„¶åæœ€åæ±‚ç»“æœçš„æ—¶å€™ï¼Œå¦‚æœcountä¸ºå¶æ•°ï¼Œé‚£ä¹ˆä¸­é—´å€¼å°±æ˜¯æœ€å¤§å †å’Œæœ€å°å †ä¹‹å’Œçš„å¹³å‡å€¼ï¼Œå¦‚æœcountæ˜¯å¥‡æ•°ï¼Œä¸­é—´å€¼å°±æ˜¯æœ€å°å †ä¸­çš„å †é¡¶å…ƒç´ ã€‚ import java.util.PriorityQueue; public class Solution { //æœ€å°å †ï¼Œå­˜å¤§å€¼ private PriorityQueue&lt;Integer> minQueue = new PriorityQueue&lt;>(); //æœ€å¤§å †ï¼Œå­˜å°å€¼ private PriorityQueue&lt;Integer> maxQueue = new PriorityQueue&lt;>((o1,o2) -> (o2 - o1)); //æ•°é‡ private int count = 0; public void Insert(Integer num) { if (count % 2 == 0) { maxQueue.add(num); // å°†æœ€å¤§å †ä¸­çš„æœ€å¤§å€¼æ’å…¥åˆ°æœ€å°å †ä¸­ minQueue.add(maxQueue.poll()); } else { minQueue.add(num); maxQueue.add(minQueue.poll()); } count++; } public Double GetMedian() { if (count % 2 == 0) { double d = (minQueue.peek() + maxQueue.peek()) / 2.0; return d; } else { return (double)minQueue.peek(); } } } 43. å­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦é¢˜ç›®æè¿°è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥æ‰¾å‡ºå­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œå½“ä»å­—ç¬¦æµä¸­åªè¯»å‡ºå‰ä¸¤ä¸ªå­—ç¬¦â€goâ€æ—¶ï¼Œç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦æ˜¯â€gâ€ã€‚å½“ä»è¯¥å­—ç¬¦æµä¸­è¯»å‡ºå‰å…­ä¸ªå­—ç¬¦â€œgoogleâ€æ—¶ï¼Œç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦æ˜¯â€lâ€ã€‚è¾“å‡ºæè¿°:å¦‚æœå½“å‰å­—ç¬¦æµæ²¡æœ‰å­˜åœ¨å‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ï¼Œè¿”å›#å­—ç¬¦ã€‚ è§£é¢˜æ€è·¯ï¼šä¸€ï¼š ä½¿ç”¨LinkedHashMap å­˜å…¥çš„é”®æ˜¯æœ‰åºçš„ç‰¹ç‚¹æ¥è§£å†³ã€‚ import java.util.*; public class Solution { private Map&lt;Character,Integer> map = new LinkedHashMap&lt;>(); //Insert one char from stringstream public void Insert(char ch) { map.put(ch,map.getOrDefault(ch,0) + 1); } //return the first appearence once char in current stringstream public char FirstAppearingOnce() { for (Map.Entry&lt;Character,Integer> entry: map.entrySet()) { if (entry.getValue() == 1) { return entry.getKey(); } } return '#'; } } äºŒï¼šä¹Ÿå¯ä»¥ä½¿ç”¨é˜Ÿåˆ—æ¥åšï¼Œå…ˆå£°æ˜ä¸€ä¸ª256é•¿åº¦çš„æ•°ç»„ï¼Œè¶³ä»¥å­˜å‚¨æ‰€æœ‰charç±»å‹çš„å­—ç¬¦ï¼Œç„¶ååˆ©ç”¨é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºçš„ç‰¹ç‚¹ã€‚ import java.util.*; public class Solution { private Queue&lt;Character> queue = new LinkedList&lt;>(); private int arr[] = new int[256]; //Insert one char from stringstream public void Insert(char ch) { arr[ch]++; queue.add(ch); while (!queue.isEmpty() &amp;&amp; arr[queue.peek()] > 1) { queue.poll(); } } //return the first appearence once char in current stringstream public char FirstAppearingOnce() { return queue.isEmpty()? '#' : queue.peek(); } } 44. è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œé¢˜ç›®æè¿°ï¼šHZå¶å°”ä¼šæ‹¿äº›ä¸“ä¸šé—®é¢˜æ¥å¿½æ‚ é‚£äº›éè®¡ç®—æœºä¸“ä¸šçš„åŒå­¦ã€‚ä»Šå¤©æµ‹è¯•ç»„å¼€å®Œä¼šå,ä»–åˆå‘è¯äº†:åœ¨å¤è€çš„ä¸€ç»´æ¨¡å¼è¯†åˆ«ä¸­,å¸¸å¸¸éœ€è¦è®¡ç®—è¿ç»­å­å‘é‡çš„æœ€å¤§å’Œ,å½“å‘é‡å…¨ä¸ºæ­£æ•°çš„æ—¶å€™,é—®é¢˜å¾ˆå¥½è§£å†³ã€‚ä½†æ˜¯,å¦‚æœå‘é‡ä¸­åŒ…å«è´Ÿæ•°,æ˜¯å¦åº”è¯¥åŒ…å«æŸä¸ªè´Ÿæ•°,å¹¶æœŸæœ›æ—è¾¹çš„æ­£æ•°ä¼šå¼¥è¡¥å®ƒå‘¢ï¼Ÿä¾‹å¦‚:{6,-3,-2,7,-15,1,2,2},è¿ç»­å­å‘é‡çš„æœ€å¤§å’Œä¸º8(ä»ç¬¬0ä¸ªå¼€å§‹,åˆ°ç¬¬3ä¸ªä¸ºæ­¢)ã€‚ç»™ä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›å®ƒçš„æœ€å¤§è¿ç»­å­åºåˆ—çš„å’Œï¼Œä½ ä¼šä¸ä¼šè¢«ä»–å¿½æ‚ ä½ï¼Ÿ(å­å‘é‡çš„é•¿åº¦è‡³å°‘æ˜¯1) è§£é¢˜æ€è·¯ï¼šmaxç”¨æ¥è®°å½•åŒ…å«array[i]çš„æœ€å¤§å€¼ï¼Œresultç”¨æ¥è®°å½•æœ€å¤§è¿ç»­å­æ•°ç»„çš„æœ€å¤§å€¼ public class Solution { public int FindGreatestSumOfSubArray(int[] array) { if (array == null || array.length == 0) { return 0; } // è®°å½•ç»“æœçš„æœ€å¤§å€¼ int result = array[0]; //è®°å½•åŒ…å«array[i]çš„æœ€å¤§å€¼ int max = array[0]; for (int i = 1; i &lt; array.length; i++) { max = Math.max(array[i] + max,array[i]); result = Math.max(result,max); } return result; } } 45. æ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°ï¼ˆä»1åˆ°næ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°ï¼‰é¢˜ç›®æè¿°:æ±‚å‡º113çš„æ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°,å¹¶ç®—å‡º1001300çš„æ•´æ•°ä¸­1å‡ºç°çš„æ¬¡æ•°ï¼Ÿä¸ºæ­¤ä»–ç‰¹åˆ«æ•°äº†ä¸€ä¸‹1~13ä¸­åŒ…å«1çš„æ•°å­—æœ‰1ã€10ã€11ã€12ã€13å› æ­¤å…±å‡ºç°6æ¬¡,ä½†æ˜¯å¯¹äºåé¢é—®é¢˜ä»–å°±æ²¡è¾™äº†ã€‚ACMerå¸Œæœ›ä½ ä»¬å¸®å¸®ä»–,å¹¶æŠŠé—®é¢˜æ›´åŠ æ™®éåŒ–,å¯ä»¥å¾ˆå¿«çš„æ±‚å‡ºä»»æ„éè´Ÿæ•´æ•°åŒºé—´ä¸­1å‡ºç°çš„æ¬¡æ•°ï¼ˆä»1 åˆ° n ä¸­1å‡ºç°çš„æ¬¡æ•°ï¼‰ã€‚ è§£é¢˜æ€è·¯ï¼šåŸè°…æˆ‘ä¸€å¦‚æ—¢å¾€çš„æš´åŠ›ï¼Œå…¶å®ç”¨æ•°å­¦çš„è§’åº¦æ¥æ±‚é—®é¢˜çš„è¯æ›´ç®€å•ï¼Œæ›´èªæ˜çš„åšæ³•å‚è€ƒLeetCode import java.lang.StringBuffer; public class Solution { public int NumberOf1Between1AndN_Solution(int n) { int cnt = 0; StringBuffer sb = new StringBuffer(); for (int i = 1; i &lt;= n; i++) { sb.append(i); } for (int i = 0; i &lt; sb.length(); i++) { if (sb.charAt(i) == '1') cnt++; } return cnt; } } 46. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°é¢˜ç›®æè¿°ï¼šè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ï¼ŒæŠŠæ•°ç»„é‡Œæ‰€æœ‰æ•°å­—æ‹¼æ¥èµ·æ¥æ’æˆä¸€ä¸ªæ•°ï¼Œæ‰“å°èƒ½æ‹¼æ¥å‡ºçš„æ‰€æœ‰æ•°å­—ä¸­æœ€å°çš„ä¸€ä¸ªã€‚ä¾‹å¦‚è¾“å…¥æ•°ç»„{3ï¼Œ32ï¼Œ321}ï¼Œåˆ™æ‰“å°å‡ºè¿™ä¸‰ä¸ªæ•°å­—èƒ½æ’æˆçš„æœ€å°æ•°å­—ä¸º321323ã€‚ è§£é¢˜æ€è·¯ï¼šåº”è¯¥è”æƒ³åˆ°æ’åºï¼Œæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²o1, o2å¤§å°çš„æ—¶å€™ï¼Œå…ˆå°†å®ƒä»¬è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œæ¯”è¾ƒo1+o2,å’Œo2+o1é‚£ä¸ªå¤§ï¼Œå¦‚æœo1+o2å¤§ï¼Œo2åº”è¯¥æ”¾å‰é¢ï¼Œo2å°±åº”è¯¥æ’åœ¨o1å‰é¢ã€‚è‹¥o1 + o2 &lt; o2 + o1,åˆ™o1åœ¨å‰é¢ã€‚è¿™é‡Œçš„Lambdaè¡¨è¾¾å¼ç”¨çš„å¾ˆå·§å¦™ã€‚ import java.util.Arrays; public class Solution { public String PrintMinNumber(int [] numbers) { String arr[] = new String[numbers.length]; String str = \"\"; for (int i = 0; i &lt; numbers.length; i++) { arr[i] = String.valueOf(numbers[i]); } Arrays.sort(arr,(o1,o2) -> (o1+o2).compareTo(o2+o1)); for (String s : arr) { str += s; } return str; } } 47. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦é¢˜ç›®æè¿°ï¼šåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²(0&lt;=å­—ç¬¦ä¸²é•¿åº¦&lt;=10000ï¼Œå…¨éƒ¨ç”±å­—æ¯ç»„æˆ)ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦,å¹¶è¿”å›å®ƒçš„ä½ç½®, å¦‚æœæ²¡æœ‰åˆ™è¿”å› -1ï¼ˆéœ€è¦åŒºåˆ†å¤§å°å†™ï¼‰. è§£é¢˜æ€è·¯ï¼šå¯ä»¥ä½¿ç”¨HashMapæ¥å­˜å‚¨æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘ç‡ï¼Œä¸è¿‡é‚£æ ·ç©ºé—´å¤æ‚åº¦æ¯”è¾ƒå¤§ï¼Œè¿™é‡Œä½¿ç”¨æ•´å‹æ•°ç»„ã€‚ public class Solution { public int FirstNotRepeatingChar(String str) { if (str == null || str.length() == 0) { return -1; } int arr[] = new int[255]; for (int i = 0; i &lt; str.length(); i++) { arr[str.charAt(i)]++; } for (int i = 0; i &lt; arr.length; i++) { if (arr[str.charAt(i)] == 1) { return i; } } return -1; } } 48. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹é¢˜ç›®æè¿°è¾“å…¥ä¸¤ä¸ªé“¾è¡¨ï¼Œæ‰¾å‡ºå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹ã€‚ è§£é¢˜æ€è·¯ï¼šå‚è€ƒæŸcycå¤§ä½¬çš„è§£é¢˜æ€è·¯ï¼Œå¾ˆæ¸…æ™°ã€‚ è®¾ A çš„é•¿åº¦ä¸º a + cï¼ŒB çš„é•¿åº¦ä¸º b + cï¼Œå…¶ä¸­ c ä¸ºå°¾éƒ¨å…¬å…±éƒ¨åˆ†é•¿åº¦ï¼Œå¯çŸ¥ a + c + b = b + c + aã€‚å½“è®¿é—®é“¾è¡¨ A çš„æŒ‡é’ˆè®¿é—®åˆ°é“¾è¡¨å°¾éƒ¨æ—¶ï¼Œä»¤å®ƒä»é“¾è¡¨ B çš„å¤´éƒ¨é‡æ–°å¼€å§‹è®¿é—®é“¾è¡¨ Bï¼›åŒæ ·åœ°ï¼Œå½“è®¿é—®é“¾è¡¨ B çš„æŒ‡é’ˆè®¿é—®åˆ°é“¾è¡¨å°¾éƒ¨æ—¶ï¼Œä»¤å®ƒä»é“¾è¡¨ A çš„å¤´éƒ¨é‡æ–°å¼€å§‹è®¿é—®é“¾è¡¨ Aã€‚è¿™æ ·å°±èƒ½æ§åˆ¶è®¿é—® A å’Œ B ä¸¤ä¸ªé“¾è¡¨çš„æŒ‡é’ˆèƒ½åŒæ—¶è®¿é—®åˆ°äº¤ç‚¹ã€‚ public class Solution { public ListNode FindFirstCommonNode(ListNode pHead1, ListNode pHead2) { ListNode l1 = pHead1; ListNode l2 = pHead2; while (l1 != l2) { l1 = (l1 == null) ? pHead2 : l1.next; l2 = (l2 == null) ? pHead1 : l2.next; } return l1; } } 49. äºŒå‰æ ‘çš„æ·±åº¦é¢˜ç›®æè¿°è¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œæ±‚è¯¥æ ‘çš„æ·±åº¦ã€‚ä»æ ¹ç»“ç‚¹åˆ°å¶ç»“ç‚¹ä¾æ¬¡ç»è¿‡çš„ç»“ç‚¹ï¼ˆå«æ ¹ã€å¶ç»“ç‚¹ï¼‰å½¢æˆæ ‘çš„ä¸€æ¡è·¯å¾„ï¼Œæœ€é•¿è·¯å¾„çš„é•¿åº¦ä¸ºæ ‘çš„æ·±åº¦ã€‚ è§£é¢˜æ€è·¯ï¼šä½¿ç”¨é€’å½’ï¼Œå·¦å³å­æ ‘å“ªä¸ªå¤§å°±åŠ 1 /** public class TreeNode { int val = 0; TreeNode left = null; TreeNode right = null; public TreeNode(int val) { this.val = val; } } */ public class Solution { public int TreeDepth(TreeNode root) { return root == null ? 0 : 1 + Math.max(TreeDepth(root.left),TreeDepth(root.right)); } }","categories":[{"name":"å‰‘æŒ‡Offer","slug":"å‰‘æŒ‡Offer","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/å‰‘æŒ‡Offer/"}],"tags":[{"name":"å‰‘æŒ‡Offer","slug":"å‰‘æŒ‡Offer","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/å‰‘æŒ‡Offer/"}]},{"title":"å¸¸è§æ’åºä»£ç æ€»ç»“(Javaè¯­è¨€å®ç°)","slug":"å¸¸è§æ’åºä»£ç æ€»ç»“(Javaè¯­è¨€å®ç°)","date":"2019-09-10T10:25:08.000Z","updated":"2019-09-30T14:33:46.000Z","comments":true,"path":"2019/09/10/chang-jian-pai-xu-dai-ma-zong-jie-java-yu-yan-shi-xian/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/09/10/chang-jian-pai-xu-dai-ma-zong-jie-java-yu-yan-shi-xian/","excerpt":"","text":"æœ€è¿‘ç»§ç»­é‡æ¸©ä¸‹æ•°æ®ç»“æ„ä¸­çš„æ’åºï¼Œå…¶å®ä¹‹å‰åœ¨ä¸‰æœˆä»½å¾—æ—¶å€™ä¹Ÿæœ‰å¤ä¹ è¿‡äº†ä¸€éï¼Œå…¶å®å‰äººå·²ç»æ€»ç»“å¾—å¾ˆä¸é”™äº†ï¼Œè¿™æ¬¡é‡æ–°å†è¿‡ä¸€éï¼Œé‡æ–°æ‰‹å†™ä¸€ä¸‹ä»£ç ï¼šä»¥ä¸‹ä»£ç çš„swapä»£ç éƒ½æ˜¯åŸºäºå¦‚ä¸‹ä»£ç ï¼šä½¿ç”¨ä½è¿ç®—ï¼Œæ›´å¿«æ›´æœ‰é€¼æ ¼~ private static swap(int [] arr, int i, int j) { arr[i] = arr[i] ^ arr[j]; arr[j] = arr[i] ^ arr[j]; arr[i] = arr[i] ^ arr[j]; } å†’æ³¡æ’åºï¼š æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªã€‚ å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ã€‚è¿™æ­¥åšå®Œåï¼Œæœ€åçš„å…ƒç´ ä¼šæ˜¯æœ€å¤§çš„æ•°ã€‚ é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªã€‚ æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒã€‚public static void bubbleSort (int [] array) { for (int i = array.length - 1; i > 0; i--) { boolean flag = true; for (int j = 0; j &lt; i; j++) { if (array[j] > array[j+1]) { swap(arr,j,j+1); flag = false; } } if (flag) break; } } é€‰æ‹©æ’åºï¼š åœ¨åºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œæ”¾åˆ°åºåˆ—çš„èµ·å§‹ä½ç½®ä½œä¸ºå·²æ’åºåºåˆ—ï¼› å†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚public void selectSort(int [] arr) { for (int i = 0; i &lt; arr.length; i++) { int minIndex = i; for (int j = i + 1; j &lt; arr.length; j++) { minIndex = arr[j] &lt; arr[minIndex] ? j : minIndex; } swap(arr,i,minIdex); } } æ’å…¥æ’åº å°†ç¬¬ä¸€å¾…æ’åºåºåˆ—ç¬¬ä¸€ä¸ªå…ƒç´ çœ‹åšä¸€ä¸ªæœ‰åºåºåˆ—ï¼ŒæŠŠç¬¬äºŒä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ å½“æˆæ˜¯æœªæ’åºåºåˆ—ã€‚ ä»å¤´åˆ°å°¾ä¾æ¬¡æ‰«ææœªæ’åºåºåˆ—ï¼Œå°†æ‰«æåˆ°çš„æ¯ä¸ªå…ƒç´ æ’å…¥æœ‰åºåºåˆ—çš„é€‚å½“ä½ç½®ã€‚ï¼ˆå¦‚æœå¾…æ’å…¥çš„å…ƒç´ ä¸æœ‰åºåºåˆ—ä¸­çš„æŸä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™å°†å¾…æ’å…¥å…ƒç´ æ’å…¥åˆ°ç›¸ç­‰å…ƒç´ çš„åé¢ã€‚ï¼‰public static void insertSort(int [] arr) { for (int i = 1; i &lt; arr.length; i++) { int tmp = arr[i]; for (int j = i - 1; j >= 0 &amp;&amp; tmp &lt; arr[j]; j--) { arr[j+1] = arr[j]; } arr[j+1] = tmp; } } å¸Œå°”æ’åºå¸Œå°”æ’åºæ˜¯æ›´é«˜æ•ˆçš„æ’å…¥æ’åºï¼Œå®ƒæŠŠæ•°ç»„åˆ†æˆå‡ å—ï¼Œæ¯ä¸€å—è¿›è¡Œä¸€ä¸ªæ’å…¥æ’åºï¼›è€Œåˆ†å—çš„ä¾æ®åœ¨äºå¢é‡çš„é€‰æ‹©åˆ†å¥½å—ä¹‹åï¼Œä»gapå¼€å§‹åˆ°nï¼Œæ¯ä¸€ç»„å’Œè‡ªå·±ç»„å†…çš„å…ƒç´ è¿›è¡Œæ’å…¥æ’åºï¼›è¿™é‡Œä»¥gapä¸º2ä¸ºä¾‹ã€‚ public void shellSort(int [] arr) { //å¢é‡åºåˆ—,è¿™é‡Œä¸º2 for (gap = arr.length; gap > 0; gap /= 2){ //ä»æ•°ç»„ç¬¬gapä¸ªå…ƒç´ å¼€å§‹ for (int i = gap; i &lt; gap; i++) { int tmp = arr[i],j; //æ¯ä¸ªå…ƒç´ ä¸è‡ªå·±ç»„å†…çš„æ•°æ®è¿›è¡Œç›´æ¥æ’å…¥æ’åº for (j = i - gap; j >= 0 &amp;&amp; tmp &lt; arr[j]; j-= gap) { arr[j+gap] = arr[j]; } arr[j] = tmp; } } } å¿«é€Ÿæ’åºåŸå§‹å¿«é€Ÿæ’åºï¼š static void quickSort(int [] arr) { if (arr == null || arr.length &lt;= 1){ return; } quick(arr,0,arr.length - 1); } static void quick(int [] arr, int L, int R){ if (L >= R) return; int p = partition(arr,L,R); quick(arr,L,p - 1); quick(arr,p + 1,R); } // è¿”å›pivotï¼Œä½¿å¾—å·¦è¾¹éƒ½å°äºåˆ‡åˆ†æ•°ï¼Œå³è¾¹éƒ½å¤§äºåˆ‡åˆ†æ•° static int partition(int [] arr, int L, int R) { //è·å–ç¬¬ä¸€ä¸ªä¸ºåˆ‡åˆ†å…ƒç´  int num = arr[L]; int pivot = L; for (int i = L + 1; i &lt;= R; i++) { if (arr[i] &lt; num) { swap(arr,i,++pivot); } } swap(arr,L,pivot); return pivot; } è¿™ç§æƒ…å†µçš„å¿«é€Ÿæ’åºæœ‰ä¸¤ç§å¼Šç«¯ï¼Œä¸€æ˜¯æ¯æ¬¡é€‰ç¬¬ä¸€ä¸ªä¸ºåˆ‡åˆ†å…ƒç´ ï¼Œå¦‚æœæ˜¯æœ€å°å€¼æˆ–è€…æœ€å¤§å€¼ï¼Œè¿™æ ·æ¯”è¾ƒä¸å¥½ï¼Œè¿˜æœ‰å°±æ˜¯è¯´ä¸Šé¢é‚£ç§åœ¨partitionä¸­çš„æ—¶å€™åªæœ‰ä¸€ä¸ªæŒ‡é’ˆï¼Œå¦‚æœæ’åºçš„æ•°ç»„é‡å¤å…ƒç´ å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯ä¼šä½¿å¾—åˆ’åˆ†æå…¶çš„ä¸å‡åŒ€ã€‚ æ”¹è¿›ç‰ˆå¿«é€Ÿæ’åºï¼ˆæ¨èï¼‰ï¼š(æ³¨æ„åŒºåˆ†ä¸ä¸Šé¢çš„ä¸åŒ) å†™ä¸€ä¸ªåˆ‡åˆ†æ–¹æ³•partition ç„¶åæ¯ä¸€æ¬¡åˆ‡åˆ†å®Œæˆåé€’å½’è°ƒç”¨quickæ–¹æ³•ï¼Œç¼©å°åŒºé—´ã€‚static void quickSort(int [] arr) { if (arr.length &lt;= 1) return; quick(arr,0,arr.length - 1); } static void quick(int [] arr,int L, int R) { if (L >= R) return; // éšæœºé€‰å– swap(arr,L,L+(int)(Math.random()*(R - L + 1))); int p = partition(arr,L,R); quick(arr, L, p - 1); quick(arr, p + 1, R); } static int partition(int [] arr,int L, int R) { int num = arr[L]; //ä¸¤ä¸ªèŠ‚ç‚¹ int less = L + 1, more = R; while (true) { while (less &lt; R &amp;&amp; arr[less] &lt; num) less++; while (more > L) &amp;&amp; arr[more] > num) more--; if (less >= more) break; swap(arr, less++, more--); } //æœ€åè·ŸLäº¤æ¢çš„æ˜¯more swap(arr,L,more); return more; } å †æ’åºå †æ’åºçš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªåå¤è°ƒæ•´å †çš„è¿‡ç¨‹ï¼š åˆ©ç”¨æ•°ç»„å»ºç«‹ä¸€ä¸ªå¤§æ ¹å †ï¼ˆçˆ¶äº²æ¯”å­©å­çš„å€¼å¤§ï¼‰ï¼› æŠŠå †é¡¶å…ƒç´ å’Œå †å°¾å…ƒç´ äº’æ¢ï¼› æŠŠå †ï¼ˆæ— åºåŒºï¼‰çš„å°ºå¯¸ç¼©å°1ï¼Œå¹¶ä¸‹æ²‰ï¼› é‡å¤æ­¥éª¤ï¼Œç›´åˆ°å †çš„å¤§å°ä¸º1ï¼› private void HeapSort(int [] arr) { int N = arr.length - 1; for (int i = N / 2; i >= 1; i--) { sink(arr,i,N); } while (N > 1){ swap(arr,1,N--); sink(arr,1,N); } } //ä¸‹æ²‰ private void sink(int [] arr,int k,int N) { while (2 * k &lt;= N) { int j = 2 * k; //ä¸ä¸¤ä¸ªå­èŠ‚ç‚¹ä¸­æœ€å¤§çš„èŠ‚ç‚¹è¿›è¡Œäº¤æ¢ if (j &lt; N &amp;&amp; arr[j] &lt; arr[j+1]) j++; if (arr[k] >= arr[j]) { break; } // ä¸‹æ²‰ swap(arr,k,j) k = j; } } å½’å¹¶æ’åºå½’å¹¶æ’åºé‡‡ç”¨åˆ†æ²»çš„æ€æƒ³ï¼Œè¿™é‡Œç”¨é€’å½’å®ç°ï¼Œé¦–å…ˆå…ˆé€’å½’æ‹†åˆ†å­åºåˆ—ï¼Œç„¶åå°†ä¸¤ä¸ªå·²ç»æœ‰åºçš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œéœ€è¦å‡†å¤‡ä¸€ä¸ªé¢å¤–çš„æ•°ç»„(temp)ï¼Œä½¿å…¶å¤§å°ä¸ºåŸæ¥æ•°ç»„é•¿åº¦ï¼Œè¯¥ç©ºé—´ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ—ã€‚å…³é”®ä»£ç æ˜¯ mergeé‚£ä¸€éƒ¨åˆ† private void mergeSort(int [] arr) { //åˆ›å»ºä¸´æ—¶æ•°ç»„ int temp[] = new int[arr.length]; sort(arr,0,arr.length - 1,temp); } private void sort(int []arr,int l,int r,int [] temp) { if (l &lt; r){ int mid = (l + r) / 2; //é€’å½’ï¼Œå·¦è¾¹å½’å¹¶æ’åºï¼Œä½¿å¾—å·¦å­åºåˆ—æœ‰åº sort(arr,l,mid,temp); //å³è¾¹å½’å¹¶æ’åºï¼Œä½¿å¾—å³å­åºåˆ—æœ‰åº sort(arr,mid+1,r,temp); //å°†ä¸¤ä¸ªæœ‰åºå­æ•°ç»„åˆå¹¶æ“ä½œ merge(arr,l,mid,r,temp); } } //å…³é”®ä»£ç  private void merge(int []arr,int l,int mid,int r,int [] temp) { int i = l; int j = mid + 1; // ä¸´æ—¶å˜é‡ int t = 0; while (i &lt;= mid &amp;&amp; j&lt;= r) { if (arr[i] &lt;= arr[j]) { temp[t++] = arr[i++]; } else { temp[t++] = arr[j++]; } } //å°†å·¦è¾¹å‰©ä½™å…ƒç´ å¡«å……è¿›tempä¸­ while (i &lt;= mid) { temp[t++] = arr[i++]; } //å°†å³è¾¹å‰©ä½™å…ƒç´ å¡«å……è¿›tempä¸­ while (j &lt;= r) { temp[t++] = arr[j++]; } //å°†tempä¸­çš„å…ƒç´ å…¨éƒ¨æ‹·è´åˆ°åŸæ•°ç»„ä¸­ t = 0; while (l &lt;= r) { arr[l++] = temp[t++]; } } è¿™é‡Œä¸ƒä¸ªæ’åºç®—æ˜¯æ¯”è¾ƒå¸¸è§çš„æ’åºæ–¹å¼äº†ï¼Œè¦å¥½å¥½ç†Ÿæ‚‰ï¼Œå°¤å…¶æ˜¯å¿«æ’ã€å †æ’ï¼Œå¹³æ—¶åˆ·é¢˜å¶å°”ä¹Ÿå¯ä»¥ç”¨åˆ°ï¼Œæ¯”å¦‚è¯´å¿«æ’çš„partitionå¯ä»¥ç”¨æ¥æ±‚æ— åºæ•°ç»„ä¸­çš„ç¬¬Kå¤§çš„æ•°å­—ï¼Œå †æ’åºç”¨æ¥åšä¼˜å…ˆé˜Ÿåˆ—å¯ä»¥ç”¨æ¥æ±‚æœ€å¤§å€¼æœ€å°å€¼ç­‰ç­‰ã€‚end~","categories":[{"name":"Java","slug":"Java","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/Java/"}],"tags":[{"name":"æ’åº","slug":"æ’åº","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/æ’åº/"}]},{"title":"å‰‘æŒ‡Offerï¼ˆ30-39Javaè¯­è¨€æè¿°ï¼‰","slug":"å‰‘æŒ‡Offerï¼ˆ30-39)","date":"2019-09-06T10:25:08.000Z","updated":"2019-11-17T09:44:44.000Z","comments":true,"path":"2019/09/06/jian-zhi-offer-30-39/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/09/06/jian-zhi-offer-30-39/","excerpt":"","text":"emmæœ€è¿‘è¿™æ®µæ—¶é—´å›å­¦æ ¡å¤ä¹ äº†ï¼Œæ—¶é—´ç›¸å¯¹ä¹Ÿæ¯”è¾ƒå……è£•ï¼Œç»§ç»­å‘å‰ï¼Œä¿æŒæ¿€æƒ… ~~é¡ºä¾¿é™„å¸¦äº®å‰‘ç»å…¸è¯­å½• å››ï¼šä»€ä¹ˆä»–ä»–å¨˜çš„ç²¾é”ï¼Œè€å­æ‰“çš„å°±æ˜¯ç²¾é”ï¼ä»€ä¹ˆæ­¦å£«é“,è€å­æ‰“çš„å°±æ˜¯æ­¦å£«é“! 30. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—é¢˜ç›®æè¿°è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦å¯èƒ½ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚å‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚ä¾‹å¦‚åºåˆ—1,2,3,4,5æ˜¯æŸæ ˆçš„å‹å…¥é¡ºåºï¼Œåºåˆ—4,5,3,2,1æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½†4,3,5,1,2å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚ï¼ˆæ³¨æ„ï¼šè¿™ä¸¤ä¸ªåºåˆ—çš„é•¿åº¦æ˜¯ç›¸ç­‰çš„ï¼‰ è§£é¢˜æ€è·¯ï¼šå€Ÿç”¨ä¸€ä¸ªè¾…åŠ©çš„æ ˆï¼Œéå†å‹æ ˆé¡ºåºï¼Œç„¶ååˆ¤æ–­æ ˆé¡¶å…ƒç´ æ˜¯ä¸æ˜¯å‡ºæ ˆé¡ºåºçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç­‰åˆ°æœ€åå¦‚æœè¾…åŠ©æ ˆè¿˜ä¸ä¸ºç©ºï¼Œè¯´æ˜å¼¹å‡ºåºåˆ—ä¸æ˜¯è¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚ import java.util.Stack; public class Solution { public boolean IsPopOrder(int [] pushA,int [] popA) { Stack&lt;Integer> stack = new Stack&lt;>(); int index = 0; //index ä¸ºå¼¹å‡ºåºåˆ—ä¸‹æ ‡ for (int i = 0; i &lt; pushA.length; i++) { stack.push(pushA[i]); while (!stack.isEmpty() &amp;&amp; stack.peek() == popA[index]) { stack.pop(); index++; } } return stack.isEmpty(); } } 31. ä»ä¸Šå¾€ä¸‹æ‰“å°äºŒå‰æ ‘é¢˜ç›®æè¿°ï¼šä»ä¸Šå¾€ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŒå±‚èŠ‚ç‚¹ä»å·¦è‡³å³æ‰“å°ã€‚ è§£é¢˜æ€è·¯ï¼šç¬¬ä¸€ç§ ï¼šäºŒå‰æ ‘çš„å±‚æ¬¡éå†ï¼Œç±»ä¼¼BFSï¼Œä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥è§£å†³ã€‚ import java.util.*; /** public class TreeNode { int val = 0; TreeNode left = null; TreeNode right = null; public TreeNode(int val) { this.val = val; } } */ public class Solution { public ArrayList&lt;Integer> PrintFromTopToBottom(TreeNode root) { ArrayList&lt;Integer> list = new ArrayList&lt;>(); Queue&lt;TreeNode> queue = new LinkedList&lt;>(); queue.add(root); while (!queue.isEmpty()){ int length = queue.size(); while (length-- > 0) { TreeNode t = queue.poll(); if (t == null) continue; list.add(t.val); queue.offer(t.left); queue.offer(t.right); } } return list; } } ç¬¬äºŒç§ï¼šé€’å½’æŒ‰é¡ºåºæ·»åŠ ã€‚ import java.util.ArrayList; /** public class TreeNode { int val = 0; TreeNode left = null; TreeNode right = null; public TreeNode(int val) { this.val = val; } } */ public class Solution { private ArrayList&lt;Integer> list = new ArrayList&lt;>(); public ArrayList&lt;Integer> PrintFromTopToBottom(TreeNode root) { if (root != null) { list.add(root.val); } print(root); return list; } private void print(TreeNode node) { if (node != null) { if (node.left != null) { list.add(node.left.val); } if (node.right != null) { list.add(node.right.val); } print(node.left); print(node.right); } } } 32. æŠŠäºŒå‰æ ‘æ‰“å°æˆå¤šè¡Œé¢˜ç›®æè¿°ä»ä¸Šåˆ°ä¸‹æŒ‰å±‚æ‰“å°äºŒå‰æ ‘ï¼ŒåŒä¸€å±‚ç»“ç‚¹ä»å·¦è‡³å³è¾“å‡ºã€‚æ¯ä¸€å±‚è¾“å‡ºä¸€è¡Œã€‚ è§£é¢˜æ€è·¯ï¼šè¿™é“é¢˜å…¶å®è·Ÿä¸Šé¢ä¸€é“å¾ˆç±»ä¼¼ï¼Œå¯ä»¥ç”¨BFSæ€æƒ³ï¼Œåªæ˜¯è¦æ³¨æ„ åŒä¸€å±‚çš„æ—¶å€™æ˜¯åœ¨ç¬¬äºŒä¸ªwhileå¾ªç¯é‚£è¾¹æ·»åŠ  å°listã€‚ import java.util.*; /* public class TreeNode { int val = 0; TreeNode left = null; TreeNode right = null; public TreeNode(int val) { this.val = val; } } */ public class Solution { ArrayList&lt;ArrayList&lt;Integer> > Print(TreeNode pRoot) { ArrayList&lt;ArrayList&lt;Integer>> BigArrayList = new ArrayList&lt;>(); Queue&lt;TreeNode> queue = new LinkedList&lt;>(); queue.offer(pRoot); while (!queue.isEmpty()) { int cnt = queue.size(); ArrayList&lt;Integer> list = new ArrayList&lt;>(); //åŒä¸€å±‚ while (cnt-- > 0) { TreeNode t = queue.poll(); if (t != null) { list.add(t.val); if (t.left != null) { queue.offer(t.left); } if (t.right != null) { queue.offer(t.right); } } } if (list.size() > 0) { BigArrayList.add(list); } } return BigArrayList; } } 33. æŒ‰ä¹‹å­—å½¢é¡ºåºæ‰“å°äºŒå‰æ ‘é¢˜ç›®æè¿°è¯·å®ç°ä¸€ä¸ªå‡½æ•°æŒ‰ç…§ä¹‹å­—å½¢æ‰“å°äºŒå‰æ ‘ï¼Œå³ç¬¬ä¸€è¡ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œç¬¬äºŒå±‚æŒ‰ç…§ä»å³è‡³å·¦çš„é¡ºåºæ‰“å°ï¼Œç¬¬ä¸‰è¡ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œå…¶ä»–è¡Œä»¥æ­¤ç±»æ¨ã€‚ è§£é¢˜æ€è·¯ï¼šç¬¬ä¸€ç§ï¼šä¾æ—§æ˜¯å±‚æ¬¡éå†ï¼Œè¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯è·Ÿä¸Šé¢˜ä¸€æ ·çš„æ–¹æ³•ï¼Œä¸è¿‡å½“é‡åˆ°å¶æ•°å±‚æ˜¯ï¼Œæˆ‘ä»¬åè½¬é“¾è¡¨ï¼Œå†è¿›è¡Œæ·»åŠ ï¼Œç‰›å®¢çš„è¯„è®ºä¸­è¯´è¿™æ ·çš„æ—¶é—´å¤æ‚åº¦å¤ªå¤§äº†ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸¤ä¸ªæ ˆæ¥å®ç°ï¼Œä¸‹é¢ç¬¬äºŒç§å°±æ˜¯ç”¨ä¸¤ä¸ªæ ˆæ¥å®ç°ã€‚ import java.util.*; /* public class TreeNode { int val = 0; TreeNode left = null; TreeNode right = null; public TreeNode(int val) { this.val = val; } } */ public class Solution { public ArrayList&lt;ArrayList&lt;Integer> > Print(TreeNode pRoot) { ArrayList&lt;ArrayList&lt;Integer> > bigList = new ArrayList&lt;>(); Queue&lt;TreeNode> queue = new LinkedList&lt;>(); int len = 0; if (pRoot != null) { queue.offer(pRoot); len++; //å±‚æ•° } while (!queue.isEmpty()) { ArrayList&lt;Integer> list = new ArrayList&lt;>(); int cnt = queue.size(); while (cnt-- > 0) { TreeNode t = queue.poll(); if (t == null) continue; list.add(t.val); queue.offer(t.left); queue.offer(t.right); } if (list.size() > 0) { if (len % 2 == 0) { Collections.reverse(list); // å¶æ•°å±‚åè½¬ } bigList.add(list); len++; } } return bigList; } } ç¬¬äºŒç§ï¼šä½¿ç”¨ä¸¤ä¸ªæ ˆï¼Œåˆ©ç”¨æ ˆåè¿›å…ˆå‡ºçš„ç‰¹ç‚¹ã€‚leftStack å­˜å‚¨å¥‡æ•°å±‚ï¼Œä»å·¦åˆ°å³ã€‚å½“é‡åˆ°å¥‡æ•°å±‚æ—¶åœ¨rightStackä¸­æ·»åŠ å…ƒç´ ã€‚rightStackå­˜å‚¨å¶æ•°å±‚ï¼Œä»å³åˆ°å·¦ã€‚å½“é‡åˆ°å¶æ•°å±‚æ—¶åœ¨leftStack ä¸­æ·»åŠ å…ƒç´ ã€‚å¹¶æ³¨æ„é¡ºåº import java.util.*; /* public class TreeNode { int val = 0; TreeNode left = null; TreeNode right = null; public TreeNode(int val) { this.val = val; } } */ public class Solution { public ArrayList&lt;ArrayList&lt;Integer> > Print(TreeNode pRoot) { ArrayList&lt;ArrayList&lt;Integer> > bigList = new ArrayList&lt;>(); Stack&lt;TreeNode> leftStack = new Stack&lt;>(); Stack&lt;TreeNode> rightStack = new Stack&lt;>(); int len = 1; if (pRoot != null) { leftStack.push(pRoot); } while (!leftStack.isEmpty() || !rightStack.isEmpty()) { // ä»å·¦åˆ°å³ if (len % 2 != 0) { ArrayList&lt;Integer> list = new ArrayList&lt;>(); while (!leftStack.isEmpty()) { TreeNode t = leftStack.pop(); if (t == null) continue; list.add(t.val); rightStack.push(t.left); ////åˆ©ç”¨æ ˆçš„ç‰¹æ€§å¯ä»¥å®ç°ä¸‹ä¸€å±‚ä»å³åˆ°å·¦ rightStack.push(t.right); } if (list.size() > 0) { bigList.add(list); len++; } } // ä»å³åˆ°å·¦ else { ArrayList&lt;Integer> list = new ArrayList&lt;>(); while (!rightStack.isEmpty()) { TreeNode t = rightStack.pop(); if (t == null) continue; list.add(t.val); leftStack.push(t.right); //åˆ©ç”¨æ ˆçš„ç‰¹æ€§å¯ä»¥å®ç°ä¸‹ä¸€å±‚ä»å·¦åˆ°å³ leftStack.push(t.left); } if (list.size() > 0) { bigList.add(list); len++; } } } return bigList; } } 34. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†çš„ç»“æœã€‚å¦‚æœæ˜¯åˆ™è¾“å‡ºYes,å¦åˆ™è¾“å‡ºNoã€‚å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚ è§£é¢˜æ€è·¯ï¼šåˆ©ç”¨äºŒå‰æ ‘ååºéå†çš„æ€§è´¨ï¼Œååºéå† çš„åºåˆ—ä¸­ï¼Œæœ€åä¸€ä¸ªæ•°å­—æ˜¯æ ‘çš„æ ¹èŠ‚ç‚¹ ï¼Œæ•°ç»„ä¸­å‰é¢çš„æ•°å­—å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šç¬¬ä¸€éƒ¨åˆ†æ˜¯å·¦å­æ ‘èŠ‚ç‚¹ çš„å€¼ï¼Œéƒ½æ¯”æ ¹èŠ‚ç‚¹çš„å€¼å°ï¼›ç¬¬äºŒéƒ¨åˆ† æ˜¯å³å­æ ‘ èŠ‚ç‚¹çš„å€¼ï¼Œéƒ½æ¯” æ ¹ èŠ‚ç‚¹ çš„å€¼å¤§ï¼Œåé¢ç”¨é€’å½’åˆ†åˆ«åˆ¤æ–­å‰åä¸¤éƒ¨åˆ† æ˜¯å¦ ç¬¦åˆä»¥ä¸ŠåŸåˆ™ã€‚ public class Solution { public boolean VerifySquenceOfBST(int [] sequence) { if (sequence == null || sequence.length == 0) { return false; } return verify(sequence,0,sequence.length - 1); } private boolean verify(int [] arr, int first, int last) { if (first >= last) return true; //é€’å½’å‡ºå£ int index = first; while (index &lt; last &amp;&amp; arr[index] &lt;= arr[last]) { index++; //æ‰¾åˆ°äºŒå‰æ ‘é¡¶ç‚¹ } for (int i = index; i &lt; last; i++) { if (arr[i] &lt; arr[last]) { return false; } } return verify(arr,first,index - 1) &amp;&amp; verify(arr,index,last - 1); } } 35. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„é¢˜ç›®æè¿°è¾“å…¥ä¸€é¢—äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹å’Œä¸€ä¸ªæ•´æ•°ï¼Œæ‰“å°å‡ºäºŒå‰æ ‘ä¸­ç»“ç‚¹å€¼çš„å’Œä¸ºè¾“å…¥æ•´æ•°çš„æ‰€æœ‰è·¯å¾„ã€‚è·¯å¾„å®šä¹‰ä¸ºä»æ ‘çš„æ ¹ç»“ç‚¹å¼€å§‹å¾€ä¸‹ä¸€ç›´åˆ°å¶ç»“ç‚¹æ‰€ç»è¿‡çš„ç»“ç‚¹å½¢æˆä¸€æ¡è·¯å¾„ã€‚(æ³¨æ„: åœ¨è¿”å›å€¼çš„listä¸­ï¼Œæ•°ç»„é•¿åº¦å¤§çš„æ•°ç»„é å‰) è§£é¢˜æ€è·¯ï¼šè¿™é‡Œä½¿ç”¨æ·±åº¦ä¼˜å…ˆéå†ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœé€’å½’åˆ°å¶å­èŠ‚ç‚¹å¦‚æœè¿˜æ²¡æœ‰æ‰¾åˆ°è·¯å¾„ï¼Œå°±è¦å›é€€åˆ°çˆ¶èŠ‚ç‚¹ç»§ç»­å¯»æ‰¾ï¼Œç„¶åæœ€ç»ˆéœ€è¦å¯¹é“¾è¡¨è¿›è¡Œæ’åºï¼Œå› ä¸ºé€’å½’ä¸èƒ½ç¡®ä¿ç¬¬ä¸€ä¸ªå°±æ˜¯æœ€é•¿çš„é“¾è¡¨ã€‚ä¸è¿‡å¥½åƒç‰›å®¢çš„æµ‹è¯•ç”¨ä¾‹æ²¡æœ‰æ’åºä¹Ÿèƒ½acã€‚ã€‚ã€‚ import java.util.*; /** public class TreeNode { int val = 0; TreeNode left = null; TreeNode right = null; public TreeNode(int val) { this.val = val; } } */ public class Solution { public ArrayList&lt;ArrayList&lt;Integer>> FindPath(TreeNode root,int target) { ArrayList&lt;ArrayList&lt;Integer>> bigList = new ArrayList&lt;>(); ArrayList&lt;Integer> list = new ArrayList&lt;>(); dfs(root,target,bigList,list); //éœ€è¦å¯¹bigListé‡Œé¢çš„listè¿›è¡Œæ’åº Collections.sort(bigList,new Comparator&lt;ArrayList&lt;Integer>>(){ public int compare(ArrayList&lt;Integer> o1, ArrayList&lt;Integer> o2){ return o2.size() - o1.size(); } }); return bigList; } private void dfs(TreeNode root,int target,ArrayList&lt;ArrayList&lt;Integer>> bigList,ArrayList&lt;Integer> list){ if (root == null) return; list.add(root.val); target -= root.val; if (target == 0 &amp;&amp; root.left == null &amp;&amp; root.right == null) { bigList.add(new ArrayList&lt;Integer>(list)); //è¿™é‡Œéœ€è¦é‡æ–°newé“¾è¡¨ï¼Œè¿™æ ·å¤§é“¾è¡¨æ‰ä¼šæŒ‡å‘ä¸åŒé“¾è¡¨ } dfs(root.left,target,bigList,list); dfs(root.right,target,bigList,list); list.remove(list.size() - 1); //åˆ°å¶å­èŠ‚ç‚¹å¦‚æœè¿˜æ²¡æœ‰æ‰¾åˆ°è·¯å¾„ï¼Œå°±è¦å›é€€åˆ°çˆ¶èŠ‚ç‚¹ç»§ç»­å¯»æ‰¾ } } 36. å¤æ‚é“¾è¡¨çš„å¤åˆ¶é¢˜ç›®æè¿°è¾“å…¥ä¸€é¢—äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹å’Œä¸€ä¸ªæ•´æ•°ï¼Œæ‰“å°å‡ºäºŒå‰æ ‘ä¸­ç»“ç‚¹å€¼çš„å’Œä¸ºè¾“å…¥æ•´æ•°çš„æ‰€æœ‰è·¯å¾„ã€‚è·¯å¾„å®šä¹‰ä¸ºä»æ ‘çš„æ ¹ç»“ç‚¹å¼€å§‹å¾€ä¸‹ä¸€ç›´åˆ°å¶ç»“ç‚¹æ‰€ç»è¿‡çš„ç»“ç‚¹å½¢æˆä¸€æ¡è·¯å¾„ã€‚(æ³¨æ„: åœ¨è¿”å›å€¼çš„listä¸­ï¼Œæ•°ç»„é•¿åº¦å¤§çš„æ•°ç»„é å‰) è§£é¢˜æ€è·¯ï¼š1ã€éå†é“¾è¡¨ï¼Œå¤åˆ¶æ¯ä¸ªç»“ç‚¹ï¼Œå¦‚å¤åˆ¶ç»“ç‚¹Aå¾—åˆ°A1ï¼Œå°†ç»“ç‚¹A1æ’åˆ°ç»“ç‚¹Aåé¢ï¼›2ã€é‡æ–°éå†é“¾è¡¨ï¼Œå¤åˆ¶è€ç»“ç‚¹çš„éšæœºæŒ‡é’ˆç»™æ–°ç»“ç‚¹ï¼Œå¦‚A1.random = A.random.next;3ã€æ‹†åˆ†é“¾è¡¨ï¼Œå°†é“¾è¡¨æ‹†åˆ†ä¸ºåŸé“¾è¡¨å’Œå¤åˆ¶åçš„é“¾è¡¨ /* public class RandomListNode { int label; RandomListNode next = null; RandomListNode random = null; RandomListNode(int label) { this.label = label; } } */ public class Solution { public RandomListNode Clone(RandomListNode pHead){ if (pHead == null) return null; // æ’å…¥æ–°èŠ‚ç‚¹ï¼Œä½†æ˜¯ä¸èµ‹éšå³æ–¹å‘ RandomListNode cur = pHead; while (cur != null) { RandomListNode tmp = new RandomListNode(cur.label); tmp.next = cur.next; cur.next = tmp; cur = tmp.next; } //é‡æ–°å¼•ç”¨åˆ°å¤´ cur = pHead; // ä¸ºå…„å¼ŸèŠ‚ç‚¹èµ‹å€¼ while (cur != null) { RandomListNode tmp = cur.next; if (cur.random != null) { tmp.random = cur.random.next; } cur = tmp.next; } // æ‹†åˆ† cur = pHead; RandomListNode res = pHead.next; while (cur.next != null) { RandomListNode next = cur.next; cur.next = next.next; cur = next; } return res; } } 37. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨é¢˜ç›®æè¿°è¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæ’åºçš„åŒå‘é“¾è¡¨ã€‚è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„ç»“ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­ç»“ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚ è§£é¢˜æ€è·¯ï¼šç»“åˆç”»å›¾æ¯”è¾ƒå¥½ç†è§£ï¼Œä½¿ç”¨é€’å½’äºŒå‰æ ‘çš„ä¸­åºéå†ï¼Œç”¨pLastç”¨äºè®°å½•å½“å‰é“¾è¡¨çš„æœ«å°¾èŠ‚ç‚¹ï¼Œç„¶åå°†è¿™äº›å°æ®µé“¾è¡¨ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°åŠ åˆ°æœ«å°¾ã€‚ /** public class TreeNode { int val = 0; TreeNode left = null; TreeNode right = null; public TreeNode(int val) { this.val = val; } } */ public class Solution { private TreeNode pLast = null; public TreeNode Convert(TreeNode pRootOfTree) { if (pRootOfTree == null) return null; //å¦‚æœå·¦å­æ ‘ä¸ºç©ºï¼Œæ ¹èŠ‚ç‚¹ä¸ºåŒå‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹ TreeNode head = Convert(pRootOfTree.left); if (head == null) { head = pRootOfTree; } //å°†å°æ®µé“¾è¡¨ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°åŠ åˆ°æœ«å°¾ pRootOfTree.left = pLast; if (pLast != null) { pLast.right = pRootOfTree; } pLast = pRootOfTree; Convert(pRootOfTree.right); return head; } } 38. åºåˆ—åŒ–äºŒå‰æ ‘é¢˜ç›®æè¿°è¯·å®ç°ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ç”¨æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æ ‘ äºŒå‰æ ‘çš„åºåˆ—åŒ–æ˜¯æŒ‡ï¼šæŠŠä¸€æ£µäºŒå‰æ ‘æŒ‰ç…§æŸç§éå†æ–¹å¼çš„ç»“æœä»¥æŸç§æ ¼å¼ä¿å­˜ä¸ºå­—ç¬¦ä¸²ï¼Œä»è€Œä½¿å¾—å†…å­˜ä¸­å»ºç«‹èµ·æ¥çš„äºŒå‰æ ‘å¯ä»¥æŒä¹…ä¿å­˜ã€‚åºåˆ—åŒ–å¯ä»¥åŸºäºå…ˆåºã€ä¸­åºã€ååºã€å±‚åºçš„äºŒå‰æ ‘éå†æ–¹å¼æ¥è¿›è¡Œä¿®æ”¹ï¼Œåºåˆ—åŒ–çš„ç»“æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåºåˆ—åŒ–æ—¶é€šè¿‡ æŸç§ç¬¦å·è¡¨ç¤ºç©ºèŠ‚ç‚¹ï¼ˆ#ï¼‰ï¼Œä»¥ ï¼ è¡¨ç¤ºä¸€ä¸ªç»“ç‚¹å€¼çš„ç»“æŸï¼ˆvalue!ï¼‰ã€‚ äºŒå‰æ ‘çš„ååºåˆ—åŒ–æ˜¯æŒ‡ï¼šæ ¹æ®æŸç§éå†é¡ºåºå¾—åˆ°çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ç»“æœstrï¼Œé‡æ„äºŒå‰æ ‘ã€‚ è§£é¢˜æ€è·¯ï¼šè¿™é‡Œä½¿ç”¨å‰åºéå†åºåˆ—æ¥åºåˆ—åŒ–äºŒå‰æ ‘ï¼Œå½“åœ¨éå†äºŒå‰æ ‘æ—¶ç¢°åˆ°NullæŒ‡é’ˆæ—¶ï¼Œè¿™äº›NullæŒ‡é’ˆè¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦â€œ#â€ã€‚ç»“ç‚¹ä¹‹é—´çš„æ•°å€¼ç”¨é€—å·éš”å¼€ã€‚å…¨å±€å˜é‡indexç”¨æ¥ååºåŒ–çš„æ—¶å€™è¢«åˆ†å‰²æ•°ç»„çš„ä¸‹æ ‡ã€‚ import java.lang.*; /* public class TreeNode { int val = 0; TreeNode left = null; TreeNode right = null; public TreeNode(int val) { this.val = val; } } */ public class Solution { private int index = -1; //ååºåˆ—åŒ–æ—¶ä¸‹æ ‡ String Serialize(TreeNode root) { StringBuilder sb = new StringBuilder(); if (root == null) { sb.append(\"#,\"); return sb.toString(); } sb.append(root.val + \",\"); sb.append(Serialize(root.left)); sb.append(Serialize(root.right)); return sb.toString(); } TreeNode Deserialize(String str) { index++; String [] strArr = str.split(\",\"); TreeNode node = null; if (!strArr[index].equals(\"#\")) { node = new TreeNode(Integer.parseInt(strArr[index])); node.left = Deserialize(str); node.right = Deserialize(str); } return node; } } 39. å­—ç¬¦ä¸²çš„æ’åˆ—é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²,æŒ‰å­—å…¸åºæ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ‰€æœ‰æ’åˆ—ã€‚ä¾‹å¦‚è¾“å…¥å­—ç¬¦ä¸²abc,åˆ™æ‰“å°å‡ºç”±å­—ç¬¦a,b,cæ‰€èƒ½æ’åˆ—å‡ºæ¥çš„æ‰€æœ‰å­—ç¬¦ä¸²abc,acb,bac,bca,cabå’Œcbaã€‚è¾“å…¥æè¿°:è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²,é•¿åº¦ä¸è¶…è¿‡9(å¯èƒ½æœ‰å­—ç¬¦é‡å¤),å­—ç¬¦åªåŒ…æ‹¬å¤§å°å†™å­—æ¯ã€‚ è§£é¢˜æ€è·¯ï¼šå›ºå®šç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œé€’å½’å–å¾—é¦–ä½åé¢çš„å„ç§å­—ç¬¦ä¸²ç»„åˆï¼Œå†æŠŠç¬¬ä¸€ä¸ªå­—ç¬¦ä¸åé¢æ¯ä¸€ä¸ªå­—ç¬¦äº¤æ¢ï¼Œå¹¶åŒæ ·é€’å½’è·å¾—é¦–ä½åé¢çš„å­—ç¬¦ä¸²ç»„åˆï¼Œé€’å½’çš„å‡ºå£ï¼Œå°±æ˜¯åªå‰©ä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™ã€‚ import java.util.ArrayList; import java.util.Collections; public class Solution { public ArrayList&lt;String> Permutation(String str) { ArrayList&lt;String> resList = new ArrayList&lt;>(); if (str.length() == 0) return resList; backtracking(str.toCharArray(),resList,0); Collections.sort(resList); return resList; } private void backtracking(char[] arr,ArrayList&lt;String> list,int i) { if (i == arr.length - 1){ if (!list.contains(new String(arr))) { list.add(new String(arr)); return; } } else { for (int j = i; j &lt; arr.length; j++) { swap(arr,i,j); backtracking(arr,list,i+1); //å­—ç¬¦æ•°ç»„çš„é¡ºåºå›åˆ°è¿›å…¥é€’å½’å‰çš„çŠ¶æ€ï¼Œè¿™æ ·æ‰ä¸ä¼šå½±å“å¤–éƒ¨çš„éå†é¡ºåºã€‚ swap(arr,i,j); } } } private void swap(char[]arr,int i, int j) { char t = arr[i]; arr[i] = arr[j]; arr[j] = t; } }","categories":[{"name":"å‰‘æŒ‡Offer","slug":"å‰‘æŒ‡Offer","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/å‰‘æŒ‡Offer/"}],"tags":[{"name":"å‰‘æŒ‡Offer","slug":"å‰‘æŒ‡Offer","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/å‰‘æŒ‡Offer/"}]},{"title":"Java å¹¶å‘ç¼–ç¨‹å¤ä¹ ï¼ˆäºŒï¼‰","slug":"Java å¹¶å‘ç¼–ç¨‹å¤ä¹ ï¼ˆäºŒï¼‰","date":"2019-09-02T10:25:08.000Z","updated":"2019-09-30T14:31:38.000Z","comments":true,"path":"2019/09/02/java-bing-fa-bian-cheng-fu-xi-er/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/09/02/java-bing-fa-bian-cheng-fu-xi-er/","excerpt":"","text":"æ—¢ä¸Šç¯‡å¤ä¹ ä¸€åï¼Œç»§ç»­å†æ¥äº†è§£ J.U.C ä¸‹åŒ…çš„ç›¸å…³ç±» 1. JUC åŒ…ä¸­çš„åŸå­ç±»æ˜¯å“ª4ç±»?å‚è€ƒsynchronizedé‡‡ç”¨çš„æ˜¯æ‚²è§‚é”ç­–ç•¥æ¥è¾¾åˆ°çº¿ç¨‹å®‰å…¨çš„ç›®çš„ï¼Œè¿™å¹¶ä¸æ˜¯ç‰¹åˆ«é«˜æ•ˆçš„ä¸€ç§è§£å†³æ–¹æ¡ˆåœ¨J.U.Cä¸‹çš„atomicåŒ…æä¾›äº†ä¸€ç³»åˆ—çš„æ“ä½œç®€å•ï¼Œæ€§èƒ½é«˜æ•ˆï¼Œå¹¶èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨çš„ç±»å»æ›´æ–°åŸºæœ¬ç±»å‹å˜é‡ï¼Œæ•°ç»„å…ƒç´ ï¼Œå¼•ç”¨ç±»å‹ä»¥åŠæ›´æ–°å¯¹è±¡ä¸­çš„å­—æ®µç±»å‹ã€‚atomicåŒ…ä¸‹çš„è¿™äº›ç±»éƒ½æ˜¯é‡‡ç”¨çš„æ˜¯ä¹è§‚é”ç­–ç•¥å»åŸå­æ›´æ–°æ•°æ®ï¼Œåœ¨javaä¸­åˆ™æ˜¯ä½¿ç”¨CASæ“ä½œå…·ä½“å®ç°ã€‚ åŸºæœ¬ç±»å‹ AtomicBooleanï¼šä»¥åŸå­æ›´æ–°çš„æ–¹å¼æ›´æ–°booleanï¼› AtomicIntegerï¼šä»¥åŸå­æ›´æ–°çš„æ–¹å¼æ›´æ–°Integer; AtomicLongï¼šä»¥åŸå­æ›´æ–°çš„æ–¹å¼æ›´æ–°Longï¼› AtomicIntegerï¼šï¼ˆå¯ä»¥é˜…è¯»ä¸‹ç›¸å…³æºç ï¼‰atomicIntegerå€ŸåŠ©äº†UnSafeæä¾›çš„CASæ“ä½œèƒ½å¤Ÿä¿è¯æ•°æ®æ›´æ–°çš„æ—¶å€™æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¹¶ä¸”ç”±äºCASæ˜¯é‡‡ç”¨ä¹è§‚é”ç­–ç•¥ï¼Œå› æ­¤ï¼Œè¿™ç§æ•°æ®æ›´æ–°çš„æ–¹æ³•ä¹Ÿå…·æœ‰é«˜æ•ˆæ€§ã€‚ æ•°ç»„ç±»å‹ AtomicIntegerArrayï¼šåŸå­æ›´æ–°æ•´å‹æ•°ç»„ä¸­çš„å…ƒç´ ï¼› AtomicLongArrayï¼šåŸå­æ›´æ–°é•¿æ•´å‹æ•°ç»„ä¸­çš„å…ƒç´ ï¼› AtomicReferenceArrayï¼šåŸå­æ›´æ–°å¼•ç”¨ç±»å‹æ•°ç»„ä¸­çš„å…ƒç´  å¼•ç”¨ç±»å‹ AtomicReferenceï¼šåŸå­æ›´æ–°å¼•ç”¨ç±»å‹ï¼› AtomicReferenceFieldUpdaterï¼šåŸå­æ›´æ–°å¼•ç”¨ç±»å‹é‡Œçš„å­—æ®µï¼› AtomicMarkableReferenceï¼šåŸå­æ›´æ–°å¸¦æœ‰æ ‡è®°ä½çš„å¼•ç”¨ç±»å‹ï¼› å­—æ®µç±»å‹ AtomicIntegeFieldUpdaterï¼šåŸå­æ›´æ–°æ•´å‹å­—æ®µç±»ï¼› AtomicLongFieldUpdaterï¼šåŸå­æ›´æ–°é•¿æ•´å‹å­—æ®µç±»ï¼› AtomicStampedReferenceï¼šåŸå­æ›´æ–°å¼•ç”¨ç±»å‹ï¼Œè¿™ç§æ›´æ–°æ–¹å¼ä¼šå¸¦æœ‰ç‰ˆæœ¬å·ã€‚åœ¨æ›´æ–°çš„æ—¶å€™ä¼šå¸¦æœ‰ç‰ˆæœ¬å·ï¼Œæ˜¯ä¸ºäº†è§£å†³CASçš„ABAé—®é¢˜ï¼› 2. ä»€ä¹ˆæ˜¯AQSï¼ŸAQSåŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¯å‚è€ƒAQSè¯¦è§£ï¼ˆJavaGuide) ï¼ˆåŸºäºé˜Ÿåˆ—åŒæ­¥å™¨AbstractQueueSychronierï¼ˆç®€ç§°åŒæ­¥å™¨ï¼‰ ï¼Œåœ¨è¯´é˜Ÿåˆ—åŒæ­¥å™¨æ—¶ï¼Œæˆ‘æåˆ°äº†ä¸¤å¤§ç‚¹ï¼šé˜Ÿåˆ—åŒæ­¥å™¨ç»´æŠ¤ä¸€ä¸ªåŒæ­¥é˜Ÿåˆ—ï¼Œæ˜¯åŒå‘é“¾è¡¨ï¼ŒåŒæ—¶ä¹Ÿç»´æŠ¤ä¸€ä¸ªåŒæ­¥çŠ¶æ€stateï¼›è¿˜è¯´åˆ°å®ƒçš„æ–¹æ³•åˆ†ç±»ï¼šç‹¬å å¼é”å’Œåˆ†äº«å¼é”ã€‚ è¯´è¯´ç‹¬å å¼é”çš„å®ç°ï¼šæˆ‘è¯´åˆ°äº†æœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯åŠ å…¥åŒæ­¥é˜Ÿåˆ—çš„æ—¶ç»“ç‚¹éœ€è¦è‡ªæ—‹æŸ¥çœ‹å®ƒçš„å‰ä¸€ä¸ªç»“ç‚¹æ˜¯å¦è·å–é”ï¼Œå¦‚æœè·å–çš„è¯ï¼Œå®ƒåº”è¯¥å°è¯•è·å–é”ï¼ˆtryAcquireï¼‰ï¼‰ AQSçš„å…¨ç§°ä¸ºï¼ˆAbstractQueuedSynchronizerï¼‰ï¼Œè¿™ä¸ªç±»åœ¨java.util.concurrent.locksåŒ…ä¸‹é¢ã€‚ AQSæ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå¦‚æœè¢«è¯·æ±‚çš„å…±äº«èµ„æºç©ºé—²ï¼Œåˆ™å°†å½“å‰è¯·æ±‚èµ„æºçš„çº¿ç¨‹è®¾ç½®ä¸ºæœ‰æ•ˆçš„å·¥ä½œçº¿ç¨‹ï¼Œå¹¶ä¸”å°†å…±äº«èµ„æºè®¾ç½®ä¸ºé”å®šçŠ¶æ€ã€‚å¦‚æœè¢«è¯·æ±‚çš„å…±äº«èµ„æºè¢«å ç”¨ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¸€å¥—çº¿ç¨‹é˜»å¡ç­‰å¾…ä»¥åŠè¢«å”¤é†’æ—¶é”åˆ†é…çš„æœºåˆ¶ï¼Œè¿™ä¸ªæœºåˆ¶AQSæ˜¯ç”¨é˜Ÿåˆ—é”å®ç°çš„ï¼Œå³å°†æš‚æ—¶è·å–ä¸åˆ°é”çš„çº¿ç¨‹åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ã€‚ åŸç†ï¼šåŒæ­¥å™¨æ˜¯ç”¨æ¥æ„å»ºé”å’Œå…¶ä»–åŒæ­¥ç»„ä»¶çš„åŸºç¡€æ¡†æ¶ï¼Œå®ƒçš„å®ç°ä¸»è¦ä¾èµ–ä¸€ä¸ªintæˆå‘˜å˜é‡stateæ¥è¡¨ç¤ºåŒæ­¥çŠ¶æ€ä»¥åŠé€šè¿‡ä¸€ä¸ªFIFOé˜Ÿåˆ—æ„æˆç­‰å¾…é˜Ÿåˆ—ã€‚å®ƒçš„å­ç±»å¿…é¡»é‡å†™AQSçš„å‡ ä¸ªprotectedä¿®é¥°çš„ç”¨æ¥æ”¹å˜åŒæ­¥çŠ¶æ€çš„æ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•ä¸»è¦æ˜¯å®ç°äº†æ’é˜Ÿå’Œé˜»å¡æœºåˆ¶ã€‚çŠ¶æ€çš„æ›´æ–°ä½¿ç”¨getState,setStateä»¥åŠcompareAndSetStateè¿™ä¸‰ä¸ªæ–¹æ³•ã€‚AQSåº•å±‚ä½¿ç”¨äº†æ¨¡æ¿æ–¹æ³•æ¨¡å¼ AQSå®šä¹‰ä¸¤ç§èµ„æºå…±äº«æ–¹å¼: Exclusiveï¼ˆç‹¬å ï¼‰ï¼šåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æ‰§è¡Œï¼Œå¦‚ReentrantLockã€‚åˆå¯åˆ†ä¸ºå…¬å¹³é”å’Œéå…¬å¹³é”ï¼šShareï¼ˆå…±äº«ï¼‰ï¼šå¤šä¸ªçº¿ç¨‹å¯åŒæ—¶æ‰§è¡Œï¼Œå¦‚Semaphore/CountDownLatchã€‚ Semaphore(ä¿¡å·é‡)ï¼š å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®synchronized å’Œ ReentrantLock éƒ½æ˜¯ä¸€æ¬¡åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®æŸä¸ªèµ„æºï¼ŒSemaphore(ä¿¡å·é‡)å¯ä»¥æŒ‡å®šå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®æŸä¸ªèµ„æºã€‚ CountDownLatch ï¼ˆå€’è®¡æ—¶å™¨ï¼Œä¸€ä¸ªçº¿ç¨‹ç­‰å¾…ï¼‰ï¼š ç”¨æ¥æ§åˆ¶ä¸€ä¸ªæˆ–è€…å¤šä¸ªçº¿ç¨‹ç­‰å¾…å¤šä¸ªçº¿ç¨‹ï¼Œç›´åˆ°å…¶ä»–çº¿ç¨‹çš„æ“ä½œæ‰§è¡Œå®Œåå†æ‰§è¡Œã€‚ç»´æŠ¤äº†ä¸€ä¸ªè®¡æ•°å™¨ cntï¼Œæ¯æ¬¡è°ƒç”¨ countDown() æ–¹æ³•ä¼šè®©è®¡æ•°å™¨çš„å€¼å‡ 1ï¼Œå‡åˆ° 0 çš„æ—¶å€™ï¼Œé‚£äº›å› ä¸ºè°ƒç”¨ await() æ–¹æ³•è€Œåœ¨ç­‰å¾…çš„çº¿ç¨‹å°±ä¼šè¢«å”¤é†’ã€‚ CyclicBarrierï¼ˆå¾ªç¯æ …æ ï¼Œä¸€ç»„çº¿ç¨‹ç­‰å¾…ï¼‰ï¼šç”¨æ¥æ§åˆ¶å¤šä¸ªçº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œåªæœ‰å½“å¤šä¸ªçº¿ç¨‹éƒ½åˆ°è¾¾æ—¶ï¼Œè¿™äº›çº¿ç¨‹æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚å’Œ CountdownLatch ç›¸ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡ç»´æŠ¤è®¡æ•°å™¨æ¥å®ç°çš„ã€‚çº¿ç¨‹æ‰§è¡Œ await() æ–¹æ³•ä¹‹åè®¡æ•°å™¨ä¼šå‡ 1ï¼Œå¹¶è¿›è¡Œç­‰å¾…ï¼Œç›´åˆ°è®¡æ•°å™¨ä¸º 0ï¼Œæ‰€æœ‰è°ƒç”¨ await() æ–¹æ³•è€Œåœ¨ç­‰å¾…çš„çº¿ç¨‹æ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚ CountDownLatchä¸CyclicBarrierçš„æ¯”è¾ƒï¼š CountDownLatchä¸€èˆ¬ç”¨äºæŸä¸ªçº¿ç¨‹Aç­‰å¾…è‹¥å¹²ä¸ªå…¶ä»–çº¿ç¨‹æ‰§è¡Œå®Œä»»åŠ¡ä¹‹åï¼Œå®ƒæ‰æ‰§è¡Œï¼›è€ŒCyclicBarrierä¸€èˆ¬ç”¨äºä¸€ç»„çº¿ç¨‹äº’ç›¸ç­‰å¾…è‡³æŸä¸ªçŠ¶æ€ï¼Œç„¶åè¿™ä¸€ç»„çº¿ç¨‹å†åŒæ—¶æ‰§è¡Œï¼›CountDownLatchå¼ºè°ƒä¸€ä¸ªçº¿ç¨‹ç­‰å¤šä¸ªçº¿ç¨‹å®ŒæˆæŸä»¶äº‹æƒ…ã€‚CyclicBarrieræ˜¯å¤šä¸ªçº¿ç¨‹äº’ç­‰ï¼Œç­‰å¤§å®¶éƒ½å®Œæˆï¼Œå†æºæ‰‹å…±è¿›ã€‚ è°ƒç”¨CountDownLatchçš„countDownæ–¹æ³•åï¼Œå½“å‰çº¿ç¨‹å¹¶ä¸ä¼šé˜»å¡ï¼Œä¼šç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼›è€Œè°ƒç”¨CyclicBarrierçš„awaitæ–¹æ³•ï¼Œä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°CyclicBarrieræŒ‡å®šçš„çº¿ç¨‹å…¨éƒ¨éƒ½åˆ°è¾¾äº†æŒ‡å®šç‚¹çš„æ—¶å€™ï¼Œæ‰èƒ½ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼› CountDownLatchæ–¹æ³•æ¯”è¾ƒå°‘ï¼Œæ“ä½œæ¯”è¾ƒç®€å•ï¼Œè€ŒCyclicBarrieræä¾›çš„æ–¹æ³•æ›´å¤šï¼Œæ¯”å¦‚èƒ½å¤Ÿé€šè¿‡getNumberWaiting()ï¼ŒisBroken()è¿™äº›æ–¹æ³•è·å–å½“å‰å¤šä¸ªçº¿ç¨‹çš„çŠ¶æ€ï¼Œå¹¶ä¸”CyclicBarrierçš„æ„é€ æ–¹æ³•å¯ä»¥ä¼ å…¥barrierActionï¼ŒæŒ‡å®šå½“æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°è¾¾æ—¶æ‰§è¡Œçš„ä¸šåŠ¡åŠŸèƒ½ï¼› CountDownLatchæ˜¯ä¸èƒ½å¤ç”¨çš„ï¼Œè€ŒCyclicLatchæ˜¯å¯ä»¥å¤ç”¨çš„ã€‚ è¯»å†™é” ReentrantReadWriteLock å¯ä»¥ä¿è¯å¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è¯»ï¼Œæ‰€ä»¥åœ¨è¯»æ“ä½œè¿œå¤§äºå†™æ“ä½œçš„æ—¶å€™ï¼Œè¯»å†™é”å°±éå¸¸æœ‰ç”¨äº†,ç›¸å¯¹ReentrantLockã€‚ 3. ConcurrentHashMapæ˜¯ä»€ä¹ˆï¼Œå®ç°ï¼ŸConcurrentHashMapå°±æ˜¯çº¿ç¨‹å®‰å…¨çš„mapï¼Œå…¶ä¸­åˆ©ç”¨äº†é”åˆ†æ®µçš„æ€æƒ³æé«˜äº†å¹¶å‘åº¦ã€‚åœ¨JDK 1.7ç‰ˆæœ¬ä¸­ï¼š ConcurrentHashMapæ˜¯ç”±Segmentæ•°ç»„ç»“æ„å’ŒHashEntryæ•°ç»„ç»“æ„ç»„æˆã€‚ Segmentå®ç°äº†ReentrantLockï¼Œæ‰€ä»¥Segmentæ˜¯ä¸€ç§å¯é‡å…¥é”ï¼Œæ‰®æ¼”é”çš„è§’è‰².HashEntryç”¨äºå­˜å‚¨é”®å€¼å¯¹æ•°æ®ã€‚ åœ¨JDK 1.8ç‰ˆæœ¬ä¸­ï¼š å–æ¶ˆäº†Segmentåˆ†æ®µé”ï¼Œé‡‡ç”¨CASå’Œsynchronizedæ¥ä¿è¯å¹¶å‘å®‰å…¨ã€‚ æ•°æ®ç»“æ„è·ŸHashMap1.8çš„ç»“æ„ç±»ä¼¼ï¼Œæ•°ç»„+é“¾è¡¨/çº¢é»‘äºŒå‰æ ‘.Java 8åœ¨é“¾è¡¨é•¿åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼ï¼ˆ8ï¼‰æ—¶å°†é“¾è¡¨ï¼ˆå¯»å€æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆNï¼‰ï¼‰è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼ˆå¯»å€æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆlogï¼ˆNï¼‰ï¼‰ï¼‰ ConcurrentHashMapå’ŒHashtableçš„åŒºåˆ« 1.7ç‰ˆæœ¬ä¸1.8ç‰ˆæœ¬çš„ConcurrentHashMapçš„å®ç°å¯¹æ¯” 4. CopyOnWriteArrayListæ˜¯ä»€ä¹ˆï¼Œä½œç”¨ï¼Ÿå®ç°ï¼ŸCopyOnWriteArrayList è¯»å–æ˜¯å®Œå…¨ä¸ç”¨åŠ é”çš„ï¼Œå¹¶ä¸”æ›´å‰å®³çš„æ˜¯ï¼šå†™å…¥ä¹Ÿä¸ä¼šé˜»å¡è¯»å–æ“ä½œã€‚åªæœ‰å†™å…¥å’Œå†™å…¥ä¹‹é—´éœ€è¦è¿›è¡ŒåŒæ­¥ç­‰å¾…ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¯»æ“ä½œçš„æ€§èƒ½å°±ä¼šå¤§å¹…åº¦æå‡ã€‚ CopyOnWriteArrayList ç±»çš„æ‰€æœ‰å¯å˜æ“ä½œï¼ˆaddï¼Œsetç­‰ç­‰ï¼‰éƒ½æ˜¯é€šè¿‡åˆ›å»ºåº•å±‚æ•°ç»„çš„æ–°å‰¯æœ¬æ¥å®ç°çš„ã€‚å½“ List éœ€è¦è¢«ä¿®æ”¹çš„æ—¶å€™ï¼Œæˆ‘å¹¶ä¸ä¿®æ”¹åŸæœ‰å†…å®¹ï¼Œè€Œæ˜¯å¯¹åŸæœ‰æ•°æ®è¿›è¡Œä¸€æ¬¡å¤åˆ¶ï¼Œå°†ä¿®æ”¹çš„å†…å®¹å†™å…¥å‰¯æœ¬ã€‚å†™å®Œä¹‹åï¼Œå†å°†ä¿®æ”¹å®Œçš„å‰¯æœ¬æ›¿æ¢åŸæ¥çš„æ•°æ®ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯å†™æ“ä½œä¸ä¼šå½±å“è¯»æ“ä½œäº†ã€‚ 5. ConcurrentLinkedQueue æ˜¯ä»€ä¹ˆï¼ŸJavaæä¾›çš„çº¿ç¨‹å®‰å…¨çš„ Queue å¯ä»¥åˆ†ä¸ºé˜»å¡é˜Ÿåˆ—å’Œéé˜»å¡é˜Ÿåˆ—,ConcurrentLinkedQueue éé˜»å¡é˜Ÿåˆ—çš„ä¸€ç§å®ç°ï¼Œé˜»å¡é˜Ÿåˆ—å¯ä»¥é€šè¿‡åŠ é”æ¥å®ç°ï¼Œéé˜»å¡é˜Ÿåˆ—å¯ä»¥é€šè¿‡ CAS æ“ä½œå®ç°ã€‚ConcurrentLinkedQueue ä¸»è¦ä½¿ç”¨ CAS éé˜»å¡ç®—æ³•æ¥å®ç°çº¿ç¨‹å®‰å…¨ã€‚ConcurrentLinkedQueue é€‚åˆåœ¨å¯¹æ€§èƒ½è¦æ±‚ç›¸å¯¹è¾ƒé«˜ï¼ŒåŒæ—¶å¯¹é˜Ÿåˆ—çš„è¯»å†™å­˜åœ¨å¤šä¸ªçº¿ç¨‹åŒæ—¶è¿›è¡Œçš„åœºæ™¯ï¼Œå³å¦‚æœå¯¹é˜Ÿåˆ—åŠ é”çš„æˆæœ¬è¾ƒé«˜åˆ™é€‚åˆä½¿ç”¨æ— é”çš„ConcurrentLinkedQueueæ¥æ›¿ä»£ã€‚ 6. BlockingQueueé˜»å¡é˜Ÿåˆ—ï¼ˆBlockingQueueï¼‰è¢«å¹¿æ³›ä½¿ç”¨åœ¨â€œç”Ÿäº§è€…-æ¶ˆè´¹è€…â€é—®é¢˜ä¸­ï¼Œå…¶åŸå› æ˜¯BlockingQueueæä¾›äº†å¯é˜»å¡çš„æ’å…¥å’Œç§»é™¤çš„æ–¹æ³•ã€‚å½“é˜Ÿåˆ—å®¹å™¨å·²æ»¡ï¼Œç”Ÿäº§è€…çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—æœªæ»¡ï¼›å½“é˜Ÿåˆ—å®¹å™¨ä¸ºç©ºæ—¶ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œç›´è‡³é˜Ÿåˆ—éç©ºæ—¶ä¸ºæ­¢ã€‚ ç›¸å…³å‡ ä¸ªå®ç°ç±»ï¼š ArrayBlockingQueueï¼šæ•°ç»„å®ç°çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œè¯¥é˜Ÿåˆ—å‘½ä»¤å…ƒç´ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ LinkedBlockingQueueï¼šLinkedBlockingQueueæ˜¯ç”¨é“¾è¡¨å®ç°çš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ï¼ŒåŒæ ·æ»¡è¶³FIFOçš„ç‰¹æ€§ä¸ArrayBlockingQueue ç›¸æ¯”èµ·æ¥å…·æœ‰æ›´é«˜çš„ååé‡ã€‚ PriorityBlockingQueueï¼šä¸€ä¸ªæ”¯æŒä¼˜å…ˆçº§çš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚é»˜è®¤æƒ…å†µä¸‹å…ƒç´ é‡‡ç”¨è‡ªç„¶é¡ºåºè¿›è¡Œæ’åºï¼Œä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ç±»å®ç° compareTo() æ–¹æ³•æ¥æŒ‡å®šå…ƒç´ æ’åºè§„åˆ™ï¼Œæˆ–è€…åˆå§‹åŒ–æ—¶é€šè¿‡æ„é€ å™¨å‚æ•° Comparator æ¥æŒ‡å®šæ’åºè§„åˆ™ã€‚ 7. JMM æ˜¯ä»€ä¹ˆï¼Œä¸‰å¤§ç‰¹æ€§ï¼ŸJava å†…å­˜æ¨¡å‹è¯•å›¾å±è”½å„ç§ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿçš„å†…å­˜è®¿é—®å·®å¼‚ï¼Œä»¥å®ç°è®© Java ç¨‹åºåœ¨å„ç§å¹³å°ä¸‹éƒ½èƒ½è¾¾åˆ°ä¸€è‡´çš„å†…å­˜è®¿é—®æ•ˆæœã€‚ä¸‰å¤§ç‰¹æ€§ï¼š åŸå­æ€§ï¼šåŸå­æ€§æ˜¯æŒ‡ä¸€ä¸ªæ“ä½œæ˜¯ä¸å¯ä¸­æ–­çš„ï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡ŒæˆåŠŸè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œå¤±è´¥ å¯è§æ€§ï¼šå¯è§æ€§æŒ‡å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡çš„å€¼ï¼Œå…¶å®ƒçº¿ç¨‹èƒ½å¤Ÿç«‹å³å¾—çŸ¥è¿™ä¸ªä¿®æ”¹ æœ‰åºæ€§ï¼šä¸ºäº†æ€§èƒ½ä¼˜åŒ–ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¼šè¿›è¡ŒæŒ‡ä»¤é‡æ’åºï¼›ä¹Ÿå°±æ˜¯è¯´javaæœ‰åºæ€§å¯ä»¥æ€»ç»“ä¸ºï¼šå¦‚æœåœ¨æœ¬çº¿ç¨‹å†…è§‚å¯Ÿï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æœ‰åºçš„ï¼›å¦‚æœåœ¨ä¸€ä¸ªçº¿ç¨‹è§‚å¯Ÿå¦ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æ— åºçš„ã€‚ æŒ‡ä»¤é‡æ’ï¼šåœ¨ Java å†…å­˜æ¨¡å‹ä¸­ï¼Œå…è®¸ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯¹æŒ‡ä»¤è¿›è¡Œé‡æ’åºï¼Œé‡æ’åºè¿‡ç¨‹ä¸ä¼šå½±å“åˆ°å•çº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œï¼Œå´ä¼šå½±å“åˆ°å¤šçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„æ­£ç¡®æ€§ã€‚ å‚è€ƒæ–‡çŒ®ï¼š ã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹ Java å¹¶å‘ä¸“é¢˜27ç¯‡ CyC2018/Javaå¹¶å‘ JavaGuide/Javaå¹¶å‘","categories":[{"name":"Javaå¹¶å‘","slug":"Javaå¹¶å‘","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/Javaå¹¶å‘/"}],"tags":[{"name":"å¹¶å‘ç¼–ç¨‹","slug":"å¹¶å‘ç¼–ç¨‹","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/å¹¶å‘ç¼–ç¨‹/"}]},{"title":"å‰‘æŒ‡Offerï¼ˆ20-29Javaè¯­è¨€æè¿°ï¼‰","slug":"å‰‘æŒ‡Offerï¼ˆ20-29)","date":"2019-08-28T10:25:08.000Z","updated":"2019-09-30T14:31:06.000Z","comments":true,"path":"2019/08/28/jian-zhi-offer-20-29/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/08/28/jian-zhi-offer-20-29/","excerpt":"","text":"ç»§ç»­å‘å‰ï¼Œå¾ˆå¿«ä¹æœˆä»½å°±åˆ°äº†ï¼ç¬¬ä¸‰æ³¢ã€‚ã€‚äº®å‰‘è¯­å½•ï¼šâ€œå¤©ä¸‹æ²¡æœ‰æ‰“ä¸ç ´çš„åŒ…å›´åœˆï¼Œå¯¹æˆ‘ä»¬ç‹¬ç«‹å›¢æ¥è¯´ï¼Œè€å­å°±ä¸æŠŠå®ƒå½“æˆæ˜¯çªå›´æˆ˜ï¼Œå½“æˆä»€ä¹ˆï¼Ÿå½“æˆè¿›æ”»ã€‚å‘æˆ‘ä»¬æ­£é¢çš„æ•Œäººå‘èµ·è¿›æ”»ï¼Œè®°ä½ï¼Œå…¨å›¢å“ªæ€•åªå‰©ä¸€ä¸ªäººï¼Œä¹Ÿè¦ç»§ç»­è¿›æ”»ï¼Œæ­»ä¹Ÿè¦æ­»åœ¨å†²é”‹çš„è·¯ä¸Šã€‚â€ 20.é“¾è¡¨ä¸­å€’æ•°ç¬¬ K ä¸ªç»“ç‚¹é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å‡ºè¯¥é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªç»“ç‚¹ã€‚è§£é¢˜æ€è·¯ï¼š è¿™é¢˜åœ¨leetcodeä¸­ä¹Ÿæœ‰å‡ºç°ï¼Œä¹‹å‰ä¹Ÿåšè¿‡ï¼Œæˆ‘çš„æ€è·¯æ˜¯é¦–å…ˆéå†ä¸€æ¬¡æ±‚é“¾è¡¨çš„é•¿åº¦ï¼Œç„¶åå†é‡æ–°éå†åˆ° å€’æ•°ç¬¬kä¸ªç»“ç‚¹ï¼Œè¿™æ ·çš„è¯éœ€è¦éå†2æ¬¡ã€‚ /* public class ListNode { int val; ListNode next = null; ListNode(int val) { this.val = val; } }*/ public class Solution { public ListNode FindKthToTail(ListNode head,int k) { if (head == null ) return null; int length = 1; ListNode temp = head; while (temp.next != null) { length++; temp = temp.next; } if (k > length || k &lt;= 0) return null; for (int i = 0; i &lt; length - k ; i++) { head = head.next; } return head; } } ä¹Ÿå¯ä»¥åªåšåˆ°éå†ä¸€æ¬¡ï¼Œå°±æ˜¯è®©first æŒ‡é’ˆå…ˆèµ°kæ­¥ï¼Œç„¶åè®©firstæŒ‡é’ˆå’ŒsecondæŒ‡é’ˆä¸€èµ·èµ°ï¼ŒçŸ¥é“firstæŒ‡é’ˆæŒ‡å‘ä¸ºç©ºã€‚éœ€è¦æ³¨æ„çš„å°±æ˜¯kçš„å–å€¼ä¸èƒ½å¤§äºé“¾è¡¨é•¿åº¦ï¼Œè¿™é‡Œè¦åˆ¤æ–­ã€‚ public class Solution { public ListNode FindKthToTail(ListNode head,int k) { if (head == null) return null; ListNode first = head; ListNode second = head; if (k &lt;= 0) return null; for (int i = 0; i &lt; k; i++) { if (first == null) return null; first = first.next; } while (first != null) { first = first.next; second = second.next; } return second; } } 21. é“¾è¡¨ä¸­ç¯çš„å…¥å£ç»“ç‚¹é¢˜ç›®æè¿°ï¼šç»™ä¸€ä¸ªé“¾è¡¨ï¼Œè‹¥å…¶ä¸­åŒ…å«ç¯ï¼Œè¯·æ‰¾å‡ºè¯¥é“¾è¡¨çš„ç¯çš„å…¥å£ç»“ç‚¹ï¼Œå¦åˆ™ï¼Œè¾“å‡ºnullã€‚è§£é¢˜æ€è·¯ï¼šåˆ©ç”¨åŒæŒ‡é’ˆæ³•ï¼Œä¸€ä¸ªèµ°ä¸€æ­¥slowï¼Œä¸€ä¸ªèµ°ä¸¤æ­¥fastï¼Œç„¶åå½“ä¸¤è€…é¦–æ¬¡ç›¸é‡æ—¶ï¼Œåˆ©ç”¨æ•°å­¦é€»è¾‘å¯ä»¥æ¨æ–­å‡ºï¼Œæ­¤æ—¶å°†fast è®¾ç½®ä¸ºå¤´èŠ‚ç‚¹ï¼Œç„¶åä¸¤è€…å†æ¬¡åŒæ—¶å‰è¿›ä¸€æ­¥ï¼Œå¦‚æœå†æ¬¡ç›¸é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªç‚¹å°±æ˜¯ç¯çš„å…¥å£èŠ‚ç‚¹ã€‚ public class Solution { public ListNode EntryNodeOfLoop(ListNode pHead){ if (pHead == null || pHead.next == null) return null; ListNode fast = pHead; ListNode slow = pHead; while (fast.next.next != null &amp;&amp; slow.next != null) { fast = fast.next.next; slow = slow.next; if (fast == slow) break; } fast = pHead; while (fast != slow) { fast = fast.next; slow = slow.next; } return slow; } } 22. åè½¬é“¾è¡¨é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œåè½¬é“¾è¡¨åï¼Œè¾“å‡ºæ–°é“¾è¡¨çš„è¡¨å¤´ã€‚è§£é¢˜æ€è·¯ï¼šä½¿ç”¨å¤´æ’æ³•ï¼Œå°†æ‰€æœ‰èŠ‚ç‚¹çš„nextæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ public class Solution { public ListNode ReverseList(ListNode head) { ListNode newList = new ListNode(-1); while (head != null) { ListNode next = head.next; head.next = newList.next;////å°†å½“å‰èŠ‚ç‚¹å¯¹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ newList.next = head;////å°†å‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹ head = next; } return newList.next; } } ä¹Ÿå¯ä»¥ä½¿ç”¨é€’å½’ï¼š public class Solution { public ListNode ReverseList(ListNode head) { if (head == null || head.next == null) { return head; } ListNode next = head.next; head.next = null; ListNode newHead = ReverseList(next); next.next = head; return newHead; } } 24. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨é¢˜ç›®æè¿°è¾“å…¥ä¸¤ä¸ªå•è°ƒé€’å¢çš„é“¾è¡¨ï¼Œè¾“å‡ºä¸¤ä¸ªé“¾è¡¨åˆæˆåçš„é“¾è¡¨ï¼Œå½“ç„¶æˆ‘ä»¬éœ€è¦åˆæˆåçš„é“¾è¡¨æ»¡è¶³å•è°ƒä¸å‡è§„åˆ™è§£é¢˜æ€è·¯ï¼šè¿­ä»£ä¸¤ä¸ªé“¾è¡¨ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒï¼Œå“ªä¸€ä¸ªæ¯”è¾ƒå°å°±åœ¨å‰é¢ï¼Œéœ€è¦æ³¨æ„çš„å°±æ˜¯éœ€è¦æœ‰ä¸ªä¸´æ—¶èŠ‚ç‚¹newList public class Solution { public ListNode Merge(ListNode list1,ListNode list2) { if (list1 == null) return list2; if (list2 == null) return list1; ListNode head = new ListNode(0); ListNode newList = head; while (list1 != null &amp;&amp; list2 != null) { if (list1.val &lt; list2.val) { newList.next = list1; list1 = list1.next; } else { newList.next = list2; list2 = list2.next; } newList = newList.next; if (list1 == null) { newList.next = list2; } if (list2 == null) { newList.next = list1; } } return head.next; } } ä¹Ÿå¯ä»¥ä½¿ç”¨é€’å½’ï¼Œæ›´åŠ ç®€æ´æ–¹ä¾¿ã€‚ã€‚ public class Solution { public ListNode Merge(ListNode list1,ListNode list2) { if (list1 == null) return list2; if (list2 == null) return list1; if (list1.val &lt; list2.val) { list1.next = Merge(list1.next,list2); return list1; } else { list2.next = Merge(list1,list2.next); return list2; } } } 25. æ ‘çš„å­ç»“æ„é¢˜ç›®æè¿°è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aï¼ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æ„ã€‚ï¼ˆpsï¼šæˆ‘ä»¬çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æ„ï¼‰è§£é¢˜æ€è·¯ï¼šé€’å½’æ€æƒ³ï¼Œå½“å‡ºç°æ ‘æ€»è¦è€ƒè™‘é€’å½’ï¼Œæ–¹ä¾¿ï¼Œè¿™é‡ŒisSameä¸ºåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ç›¸åŒï¼Œè¿™é‡Œéœ€è¦æ³¨æ„t2ä¸ºç©ºæ—¶æ˜¯ä¸€ç§å­ç»“æ„ï¼Œåº”è¿”å›trueã€‚ public class Solution { public boolean HasSubtree(TreeNode root1,TreeNode root2) { if (root1 == null || root2 == null) return false; return isSame(root1,root2) || HasSubtree(root1.left,root2) || HasSubtree(root1.right,root2); } private boolean isSame(TreeNode t1,TreeNode t2) { if (t2 == null) return true; //t2ä¸ºç©ºæ—¶ä¸ºå­ç»“æ„ï¼Œè¿”å›çœŸ if (t1 == null) return false; //t1ä¸ºç©ºæ—¶ç›´æ¥è¿”å›false if (t1.val != t2.val) return false; return isSame(t1.left,t2.left) &amp;&amp; isSame(t1.right,t2.right); } } 26. äºŒå‰æ ‘çš„é•œåƒé¢˜ç›®æè¿°æ“ä½œç»™å®šçš„äºŒå‰æ ‘ï¼Œå°†å…¶å˜æ¢ä¸ºæºäºŒå‰æ ‘çš„é•œåƒã€‚ äºŒå‰æ ‘çš„é•œåƒå®šä¹‰ï¼šæºäºŒå‰æ ‘ 8 / \\ 6 10 / \\ / \\ 5 7 9 11 é•œåƒäºŒå‰æ ‘ 8 / \\ 10 6 / \\ / \\ 11 9 7 5 è§£é¢˜æ€è·¯ï¼šåŒæ ·è€ƒè™‘ä½¿ç”¨é€’å½’æ¥è§£å†³é—®é¢˜ï¼Œä¸­é—´éƒ¨åˆ†ä¸ºäº¤æ¢å·¦å³èŠ‚ç‚¹çš„ä»£ç ï¼Œåé¢é€’å½’ã€‚ public class Solution { public void Mirror(TreeNode root) { if (root == null) return; TreeNode temp = null; temp = root.left; root.left = root.right; root.right = temp; Mirror(root.left); Mirror(root.right); } } 27. å¯¹ç§°çš„äºŒå‰æ ‘é¢˜ç›®æè¿°è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€é¢—äºŒå‰æ ‘æ˜¯ä¸æ˜¯å¯¹ç§°çš„ã€‚æ³¨æ„ï¼Œå¦‚æœä¸€ä¸ªäºŒå‰æ ‘åŒæ­¤äºŒå‰æ ‘çš„é•œåƒæ˜¯åŒæ ·çš„ï¼Œå®šä¹‰å…¶ä¸ºå¯¹ç§°çš„ã€‚äºŒå‰æ ‘çš„é•œåƒå¯ä»¥å‚è€ƒ26é¢˜ è§£é¢˜æ€è·¯ï¼šé‡è½½æ–¹æ³•isSymmetricalï¼Œç„¶ååˆ¤æ–­ï¼Œé€’å½’ã€‚ public class Solution { boolean isSymmetrical(TreeNode pRoot){ if (pRoot == null) return true; return isSymmetrical(pRoot.left,pRoot.right); } boolean isSymmetrical(TreeNode t1, TreeNode t2) { if (t1 == null &amp;&amp; t2 == null) return true; if (t1 == null || t2 == null) return false; if (t1.val != t2.val) return false; return isSymmetrical(t1.left,t2.right) &amp;&amp; isSymmetrical(t1.right,t2.left); } } 28. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µé¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªçŸ©é˜µï¼ŒæŒ‰ç…§ä»å¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¯ä¸€ä¸ªæ•°å­—ï¼Œä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥å¦‚ä¸‹4 X 4çŸ©é˜µï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 åˆ™ä¾æ¬¡æ‰“å°å‡ºæ•°å­— 1,2,3,4,8,12,16,15,14,13,9,5,6,7,11,10. è§£é¢˜æ€è·¯ï¼šåˆ†åˆ«ä»å››ä¸ªæ–¹å‘å¼€å§‹éå†æ”¾è¿›é“¾è¡¨ä¸­ import java.util.ArrayList; public class Solution { public ArrayList&lt;Integer> printMatrix(int [][] matrix) { int m1 = 0; int m2 = matrix.length - 1; int n1 = 0; int n2 = matrix[0].length - 1; ArrayList&lt;Integer> list = new ArrayList&lt;>(); while (m1 &lt;= m2 &amp;&amp; n1 &lt;= n2) { // ä»å·¦åˆ°å³ for (int i = m1; i &lt;= n2; i++) { list.add(matrix[m1][i]); } // ä»ä¸Šåˆ°ä¸‹ for (int i = m1+1; i &lt;= m2; i++) { list.add(matrix[i][n2]); } //ä»å³åˆ°å·¦ if (m1 != m2) { for (int i = n2 - 1; i >= n1; i--){ list.add(matrix[m2][i]); } } // ä»ä¸‹åˆ°ä¸Š if (n1 != n2) { for (int i = m2 - 1; i > m1; i--) list.add(matrix[i][n1]); } m1++; m2--; n1++; n2--; } return list; } } 29. åŒ…å«minå‡½æ•°çš„æ ˆé¢˜ç›®æè¿°ï¼šå®šä¹‰æ ˆçš„æ•°æ®ç»“æ„ï¼Œè¯·åœ¨è¯¥ç±»å‹ä¸­å®ç°ä¸€ä¸ªèƒ½å¤Ÿå¾—åˆ°æ ˆä¸­æ‰€å«æœ€å°å…ƒç´ çš„minå‡½æ•°ï¼ˆæ—¶é—´å¤æ‚åº¦åº”ä¸ºOï¼ˆ1ï¼‰ï¼‰ã€‚è§£é¢˜æ€è·¯ï¼šä½¿ç”¨ä¸€ä¸ªæœ€å°å…ƒç´ æ ˆï¼Œ æ¯æ¬¡å‹æ ˆæ“ä½œæ—¶, å¦‚æœå‹æ ˆå…ƒç´ æ¯”å½“å‰æœ€å°å…ƒç´ æ›´å°, å°±æŠŠè¿™ä¸ªå…ƒç´ å‹å…¥æœ€å°å…ƒç´ æ ˆ, åŸæœ¬çš„æœ€å°å…ƒç´ å°±æˆäº†æ¬¡å°å…ƒç´ . åŒç†, å¼¹æ ˆæ—¶, å¦‚æœå¼¹å‡ºçš„å…ƒç´ å’Œæœ€å°å…ƒç´ æ ˆçš„æ ˆé¡¶å…ƒç´ ç›¸ç­‰, å°±æŠŠæœ€å°å…ƒç´ çš„æ ˆé¡¶å¼¹å‡º. import java.util.Stack; public class Solution { public Stack&lt;Integer> stack = new Stack&lt;>(); public Stack&lt;Integer> minStack = new Stack&lt;>(); public void push(int node) { stack.push(node); if (minStack.isEmpty()) { minStack.push(node); } else if (node &lt;= minStack.peek()){ minStack.push(node); } } public void pop() { if (minStack.peek() == stack.pop()) { minStack.pop(); } } public int top() { return stack.peek(); } public int min() { return minStack.peek(); } } è¿™å‘¨å›å­¦æ ¡æŠ¥åˆ°äº†ï¼Œè¿™åé“åˆ·çš„æœ‰ç‚¹ä¹…ï¼Œè¦åŠ å¿«è¿›åº¦äº†å‘€ã€‚ã€‚","categories":[{"name":"å‰‘æŒ‡Offer","slug":"å‰‘æŒ‡Offer","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/å‰‘æŒ‡Offer/"}],"tags":[{"name":"å‰‘æŒ‡Offer","slug":"å‰‘æŒ‡Offer","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/å‰‘æŒ‡Offer/"}]},{"title":"å‰‘æŒ‡Offerï¼ˆ10-19Javaè¯­è¨€æè¿°ï¼‰","slug":"å‰‘æŒ‡Offerï¼ˆ10-19)","date":"2019-08-19T10:25:08.000Z","updated":"2019-09-30T14:29:58.000Z","comments":true,"path":"2019/08/19/jian-zhi-offer-10-19/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/08/19/jian-zhi-offer-10-19/","excerpt":"","text":"ç»§ç»­åˆ·å‰‘æŒ‡ï¼Œæé«˜æ•ˆç‡ï¼Œç¬¬äºŒæ³¢ã€‚ã€‚ äº®å‰‘ç»å…¸è¯­å½• äºŒï¼šé€¢æ•Œå¿…äº®å‰‘ï¼Œå€’åœ¨å¯¹æ‰‹çš„å‰‘ä¸‹ä¸ä¸¢è„¸ï¼Œä¸¢è„¸çš„æ˜¯ä¸æ•¢äº®å‰‘ã€‚ 10. æ–æ³¢é‚£å¥‘æ•°åˆ—é¢˜ç›®æè¿°ï¼šå¤§å®¶éƒ½çŸ¥é“æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œç°åœ¨è¦æ±‚è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œè¯·ä½ è¾“å‡ºæ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬né¡¹ï¼ˆä»0å¼€å§‹ï¼Œç¬¬0é¡¹ä¸º0ï¼‰ã€‚n&lt;=39è§£é¢˜æ€è·¯ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œç»å…¸é€’å½’è¯´æ˜ä¾‹å­ï¼Œä¸è¿‡é€’å½’çš„è¯ä»ä¸Šåˆ°ä¸‹é€’å½’ï¼Œè€Œä¸”æœ‰å¾ˆå¤šé‡å¤é¡¹ï¼Œè¿™é‡Œåº”å½“ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ï¼Œæ—¶é—´å¤æ‚åº¦O(n)ï¼Œç©ºé—´å¤æ‚åº¦O(1ï¼‰ã€‚ public class Solution { public int Fibonacci(int n) { if (n &lt;= 1) return n; int pre1 = 1; int pre2 = 0; for (int i = 2; i &lt;= n; i++) { int cur = pre1 + pre2; pre2 = pre1; pre1 = cur; } return pre1; } } 11.çŸ©é˜µè¦†ç›–é¢˜ç›®æè¿°æˆ‘ä»¬å¯ä»¥ç”¨21çš„å°çŸ©å½¢æ¨ªç€æˆ–è€…ç«–ç€å»è¦†ç›–æ›´å¤§çš„çŸ©å½¢ã€‚è¯·é—®ç”¨nä¸ª21çš„å°çŸ©å½¢æ— é‡å åœ°è¦†ç›–ä¸€ä¸ª2*nçš„å¤§çŸ©å½¢ï¼Œæ€»å…±æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Ÿè§£é¢˜æ€è·¯ï¼šå…¶å®ä»£ç è·Ÿç¬¬åé¢˜ä¸€æ ·ï¼Œåªæ˜¯æ¢ä¸ªæ€è·¯ï¼Œå…³é”®ç†è§£æ¶‚æ‰æœ€åä¸€çº§çŸ©é˜µçš„æ—¶å€™ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨æ¨ªå‘å®Œæˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç«–å‘å®Œæˆï¼Œè€Œä½¿ç”¨æ¨ªå‘å®Œæˆæ˜¯f(n - 1),ä½¿ç”¨ç«–å‘å®Œæˆæ˜¯f(n - 2) public class Solution { public int RectCover(int target) { if (target &lt;= 2) return target; int pre1 = 2, pre2 = 1; for (int i = 3; i &lt;= target; i++) { int cur = pre1 + pre2; pre2 = pre1; pre1 = cur; } return pre1; } } 12.è·³å°é˜¶é¢˜ç›®æè¿°ï¼šä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ªnçº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ï¼ˆå…ˆåæ¬¡åºä¸åŒç®—ä¸åŒçš„ç»“æœï¼‰ã€‚è§£é¢˜æ€è·¯ï¼šå…¶å®è¿˜æ˜¯è·Ÿæ–æ³¢é‚£å¥‘æ•°åˆ—ä¸€æ ·ï¼Œå°±æ˜¯å½“target = 1 æ—¶ï¼Œåªæœ‰ä¸€ç§ï¼Œtarget = 2æ—¶æœ‰ä¸¤ç§ï¼Œå½“target = næ—¶ ï¼šF(n) = F(n - 1) + F(n - 2) public class Solution { public int JumpFloor(int target) { if (target &lt; 2) return target; int pre1 = 2, pre2 = 1; for (int i = 2; i &lt; target; i++) { int cur = pre1 + pre2; pre2 = pre1; pre1 = cur; } return pre1; } } 13.å˜æ€è·³å°é˜¶é¢˜ç›®æè¿°ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§â€¦â€¦å®ƒä¹Ÿå¯ä»¥è·³ä¸Šnçº§ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ªnçº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚è§£é¢˜æ€è·¯ï¼šæ€è·¯è·Ÿ12é¢˜å·®ä¸å¤šï¼Œåªä¸è¿‡è¿™é¢˜åœ¨æ±‚çš„è¿‡ç¨‹ä¸­æŠŠå€¼éƒ½æš‚æ—¶æ”¾åœ¨æ•°ç»„é‡Œï¼Œæœ€åæ±‚çš„æ—¶å€™éå†æ•°æ®è¿™äº›æ±‚å¥½çš„å¯¹åº”çš„é˜¶çº§ç§æ•°ä¹‹å’Œå³ä¸ºæ–°çš„ä¸‹çº§é˜¶æ¢¯ç§æ•°ã€‚éœ€è¦æ³¨æ„æ¯ä¸€ä¸ªdp[i]éƒ½è¦++ï¼Œå› ä¸ºéƒ½å¯ä»¥ç›´æ¥ä»ç¬¬0é˜¶ä¸€æ­¥è·³è¿‡å»ã€‚ public class Solution { public int JumpFloorII(int target) { if (target &lt; 2) return target; int dp[] = new int[target]; dp[0] = 1; dp[1] = 2; for (int i = 2;i&lt; target; i++) { for (int j = 0; j &lt; i; j++) { dp[i] += dp[j]; } dp[i]++; } return dp[target - 1]; } } 14.æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—é¢˜ç›®æè¿°æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚è¾“å…¥ä¸€ä¸ªéé€’å‡æ’åºçš„æ•°ç»„çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¾“å‡ºæ—‹è½¬æ•°ç»„çš„æœ€å°å…ƒç´ ã€‚ä¾‹å¦‚æ•°ç»„{3,4,5,1,2}ä¸º{1,2,3,4,5}çš„ä¸€ä¸ªæ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º1ã€‚NOTEï¼šç»™å‡ºçš„æ‰€æœ‰å…ƒç´ éƒ½å¤§äº0ï¼Œè‹¥æ•°ç»„å¤§å°ä¸º0ï¼Œè¯·è¿”å›0ã€‚è§£é¢˜æ€è·¯ï¼šéå†ä¸€éï¼Œå› ä¸ºä¸¤è¾¹æ˜¯éé€’å‡çš„ï¼Œæ‰€ä»¥å¦‚æœä¸‹ä¸€ä¸ªæ•°å­—æ¯”ä¸Šä¸€ä¸ªå°ï¼Œé‚£ä¹ˆè¿™ä¸ªå°±æ˜¯æœ€å°çš„ã€‚å¦‚æœæ²¡æ‰¾çš„ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªå°±æ˜¯æœ€å°çš„ã€‚ import java.util.ArrayList; public class Solution { public int minNumberInRotateArray(int [] array) { if (array.length == 0) return 0; for (int i = 0; i &lt; array.length; i++) { if (array[i] > array[i+1]) { return array[i+1]; } } return array[0]; } } è¿˜å¯ä»¥çš®ä¸€ç‚¹ï¼šç›´æ¥Array.sort(); import java.util.Arrays; public class Solution { public int minNumberInRotateArray(int [] array) { if (array.length == 0) return 0; Arrays.sort(array); return array[0]; } } 15.çŸ©é˜µä¸­çš„è·¯å¾„é¢˜ç›®æè¿°è¯·è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­åœ¨ä¸€ä¸ªçŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨ä¸€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„ã€‚è·¯å¾„å¯ä»¥ä»çŸ©é˜µä¸­çš„ä»»æ„ä¸€ä¸ªæ ¼å­å¼€å§‹ï¼Œæ¯ä¸€æ­¥å¯ä»¥åœ¨çŸ©é˜µä¸­å‘å·¦ï¼Œå‘å³ï¼Œå‘ä¸Šï¼Œå‘ä¸‹ç§»åŠ¨ä¸€ä¸ªæ ¼å­ã€‚å¦‚æœä¸€æ¡è·¯å¾„ç»è¿‡äº†çŸ©é˜µä¸­çš„æŸä¸€ä¸ªæ ¼å­ï¼Œåˆ™è¯¥è·¯å¾„ä¸èƒ½å†è¿›å…¥è¯¥æ ¼å­ã€‚ ä¾‹å¦‚ a b c e s f c s a d e e çŸ©é˜µä¸­åŒ…å«ä¸€æ¡å­—ç¬¦ä¸²â€bcccedâ€çš„è·¯å¾„ï¼Œä½†æ˜¯çŸ©é˜µä¸­ä¸åŒ…å«â€abcbâ€è·¯å¾„ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦bå æ®äº†çŸ©é˜µä¸­çš„ç¬¬ä¸€è¡Œç¬¬äºŒä¸ªæ ¼å­ä¹‹åï¼Œè·¯å¾„ä¸èƒ½å†æ¬¡è¿›å…¥è¯¥æ ¼å­ã€‚ è§£é¢˜æ€è·¯ï¼šä½¿ç”¨æ·±åº¦ä¼˜å…ˆéå†ï¼Œæš´åŠ›æœç´¢å…¨éƒ¨æ¯ä¸€ä¸ªå­—ç¬¦çš„æ‰€æœ‰å¯èƒ½ï¼Œè¿™é‡Œæ ¹æ®é¢˜æ„ï¼Œè¦è¿›è¡Œå›æº¯ï¼Œåœ¨ä¸€æ¬¡æœç´¢ç»“æŸæ—¶éœ€è¦è¿›è¡Œå›æº¯ï¼Œå°†è¿™ä¸€æ¬¡æœç´¢è¿‡ç¨‹ä¸­è®¾ç½®çš„çŠ¶æ€è¿›è¡Œæ¸…é™¤ï¼Œä»è€Œå¼€å§‹ä¸€æ¬¡æ–°çš„æœç´¢è¿‡ç¨‹ã€‚é¦–å…ˆï¼Œé¢˜ç›®ç»™æˆ‘ä»¬çš„æ˜¯ä¸€ç»´æ•°ç»„ï¼Œæˆ‘ä»¬éœ€è¦å°†ä»–è½¬å˜ä¸ºçŸ©é˜µï¼Œä¹Ÿå°±æ˜¯äºŒç»´æ•°ç»„ï¼Œç„¶åå†ç”¨æ·±åº¦æœç´¢dfsè§£å†³ï¼Œ public class Solution { private static int[][] direction = {{0,1},{0,-1},{1,0},{-1,0}}; public boolean hasPath(char[] matrix, int rows, int cols, char[] str){ char m [][] = new char[rows][cols]; //å°†ä¸€ç»´çŸ©é˜µè½¬æˆäºŒç»´çŸ©é˜µ for (int i = 0; i &lt; rows; i++) { for (int j = 0; j &lt; cols; j++) { m[i][j] = matrix[i*cols+j]; } } boolean[][] visited = new boolean[rows][cols]; //è®°å½•æ¯ä¸ªç‚¹æ˜¯å¦è¢«è®¿é—® for (int i = 0; i &lt; rows; i++) { for (int j = 0; j &lt; cols; j++) { if (str[0] == m[i][j] &amp;&amp; dfs(m,i,j,str,visited,0)){ return true; } } } return false; } // indexè¡¨ç¤ºstrçš„ä¸‹æ ‡ private boolean dfs(char[][] m, int i, int j, char[] str,boolean[][]visited,int index) { if (i >= m.length || i &lt; 0 || j >= m[0].length || j &lt; 0) return false; if (!visited[i][j] &amp;&amp; m[i][j] == str[index]){ if (index == str.length - 1) return true; else { visited[i][j] = true; //ä¸Šä¸‹å·¦å³dfs for (int[] d : direction) { if (dfs(m,i + d[0],j + d[1],str,visited,index + 1)) return true; } visited[i][j] = false; //å›æº¯ } } return false; } } 16. è¡¨ç¤ºæ•°å€¼ä¸­çš„å­—ç¬¦ä¸²é¢˜ç›®æè¿°ï¼šè¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦è¡¨ç¤ºæ•°å€¼ï¼ˆåŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€+100â€,â€5e2â€,â€-123â€,â€3.1416â€å’Œâ€-1E-16â€éƒ½è¡¨ç¤ºæ•°å€¼ã€‚ ä½†æ˜¯â€12eâ€,â€1a3.14â€,â€1.2.3â€,â€+-5â€å’Œâ€12e+4.3â€éƒ½ä¸æ˜¯ã€‚ è§£é¢˜æ€è·¯ï¼šå¦‚æœæŒ‰ç…§å¸¸è§„é€»è¾‘åˆ¤æ–­çš„è¯ ä»£ç æ¯”è¾ƒé•¿ï¼Œè¿™é‡Œå¯ä»¥å‚è€ƒæ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ±‚è§£ã€‚å…·ä½“å¯ä»¥å‚è€ƒèœé¸Ÿæ•™ç¨‹ã€‚ public class Solution { public boolean isNumeric(char[] str) { if (str.length == 0 || str == null) return false; return new String(str).matches(\"[+-]?\\\\d*(\\\\.\\\\d+)?([eE][+-]?\\\\d+)?\"); } } 17. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢é¢˜ç›®æè¿°:è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°ä¸€ä¸ªå‡½æ•°æ¥è°ƒæ•´è¯¥æ•°ç»„ä¸­æ•°å­—çš„é¡ºåºï¼Œä½¿å¾—æ‰€æœ‰çš„å¥‡æ•°ä½äºæ•°ç»„çš„å‰åŠéƒ¨åˆ†ï¼Œæ‰€æœ‰çš„å¶æ•°ä½äºæ•°ç»„çš„ååŠéƒ¨åˆ†ï¼Œå¹¶ä¿è¯å¥‡æ•°å’Œå¥‡æ•°ï¼Œå¶æ•°å’Œå¶æ•°ä¹‹é—´çš„ç›¸å¯¹ä½ç½®ä¸å˜ã€‚ è§£é¢˜æ€è·¯ï¼šè€ƒè™‘æ‹·è´ä¸€ä¸ªç›¸åŒçš„æ•°ç»„arrï¼Œé¦–å…ˆè®¡ç®—å‡ºå¥‡æ•°çš„ä¸ªæ•°ï¼Œ ç„¶åéå†åˆ¤æ–­ã€‚ public class Solution { public void reOrderArray(int [] array) { int count = 0; for (int i : array) { if (i % 2 != 0) { count++; //å¥‡æ•°ä¸ªæ•° } } int first = 0; int len = array.length; int arr[] = array.clone(); for (int i = 0; i &lt; len; i++) { if (arr[i] % 2 != 0) { array[first++] = arr[i]; } else { array[count++] = arr[i]; } } } } ä¹Ÿå¯ä»¥ä½¿ç”¨æ’åºæ¥å®ç°ï¼Œå¯ä»¥å®ç°ä»¥æ—¶é—´æ¢å–ç©ºé—´ï¼ŒåŒé‡å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦O(n2) 18. åˆ é™¤é“¾è¡¨ä¸­é‡å¤çš„ç»“ç‚¹é¢˜ç›®æè¿°åœ¨ä¸€ä¸ªæ’åºçš„é“¾è¡¨ä¸­ï¼Œå­˜åœ¨é‡å¤çš„ç»“ç‚¹ï¼Œè¯·åˆ é™¤è¯¥é“¾è¡¨ä¸­é‡å¤çš„ç»“ç‚¹ï¼Œé‡å¤çš„ç»“ç‚¹ä¸ä¿ç•™ï¼Œè¿”å›é“¾è¡¨å¤´æŒ‡é’ˆã€‚ ä¾‹å¦‚ï¼Œé“¾è¡¨1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5 å¤„ç†åä¸º 1-&gt;2-&gt;5è§£é¢˜æ€è·¯ï¼šé€’å½’ç‰ˆæœ¬ï¼Œç„¶ååˆ¤æ–­å°±æ˜¯ï¼š public class Solution { public ListNode deleteDuplication(ListNode pHead){ if (pHead == null || pHead.next == null) return pHead; ListNode next = pHead.next; if (next.val == pHead.val) { while (next != null &amp;&amp; pHead.val == next.val){ next = next.next; } return deleteDuplication(next); }else { pHead.next = deleteDuplication(next); return pHead; } } } éé€’å½’ç‰ˆæœ¬ï¼šæœ‰æ—¶å€™åšé“¾è¡¨ç›¸å…³çš„é¢˜ç›®æ—¶ï¼Œå¯ä»¥è€ƒè™‘newä¸€ä¸ªListNodeæŒ‡å‘ç¬¬ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™æ ·å¯ä»¥è§£å†³è¾¹ç•Œé—®é¢˜ã€‚é¦–å…ˆæ·»åŠ ä¸€ä¸ªå¤´èŠ‚ç‚¹headï¼Œä»¥é˜²æ­¢ç¢°åˆ°ç¬¬ä¸€ä¸ªï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹å°±ç›¸åŒçš„æƒ…å†µã€‚è®¾ç½® first ï¼Œlast æŒ‡é’ˆï¼Œ firstæŒ‡é’ˆæŒ‡å‘å½“å‰ç¡®å®šä¸é‡å¤çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œè€ŒlastæŒ‡é’ˆç›¸å½“äºå·¥ä½œæŒ‡é’ˆï¼Œä¸€ç›´å¾€åé¢æœç´¢ã€‚ /* public class ListNode { int val; ListNode next = null; ListNode(int val) { this.val = val; } } */ public class Solution { public ListNode deleteDuplication(ListNode pHead){ if (pHead == null || pHead.next == null) return pHead; ListNode head = new ListNode(0); head.next = pHead; ListNode first = head; ListNode last = head.next; while (last != null) { if (last.next != null &amp;&amp; last.next.val == last.val){ // æ‰¾åˆ°æœ€åçš„ä¸€ä¸ªç›¸åŒèŠ‚ç‚¹ while (last.next != null &amp;&amp; last.next.val == last.val){ last = last.next; } first.next = last.next; last = last.next; } else { first = first.next; last = last.next; } } return head.next; } } 19.æœºå™¨äººçš„è¿åŠ¨èŒƒå›´é¢˜ç›®æè¿°åœ°ä¸Šæœ‰ä¸€ä¸ªmè¡Œå’Œnåˆ—çš„æ–¹æ ¼ã€‚ä¸€ä¸ªæœºå™¨äººä»åæ ‡0,0çš„æ ¼å­å¼€å§‹ç§»åŠ¨ï¼Œæ¯ä¸€æ¬¡åªèƒ½å‘å·¦ï¼Œå³ï¼Œä¸Šï¼Œä¸‹å››ä¸ªæ–¹å‘ç§»åŠ¨ä¸€æ ¼ï¼Œä½†æ˜¯ä¸èƒ½è¿›å…¥è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œå¤§äºkçš„æ ¼å­ã€‚ ä¾‹å¦‚ï¼Œå½“kä¸º18æ—¶ï¼Œæœºå™¨äººèƒ½å¤Ÿè¿›å…¥æ–¹æ ¼ï¼ˆ35,37ï¼‰ï¼Œå› ä¸º3+5+3+7 = 18ã€‚ä½†æ˜¯ï¼Œå®ƒä¸èƒ½è¿›å…¥æ–¹æ ¼ï¼ˆ35,38ï¼‰ï¼Œå› ä¸º3+5+3+8 = 19ã€‚è¯·é—®è¯¥æœºå™¨äººèƒ½å¤Ÿè¾¾åˆ°å¤šå°‘ä¸ªæ ¼å­ï¼Ÿ è§£é¢˜æ€è·¯ï¼šé‡‡ç”¨DFSéå†æœç´¢ï¼Œå®šä¹‰ä¸€ä¸ªæ˜¯å¦è®¿é—®çš„æ•°ç»„ï¼Œå¦‚æœå·²è®¿é—®ï¼Œå°±è®¾ä¸ºtrueï¼Œç„¶åå››ä¸ªæ–¹å‘åˆ†åˆ«é€’å½’ï¼Œè¿™é‡Œè¦æ³¨æ„å°†åæ ‡çš„å€¼è½¬æ¢ä¸ºå€¼ï¼Œæ¯”å¦‚ï¼ˆ35ï¼Œ37ï¼‰è½¬æ¢ä¸ºï¼ˆ8ï¼Œ10ï¼‰ã€‚ç±»ä¼¼çš„é¢˜ç›®åœ¨LeetCodeä¸­è¿˜æœ‰å²›å±¿é—®é¢˜ï¼Œæœ‹å‹åœˆé—®é¢˜ï¼Œå¯ä»¥å‚è€ƒä¸‹ã€‚ä¼ é€é—¨ public class Solution { private int [][] direction = {{0,1},{0,-1},{1,0},{-1,0}}; private int count = 0; private int threshold; private int rows; private int cols; private int[][] nums; public int movingCount(int threshold, int rows, int cols){ this.threshold = threshold; this.rows = rows; this.cols = cols; boolean b[][] = new boolean[rows][cols]; getNum(); hasRange(b,0,0); return count; } //dfséå† private void hasRange(boolean [][] b,int i, int j) { if (i >= rows || i &lt; 0 || j >= cols || j &lt; 0 || b[i][j] || this.nums[i][j] > threshold ){ return; } b[i][j] = true; count++; for (int d[] : direction) { hasRange(b,i + d[0],j + d[1]); } } //å°†åæ ‡è½¬æ¢ä¸ºå€¼ private void getNum(){ int [] nums2 = new int [Math.max(rows,cols)]; for (int i = 0; i &lt; nums2.length; i++) { int temp = i; while (temp > 0) { nums2[i] += temp % 10; temp /= 10; } } this.nums = new int[rows][cols]; for (int i = 0; i &lt; this.rows; i++) { for (int j = 0; j &lt; this.cols; j++) { this.nums[i][j] = nums2[i] + nums2[j]; } } } }","categories":[{"name":"å‰‘æŒ‡Offer","slug":"å‰‘æŒ‡Offer","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/å‰‘æŒ‡Offer/"}],"tags":[{"name":"å‰‘æŒ‡Offer","slug":"å‰‘æŒ‡Offer","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/å‰‘æŒ‡Offer/"}]},{"title":"Java å¹¶å‘ç¼–ç¨‹å¤ä¹ ï¼ˆä¸€ï¼‰","slug":"Java å¹¶å‘ç¼–ç¨‹å¤ä¹ ï¼ˆä¸€ï¼‰","date":"2019-08-10T10:25:08.000Z","updated":"2019-09-30T14:29:10.000Z","comments":true,"path":"2019/08/10/java-bing-fa-bian-cheng-fu-xi-yi/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/08/10/java-bing-fa-bian-cheng-fu-xi-yi/","excerpt":"","text":"å‘¨æœ«æŠ½ç©ºçœ‹äº† Javaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ï¼Œæš‘å‡ä»å›¾ä¹¦é¦†å€Ÿçš„ï¼Œè¶å¸¦å¤ä¹ å¹¶æ€»ç»“ä¸‹å¹¶å‘ç¼–ç¨‹ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œå¾ˆå¤šéƒ½æ˜¯å¤§ä½¬ä»¬æ€»ç»“å¥½çš„ï¼Œåšäº†çŸ¥è¯†çš„æ¬è¿å·¥ï¼Œé™„åŠ è‡ªå·±çš„ç†è§£ã€‚ 1.synchronizedæ˜¯ä»€ä¹ˆï¼Œå®ç°åŸç†æ€æ ·çš„ï¼Ÿsynchronizedå…³é”®å­—è§£å†³çš„æ˜¯å¤šä¸ªçº¿ç¨‹ä¹‹é—´è®¿é—®èµ„æºçš„åŒæ­¥æ€§ï¼Œsynchronizedå…³é”®å­—å¯ä»¥ä¿è¯è¢«å®ƒä¿®é¥°çš„æ–¹æ³•æˆ–è€…ä»£ç å—åœ¨ä»»æ„æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚javaä»£ç ä¸­ä½¿ç”¨synchronizedæ˜¯ä½¿ç”¨åœ¨ä»£ç å—å’Œæ–¹æ³•ä¸­ï¼šsynchronizedå¯ä»¥ç”¨åœ¨æ–¹æ³•ä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨ä»£ç å—ä¸­ï¼Œå…¶ä¸­æ–¹æ³•æ˜¯å®ä¾‹æ–¹æ³•å’Œé™æ€æ–¹æ³•åˆ†åˆ«é”çš„æ˜¯è¯¥ç±»çš„å®ä¾‹å¯¹è±¡å’Œè¯¥ç±»çš„å¯¹è±¡ã€‚è€Œä½¿ç”¨åœ¨ä»£ç å—ä¸­ä¹Ÿå¯ä»¥åˆ†ä¸ºä¸‰ç§ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¦‚æœé”çš„æ˜¯ç±»å¯¹è±¡çš„è¯ï¼Œå°½ç®¡newå¤šä¸ªå®ä¾‹å¯¹è±¡ï¼Œä½†ä»–ä»¬ä»ç„¶æ˜¯å±äºåŒä¸€ä¸ªç±»ä¾ç„¶ä¼šè¢«é”ä½ï¼Œå³çº¿ç¨‹ä¹‹é—´ä¿è¯åŒæ­¥å…³ç³»ã€‚ï¼ˆå¯å‚è€ƒcycåšå®¢ï¼‰ å®ç°åŸç†ï¼š ä¿®é¥°ä»£ç å—ï¼š public class SynchronizedDemo { public static void main(String[] args) { synchronized (SynchronizedDemo.class) { } method(); } private static void method() { } } å¯ä»¥é€šè¿‡ java -p æŸ¥çœ‹ç¼–è¯‘åçš„classæ–‡ä»¶ ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190817154617332.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjk5MzM5,size_16,color_FFFFFF,t_70) synchronized åŒæ­¥è¯­å¥å—çš„å®ç°ä½¿ç”¨çš„æ˜¯ **monitorenter å’Œ monitorexit æŒ‡ä»¤**ï¼Œå…¶ä¸­ monitorenter æŒ‡ä»¤æŒ‡å‘åŒæ­¥ä»£ç å—çš„**å¼€å§‹ä½ç½®**ï¼Œmonitorexit æŒ‡ä»¤åˆ™æŒ‡æ˜åŒæ­¥ä»£ç å—çš„**ç»“æŸä½ç½®**ã€‚ å½“æ‰§è¡Œ monitorenter æŒ‡ä»¤æ—¶ï¼Œçº¿ç¨‹è¯•å›¾è·å–é”ä¹Ÿå°±æ˜¯è·å– monitor(monitorå¯¹è±¡å­˜åœ¨äºæ¯ä¸ªJavaå¯¹è±¡çš„å¯¹è±¡å¤´ä¸­ï¼Œsynchronized é”ä¾¿æ˜¯é€šè¿‡è¿™ç§æ–¹å¼è·å–é”çš„ã€‚**æ¯ä¸ªå¯¹è±¡æ‹¥æœ‰ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå½“çº¿ç¨‹è·å–è¯¥å¯¹è±¡é”åï¼Œè®¡æ•°å™¨å°±ä¼šåŠ ä¸€ï¼Œé‡Šæ”¾é”åå°±ä¼šå°†è®¡æ•°å™¨å‡ä¸€**ã€‚å¦‚æœè·å–å¯¹è±¡é”å¤±è´¥ï¼Œé‚£å½“å‰çº¿ç¨‹å°±è¦é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°é”è¢«å¦å¤–ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾ä¸ºæ­¢ã€‚ - ä¿®é¥°æ–¹æ³•ï¼š synchronized ä¿®é¥°çš„æ–¹æ³•å¹¶æ²¡æœ‰ monitorenter æŒ‡ä»¤å’Œ monitorexit æŒ‡ä»¤ï¼Œå–å¾—ä»£ä¹‹çš„ç¡®å®æ˜¯ **ACC_SYNCHRONIZED** æ ‡è¯†ï¼Œè¯¥æ ‡è¯†æŒ‡æ˜äº†è¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼ŒJVM é€šè¿‡è¯¥ ACC_SYNCHRONIZED è®¿é—®æ ‡å¿—æ¥è¾¨åˆ«ä¸€ä¸ªæ–¹æ³•æ˜¯å¦å£°æ˜ä¸ºåŒæ­¥æ–¹æ³•ï¼Œä»è€Œæ‰§è¡Œç›¸åº”çš„åŒæ­¥è°ƒç”¨ã€‚ #### 2.æœ‰å“ªå‡ ç§é”ï¼Ÿé”çš„ä¼˜åŒ–ï¼Ÿ è¿™é‡Œçš„é”ä¼˜åŒ–ä¸»è¦æ˜¯æŒ‡ JVM å¯¹ synchronized çš„ä¼˜åŒ–ã€‚ synchronized åœ¨åŒæ­¥çš„æ—¶å€™æ˜¯è·å–å¯¹è±¡çš„monitor,å³è·å–åˆ°å¯¹è±¡çš„é”ï¼Œç”¨çš„é”æ˜¯å­˜åœ¨ Java å¯¹è±¡å¤´é‡Œçš„ã€‚ é”ä¸»è¦å­˜åœ¨å››ç§çŠ¶æ€ï¼Œä¾æ¬¡æ˜¯ï¼š**æ— é”çŠ¶æ€ã€åå‘é”çŠ¶æ€ã€è½»é‡çº§é”çŠ¶æ€ã€é‡é‡çº§é”çŠ¶æ€**ï¼Œä»–ä»¬ä¼šéšç€ç«äº‰çš„æ¿€çƒˆè€Œé€æ¸å‡çº§ã€‚æ³¨æ„**é”å¯ä»¥å‡çº§ä¸å¯é™çº§ï¼Œè¿™ç§ç­–ç•¥æ˜¯ä¸ºäº†æé«˜è·å¾—é”å’Œé‡Šæ”¾é”çš„æ•ˆç‡ã€‚** å¼•å…¥åå‘é”çš„ç›®çš„å’Œå¼•å…¥è½»é‡çº§é”çš„ç›®çš„å¾ˆåƒï¼Œä»–ä»¬éƒ½æ˜¯ä¸ºäº†**æ²¡æœ‰å¤šçº¿ç¨‹ç«äº‰çš„å‰æä¸‹ï¼Œå‡å°‘ä¼ ç»Ÿçš„é‡é‡çº§é”ä½¿ç”¨æ“ä½œç³»ç»Ÿäº’æ–¥é‡äº§ç”Ÿçš„æ€§èƒ½æ¶ˆè€—ã€‚**ä½†æ˜¯ä¸åŒæ˜¯ï¼š**è½»é‡çº§é”åœ¨æ— ç«äº‰çš„æƒ…å†µä¸‹ä½¿ç”¨ CAS æ“ä½œå»ä»£æ›¿ä½¿ç”¨äº’æ–¥é‡ã€‚è€Œåå‘é”åœ¨æ— ç«äº‰çš„æƒ…å†µä¸‹ä¼šæŠŠæ•´ä¸ªåŒæ­¥éƒ½æ¶ˆé™¤æ‰ã€‚** - åå‘é”ï¼š åå‘é”ä¼šåå‘äºç¬¬ä¸€ä¸ªè·å¾—å®ƒçš„çº¿ç¨‹ï¼Œå¦‚æœåœ¨æ¥ä¸‹æ¥çš„æ‰§è¡Œä¸­ï¼Œè¯¥é”æ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹è·å–ï¼Œ**é‚£ä¹ˆæŒæœ‰åå‘é”çš„çº¿ç¨‹å°±ä¸éœ€è¦è¿›è¡ŒåŒæ­¥ï¼Œè¿ CAS æ“ä½œä¹Ÿä¸éœ€è¦ã€‚** å½“æœ‰å¦å¤–ä¸€ä¸ªçº¿ç¨‹å»å°è¯•è·å–è¿™ä¸ªé”å¯¹è±¡æ—¶ï¼Œåå‘çŠ¶æ€å°±å®£å‘Šç»“æŸï¼Œæ­¤æ—¶æ’¤é”€åå‘åæ¢å¤åˆ°æœªé”å®šçŠ¶æ€æˆ–è€…è½»é‡çº§é”çŠ¶æ€ã€‚ - è½»é‡çº§é”ï¼š å€˜è‹¥åå‘é”å¤±è´¥ï¼Œè™šæ‹Ÿæœºå¹¶ä¸ä¼šç«‹å³å‡çº§ä¸ºé‡é‡çº§é”ï¼Œå®ƒè¿˜ä¼šå°è¯•ä½¿ç”¨ä¸€ç§ç§°ä¸ºè½»é‡çº§é”çš„ä¼˜åŒ–æ‰‹æ®µã€‚è½»é‡çº§é”æ˜¯ç›¸å¯¹äºä¼ ç»Ÿçš„é‡é‡çº§é”è€Œè¨€ï¼Œå®ƒ**ä½¿ç”¨ CAS æ“ä½œæ¥é¿å…é‡é‡çº§é”ä½¿ç”¨äº’æ–¥é‡çš„å¼€é”€**ï¼Œå‡å°‘ä¼ ç»Ÿçš„é‡é‡çº§é”ä½¿ç”¨æ“ä½œç³»ç»Ÿäº’æ–¥é‡äº§ç”Ÿçš„æ€§èƒ½æ¶ˆè€—ï¼Œå› ä¸ºä½¿ç”¨è½»é‡çº§é”æ—¶ï¼Œ**ä¸éœ€è¦ç”³è¯·äº’æ–¥é‡ã€‚**å¦å¤–ï¼Œ**è½»é‡çº§é”çš„åŠ é”å’Œè§£é”éƒ½ç”¨åˆ°äº†CASæ“ä½œã€‚** å¦‚æœæœ‰ä¸¤æ¡ä»¥ä¸Šçš„çº¿ç¨‹äº‰ç”¨åŒä¸€ä¸ªé”ï¼Œè½»é‡çº§é”æ¯”ä¼ ç»Ÿçš„é‡é‡çº§é”æ›´æ…¢ï¼Œè½»é‡çº§é”å°±ä¸å†æœ‰æ•ˆï¼Œè¦è†¨èƒ€ä¸ºé‡é‡çº§é”ã€‚ - ä¸‰ç§é”æ¯”è¾ƒï¼šæ¥è‡ªã€ŠJava å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹ ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20190817163501345.png) - è‡ªæ—‹é”ï¼š è½»é‡çº§é”å¤±è´¥åï¼Œè™šæ‹Ÿæœºä¸ºäº†é¿å…çº¿ç¨‹çœŸå®åœ°åœ¨æ“ä½œç³»ç»Ÿå±‚é¢æŒ‚èµ·ï¼Œè¿˜ä¼šè¿›è¡Œä¸€é¡¹ç§°ä¸ºè‡ªæ—‹é”çš„ä¼˜åŒ–æ‰‹æ®µã€‚ äº’æ–¥åŒæ­¥è¿›å…¥é˜»å¡çŠ¶æ€çš„å¼€é”€éƒ½å¾ˆå¤§ï¼Œåº”è¯¥å°½é‡é¿å…ã€‚åœ¨è®¸å¤šåº”ç”¨ä¸­ï¼Œå…±äº«æ•°æ®çš„é”å®šçŠ¶æ€åªä¼šæŒç»­å¾ˆçŸ­çš„ä¸€æ®µæ—¶é—´ã€‚**è‡ªæ—‹é”çš„æ€æƒ³æ˜¯è®©ä¸€ä¸ªçº¿ç¨‹åœ¨è¯·æ±‚ä¸€ä¸ªå…±äº«æ•°æ®çš„é”æ—¶æ‰§è¡Œå¿™å¾ªç¯ï¼ˆè‡ªæ—‹ï¼‰ä¸€æ®µæ—¶é—´ï¼Œå¦‚æœåœ¨è¿™æ®µæ—¶é—´å†…èƒ½è·å¾—é”ï¼Œå°±å¯ä»¥é¿å…è¿›å…¥é˜»å¡çŠ¶æ€ã€‚** è‡ªæ—‹é”è™½ç„¶èƒ½é¿å…è¿›å…¥é˜»å¡çŠ¶æ€ä»è€Œå‡å°‘å¼€é”€ï¼Œä½†æ˜¯å®ƒéœ€è¦è¿›è¡Œå¿™å¾ªç¯æ“ä½œå ç”¨ CPU æ—¶é—´ï¼Œå®ƒåªé€‚ç”¨äºå…±äº«æ•°æ®çš„é”å®šçŠ¶æ€å¾ˆçŸ­çš„åœºæ™¯ã€‚ åœ¨ JDK 1.6 ä¸­å¼•å…¥äº†è‡ªé€‚åº”çš„è‡ªæ—‹é”ã€‚è‡ªé€‚åº”æ„å‘³ç€è‡ªæ—‹çš„æ¬¡æ•°ä¸å†å›ºå®šäº†ï¼Œè€Œæ˜¯ç”±å‰ä¸€æ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šçš„è‡ªæ—‹æ¬¡æ•°åŠé”çš„æ‹¥æœ‰è€…çš„çŠ¶æ€æ¥å†³å®šã€‚ - é”æ¶ˆé™¤ï¼š é”æ¶ˆé™¤æ˜¯æŒ‡å¯¹äºè¢«æ£€æµ‹å‡ºä¸å¯èƒ½å­˜åœ¨ç«äº‰çš„å…±äº«æ•°æ®çš„é”è¿›è¡Œæ¶ˆé™¤ã€‚ - é”ç²—åŒ–ï¼š å¦‚æœä¸€ç³»åˆ—çš„è¿ç»­æ“ä½œéƒ½å¯¹åŒä¸€ä¸ªå¯¹è±¡åå¤åŠ é”å’Œè§£é”ï¼Œé¢‘ç¹çš„åŠ é”æ“ä½œå°±ä¼šå¯¼è‡´æ€§èƒ½æŸè€—ã€‚å¦‚æœè™šæ‹Ÿæœºæ¢æµ‹åˆ°è¿™æ ·çš„ä¸€ä¸²é›¶ç¢çš„æ“ä½œéƒ½å¯¹åŒä¸€ä¸ªå¯¹è±¡åŠ é”ï¼Œå°†ä¼šæŠŠåŠ é”çš„èŒƒå›´æ‰©å±•ï¼ˆç²—åŒ–ï¼‰åˆ°æ•´ä¸ªæ“ä½œåºåˆ—çš„å¤–éƒ¨ã€‚å³åŸæœ¬åŠ é”å¤šæ¬¡çš„ï¼ŒåŠ é”ä¸€æ¬¡å°±å¯ä»¥äº†ã€‚ #### 3. volatile å…³é”®å­—ï¼Œå®ç°åŸç† ä½œç”¨ï¼š - è¢«volatileä¿®é¥°çš„å˜é‡èƒ½å¤Ÿä¿è¯æ¯ä¸ªçº¿ç¨‹èƒ½å¤Ÿè·å–è¯¥å˜é‡çš„æœ€æ–°å€¼ï¼Œä»è€Œé¿å…å‡ºç°æ•°æ®è„è¯»çš„ç°è±¡ã€‚ - volatile å…³é”®å­—ä¹Ÿå¯ä»¥é˜²æ­¢æŒ‡ä»¤é‡æ’ï¼Œå¦‚å•ä¾‹æ¨¡å¼ä¸­çš„åŒé‡æ ¡éªŒé”å®ç°ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œå˜é‡å¯ä»¥ä¿å­˜åœ¨æœ¬åœ°ç¼“å­˜ï¼Œä¹Ÿå¯ä»¥ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹åœ¨å†…å­˜ä¸­ä¿®æ”¹äº†ä¸€ä¸ªå˜é‡çš„å€¼ï¼Œè€Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹è¿˜ç»§ç»­ä½¿ç”¨å®ƒåœ¨å¯„å­˜å™¨ä¸­çš„å˜é‡å€¼çš„æ‹·è´ï¼Œå°±ä¼šé€ æˆæ•°æ®çš„ä¸ä¸€è‡´ã€‚ **å®ç°åŸç†ï¼š** ç”Ÿæˆæ±‡ç¼–ä»£ç æ—¶ä¼šåœ¨volatileä¿®é¥°çš„å…±äº«å˜é‡è¿›è¡Œå†™æ“ä½œçš„æ—¶å€™ä¼šå¤šå‡º**Lockå‰ç¼€çš„æŒ‡ä»¤**ï¼Œè¯¥æŒ‡ä»¤æœ‰ä¸¤ä¸ªä½œç”¨ï¼š - å°†å½“å‰å¤„ç†å™¨ç¼“å­˜è¡Œçš„æ•°æ®å†™å›ç³»ç»Ÿå†…å­˜ï¼› - è¿™ä¸ªå†™å›å†…å­˜çš„æ“ä½œä¼šä½¿å¾—å…¶ä»–CPUé‡Œç¼“å­˜äº†è¯¥å†…å­˜åœ°å€çš„æ•°æ®æ— æ•ˆï¼› - å½“å¤„ç†å™¨å‘ç°æœ¬åœ°ç¼“å­˜å¤±æ•ˆåï¼Œå°±ä¼šä»å†…å­˜ä¸­é‡è¯»è¯¥å˜é‡æ•°æ®ï¼Œå³å¯ä»¥è·å–å½“å‰æœ€æ–°å€¼ã€‚ synchronized å…³é”®å­—å’Œ volatile å…³é”®å­—çš„åŒºåˆ«ï¼š - volatileå…³é”®å­—æ˜¯çº¿ç¨‹åŒæ­¥çš„è½»é‡çº§å®ç°ï¼Œæ‰€ä»¥volatileæ€§èƒ½æ¯”synchronizedå…³é”®å­—è¦å¥½ã€‚ - volatileå…³é”®å­—åªèƒ½ç”¨äºå˜é‡ï¼Œè€Œsynchronizedå…³é”®å­—å¯ä»¥ä¿®é¥°æ–¹æ³•ä»¥åŠä»£ç å—ï¼› - å¤šçº¿ç¨‹è®¿é—®volatileå…³é”®å­—ä¸ä¼šå‘ç”Ÿé˜»å¡ï¼Œè€Œsynchronizedå…³é”®å­—å¯èƒ½ä¼šå‘ç”Ÿé˜»å¡ï¼› - volatileå…³é”®å­—èƒ½ä¿è¯æ•°æ®çš„å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯æ•°æ®çš„åŸå­æ€§ã€‚synchronizedå…³é”®å­—ä¸¤è€…éƒ½èƒ½ä¿è¯ï¼› - volatileå…³é”®å­—ä¸»è¦ç”¨äºè§£å†³å˜é‡åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„å¯è§æ€§ï¼Œè€Œ synchronizedå…³é”®å­—è§£å†³çš„æ˜¯å¤šä¸ªçº¿ç¨‹ä¹‹é—´è®¿é—®èµ„æºçš„åŒæ­¥æ€§ã€‚ #### 4.synchronizedå’ŒReentrantLock çš„åŒºåˆ« Java æä¾›äº†ä¸¤ç§é”æœºåˆ¶æ¥æ§åˆ¶å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºçš„äº’æ–¥è®¿é—®ï¼Œç¬¬ä¸€ä¸ªæ˜¯ JVM å®ç°çš„ synchronizedï¼Œè€Œå¦ä¸€ä¸ªæ˜¯ JDK å®ç°çš„ ReentrantLockã€‚ åŒºåˆ«ï¼š - synchronized æ˜¯ JVM å®ç°çš„ï¼Œè€Œ ReentrantLock æ˜¯ JDK å®ç°çš„ã€‚ - ReentrantLockæä¾›äº†ä¸€ç§èƒ½å¤Ÿ**ä¸­æ–­ç­‰å¾…é”**çš„çº¿ç¨‹çš„æœºåˆ¶ï¼Œé€šè¿‡lock.lockInterruptibly()æ¥å®ç°è¿™ä¸ªæœºåˆ¶ã€‚ä¹Ÿå°±æ˜¯è¯´æ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹å¯ä»¥é€‰æ‹©æ”¾å¼ƒç­‰å¾…ï¼Œæ”¹ä¸ºå¤„ç†å…¶ä»–äº‹æƒ…ã€‚ - ReentrantLockæ”¯æŒä¸¤ç§é”ï¼šå…¬å¹³é”å’Œéå…¬å¹³é”ã€‚**é»˜è®¤éå…¬å¹³**ã€‚å…¬å¹³æ€§æ˜¯é’ˆå¯¹è·å–é”è€Œè¨€çš„ï¼Œå¦‚æœä¸€ä¸ªé”æ˜¯å…¬å¹³çš„ï¼Œé‚£ä¹ˆé”çš„è·å–é¡ºåºå°±åº”è¯¥ç¬¦åˆè¯·æ±‚ä¸Šçš„ç»å¯¹æ—¶é—´é¡ºåºï¼Œæ»¡è¶³FIFOï¼Œå¯ä»¥é€šè¿‡ ReentrantLockç±»çš„ReentrantLock(boolean fair)ï¼Œè€Œ**synchronized ä¸­çš„é”æ˜¯éå…¬å¹³çš„ã€‚** - ä¸€ä¸ª ReentrantLock å¯ä»¥åŒæ—¶ç»‘å®šå¤šä¸ª Condition å¯¹è±¡ã€‚ - JDK1.6å å¯¹ synchronized è¿›è¡Œäº†å¾ˆå¤šä¼˜åŒ–ï¼Œä¾‹å¦‚è‡ªæ—‹é”ç­‰ï¼Œsynchronized ä¸ ReentrantLock çš„æ€§èƒ½å¤§è‡´ç›¸åŒã€‚ é€‰æ‹©ï¼š é™¤ééœ€è¦ä½¿ç”¨ ReentrantLock çš„é«˜çº§åŠŸèƒ½ï¼Œå¦åˆ™ä¼˜å…ˆä½¿ç”¨ synchronizedã€‚è¿™æ˜¯å› ä¸º synchronized æ˜¯ JVM å®ç°çš„ä¸€ç§é”æœºåˆ¶ï¼ŒJVM åŸç”Ÿåœ°æ”¯æŒå®ƒï¼Œè€Œ ReentrantLock ä¸æ˜¯æ‰€æœ‰çš„ JDK ç‰ˆæœ¬éƒ½æ”¯æŒã€‚å¹¶ä¸”ä½¿ç”¨ synchronized ä¸ç”¨æ‹…å¿ƒæ²¡æœ‰é‡Šæ”¾é”è€Œå¯¼è‡´æ­»é”é—®é¢˜ï¼Œå› ä¸º JVM ä¼šç¡®ä¿é”çš„é‡Šæ”¾ã€‚ #### 5. ThreadLocalæ˜¯ä»€ä¹ˆï¼Œå®ç°åŸç†ï¼š é€šå¸¸è§£å†³çº¿ç¨‹å®‰å…¨çš„é—®é¢˜æˆ‘ä»¬ä¼šåˆ©ç”¨synchronzedæˆ–è€…lockæ§åˆ¶çº¿ç¨‹å¯¹ä¸´ç•ŒåŒºèµ„æºçš„åŒæ­¥é¡ºåºä»è€Œè§£å†³çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™ç§åŠ é”çš„æ–¹å¼ä¼šè®©æœªè·å–åˆ°é”çš„çº¿ç¨‹è¿›è¡Œé˜»å¡ç­‰å¾…ï¼Œå¾ˆæ˜¾ç„¶è¿™ç§æ–¹å¼çš„æ—¶é—´æ•ˆç‡å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚ **ThreadLocal å®ç°äº†æ¯ä¸ªçº¿ç¨‹éƒ½ä½¿ç”¨è‡ªå·±çš„â€œå…±äº«èµ„æºâ€ï¼Œå„è‡ªä½¿ç”¨å„è‡ªçš„ï¼Œåˆäº’ç›¸ä¸å½±å“åˆ°å½¼è®©å¤šä¸ªçº¿ç¨‹é—´è¾¾åˆ°éš”ç¦»çš„çŠ¶æ€**ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚è¿™å°±æ˜¯ä¸€ç§â€œç©ºé—´æ¢æ—¶é—´â€çš„æ–¹æ¡ˆï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šéƒ½æ‹¥æœ‰è‡ªå·±çš„â€œå…±äº«èµ„æºâ€æ— ç–‘å†…å­˜ä¼šå¤§å¾ˆå¤šï¼Œä½†æ˜¯ç”±äºä¸éœ€è¦åŒæ­¥ä¹Ÿå°±å‡å°‘äº†çº¿ç¨‹å¯èƒ½å­˜åœ¨çš„é˜»å¡ç­‰å¾…çš„æƒ…å†µä»è€Œæé«˜çš„æ—¶é—´æ•ˆç‡ã€‚ å®ç°åŸç†ï¼š æ¯ä¸ª Thread éƒ½æœ‰ä¸€ä¸ª ThreadLocal.ThreadLocalMap å¯¹è±¡ã€‚ å½“è°ƒç”¨ä¸€ä¸ª ThreadLocal çš„ set(T value) æ–¹æ³•æ—¶ï¼Œå…ˆå¾—åˆ°å½“å‰çº¿ç¨‹çš„ ThreadLocalMap å¯¹è±¡ï¼Œç„¶åå°† ThreadLocal-&gt;value é”®å€¼å¯¹æ’å…¥åˆ°è¯¥ Map ä¸­ã€‚ ThreadLocal.et(); ~~~ java public void set(T value) { Thread t = Thread.currentThread(); ThreadLocalMap map = getMap(t); if (map != null) map.set(this, value); else createMap(t, value); } ThreadLocalMap getMap(Thread t) { return t.threadLocals; }ThreadLocal.get(); public T get() { Thread t = Thread.currentThread(); ThreadLocalMap map = getMap(t); if (map != null) { ThreadLocalMap.Entry e = map.getEntry(this); if (e != null) { @SuppressWarnings(\"unchecked\") T result = (T)e.value; return result; } } return setInitialValue(); } ThreadLocal å†…å­˜æ³„éœ²é—®é¢˜ï¼šThreadLocalMap ä¸­ä½¿ç”¨çš„ key ä¸º ThreadLocal çš„å¼±å¼•ç”¨,è€Œ value æ˜¯å¼ºå¼•ç”¨ã€‚æ‰€ä»¥ï¼Œå¦‚æœ ThreadLocal æ²¡æœ‰è¢«å¤–éƒ¨å¼ºå¼•ç”¨çš„æƒ…å†µä¸‹ï¼Œåœ¨åƒåœ¾å›æ”¶çš„æ—¶å€™ä¼š key ä¼šè¢«æ¸…ç†æ‰ï¼Œè€Œ value ä¸ä¼šè¢«æ¸…ç†æ‰ã€‚è¿™æ ·ä¸€æ¥ï¼ŒThreadLocalMap ä¸­å°±ä¼šå‡ºç°keyä¸ºnullçš„Entryã€‚å‡å¦‚æˆ‘ä»¬ä¸åšä»»ä½•æªæ–½çš„è¯ï¼Œvalue æ°¸è¿œæ— æ³•è¢«GC å›æ”¶ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯èƒ½ä¼šäº§ç”Ÿå†…å­˜æ³„éœ²ã€‚ThreadLocalMapå®ç°ä¸­å·²ç»è€ƒè™‘äº†è¿™ç§æƒ…å†µï¼Œåœ¨è°ƒç”¨ set()ã€get()ã€remove() æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šæ¸…ç†æ‰ key ä¸º null çš„è®°å½•ã€‚ä½¿ç”¨å®Œ ThreadLocalæ–¹æ³•å æœ€å¥½æ‰‹åŠ¨è°ƒç”¨remove()æ–¹æ³•ã€‚ ä½¿ç”¨åœºæ™¯ï¼šThreadLocal ä¸æ˜¯ç”¨æ¥è§£å†³å…±äº«å¯¹è±¡çš„å¤šçº¿ç¨‹è®¿é—®é—®é¢˜çš„ï¼Œæ•°æ®å®è´¨ä¸Šæ˜¯æ”¾åœ¨æ¯ä¸ªthreadå®ä¾‹å¼•ç”¨çš„threadLocalMap,ä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªä¸åŒçš„çº¿ç¨‹éƒ½æ‹¥æœ‰ä¸“å±äºè‡ªå·±çš„æ•°æ®å®¹å™¨ï¼ˆthreadLocalMapï¼‰ï¼Œå½¼æ­¤ä¸å½±å“ã€‚å› æ­¤threadLocalåªé€‚ç”¨äº å…±äº«å¯¹è±¡ä¼šé€ æˆçº¿ç¨‹å®‰å…¨ çš„ä¸šåŠ¡åœºæ™¯ã€‚æ¯”å¦‚é€šè¿‡threadLocalç®¡ç†Sessionå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„æ¡ˆä¾‹ï¼Œä¸åŒçš„è¯·æ±‚çº¿ç¨‹ï¼ˆç”¨æˆ·ï¼‰æ‹¥æœ‰è‡ªå·±çš„session,è‹¥å°†sessionå…±äº«å‡ºå»è¢«å¤šçº¿ç¨‹è®¿é—®ï¼Œå¿…ç„¶ä¼šå¸¦æ¥çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚ private static final ThreadLocal threadSession = new ThreadLocal(); public static Session getSession() throws InfrastructureException { Session s = (Session) threadSession.get(); try { if (s == null) { s = getSessionFactory().openSession(); threadSession.set(s); } } catch (HibernateException ex) { throw new InfrastructureException(ex); } return s; } 6. ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Œæœ‰ä»€ä¹ˆå¥½å¤„ä½¿ç”¨çº¿ç¨‹æ± ç®¡ç†çº¿ç¨‹ä¸»è¦æœ‰å¦‚ä¸‹å¥½å¤„ï¼š é™ä½èµ„æºæ¶ˆè€—ã€‚é€šè¿‡å¤ç”¨å·²å­˜åœ¨çš„çº¿ç¨‹å’Œé™ä½çº¿ç¨‹å…³é—­çš„æ¬¡æ•°æ¥å°½å¯èƒ½é™ä½ç³»ç»Ÿæ€§èƒ½æŸè€—ï¼› æå‡ç³»ç»Ÿå“åº”é€Ÿåº¦ã€‚é€šè¿‡å¤ç”¨çº¿ç¨‹ï¼Œçœå»åˆ›å»ºçº¿ç¨‹çš„è¿‡ç¨‹ï¼Œå› æ­¤æ•´ä½“ä¸Šæå‡äº†ç³»ç»Ÿçš„å“åº”é€Ÿåº¦ï¼› æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§ã€‚çº¿ç¨‹æ˜¯ç¨€ç¼ºèµ„æºï¼Œå¦‚æœæ— é™åˆ¶çš„åˆ›å»ºï¼Œä¸ä»…ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œè¿˜ä¼šé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œå› æ­¤ï¼Œéœ€è¦ä½¿ç”¨çº¿ç¨‹æ± æ¥ç®¡ç†çº¿ç¨‹ã€‚ Javaé€šè¿‡Executorsæä¾›å››ç§çº¿ç¨‹æ± ï¼Œåˆ†åˆ«ä¸ºï¼š newCachedThreadPoolåˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚ newFixedThreadPool åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œå¯æ§åˆ¶çº¿ç¨‹æœ€å¤§å¹¶å‘æ•°ï¼Œè¶…å‡ºçš„çº¿ç¨‹ä¼šåœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚ newScheduledThreadPool åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œã€‚ newSingleThreadExecutor åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO, LIFO, ä¼˜å…ˆçº§)æ‰§è¡Œã€‚ çº¿ç¨‹æ± çš„å·¥ä½œåŸç†ï¼šçº¿ç¨‹æ± çš„åˆ›å»ºã€å…³é—­ã€å¦‚ä½•åˆç†é…ç½®çº¿ç¨‹æ± å‚æ•°å¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« ã€‚çº¿ç¨‹æ± è¯¦è§£ å¦‚ä½•è®¾è®¡ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œéœ€è¦è€ƒè™‘ä»€ä¹ˆï¼Ÿ ä¸€ä¸ªçº¿ç¨‹æ± åŒ…æ‹¬ä»¥ä¸‹å››ä¸ªåŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼š â€¢ çº¿ç¨‹ç®¡ç†å™¨ (Thread Pool ) ï¼šç”¨äºåˆ›å»ºå¹¶ç®¡ç†çº¿ç¨‹æ± ï¼ŒåŒ…æ‹¬åˆ›å»ºçº¿ç¨‹ï¼Œé”€æ¯çº¿ç¨‹æ± ï¼Œæ·»åŠ æ–°ä»»åŠ¡ï¼› â€¢ å·¥ä½œçº¿ç¨‹ (PoolWorker) ï¼šçº¿ç¨‹æ± ä¸­çº¿ç¨‹ï¼Œåœ¨æ²¡æœ‰ä»»åŠ¡æ—¶å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå¯ä»¥å¾ªç¯çš„æ‰§è¡Œä»»åŠ¡ï¼› â€¢ ä»»åŠ¡æ¥å£ (Task) ï¼šæ¯ä¸ªä»»åŠ¡å¿…é¡»å®ç°çš„æ¥å£ï¼Œä»¥ä¾›å·¥ä½œçº¿ç¨‹è°ƒåº¦ä»»åŠ¡çš„æ‰§è¡Œï¼Œå®ƒä¸»è¦è§„å®šäº†ä»»åŠ¡çš„å…¥å£ï¼Œä»»åŠ¡æ‰§è¡Œå®Œåçš„æ”¶å°¾å·¥ä½œï¼Œä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ç­‰ï¼› â€¢ ä»»åŠ¡é˜Ÿåˆ— (TaskQueue) ï¼šç”¨äºå­˜æ”¾æ²¡æœ‰å¤„ç†çš„ä»»åŠ¡ã€‚æä¾›ä¸€ç§ç¼“å†²æœºåˆ¶ï¼› â—‹ æ‰€åŒ…å«çš„æ–¹æ³• â€¢ private ThreadPool() åˆ›å»ºçº¿ç¨‹æ±  â€¢ public static ThreadPool getThreadPool() è·å¾—ä¸€ä¸ªé»˜è®¤çº¿ç¨‹ä¸ªæ•°çš„çº¿ç¨‹æ±  â€¢ public void execute(Runnable task) æ‰§è¡Œä»»åŠ¡ , å…¶å®åªæ˜¯æŠŠä»»åŠ¡åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œä»€ä¹ˆæ—¶å€™æ‰§è¡Œæœ‰çº¿ç¨‹æ± ç®¡ç†å™¨å†³å®š â€¢ public void execute(Runnable[] task) æ‰¹é‡æ‰§è¡Œä»»åŠ¡ , å…¶å®åªæ˜¯æŠŠä»»åŠ¡åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œä»€ä¹ˆæ—¶å€™æ‰§è¡Œæœ‰çº¿ç¨‹æ± ç®¡ç†å™¨ å†³å®šâ€¢ public void destroy() é”€æ¯çº¿ç¨‹æ±  , è¯¥æ–¹æ³•ä¿è¯åœ¨æ‰€æœ‰ä»»åŠ¡éƒ½å®Œæˆçš„æƒ…å†µä¸‹æ‰é”€æ¯æ‰€æœ‰çº¿ç¨‹ï¼Œå¦åˆ™ç­‰å¾…ä»»åŠ¡å®Œæˆæ‰é”€æ¯ â€¢ public int getWorkThreadNumber() è¿”å›å·¥ä½œçº¿ç¨‹çš„ä¸ªæ•° â€¢ public int getFinishedTasknumber() è¿”å›å·²å®Œæˆä»»åŠ¡çš„ä¸ªæ•° , è¿™é‡Œçš„å·²å®Œæˆæ˜¯åªå‡ºäº†ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ä¸ªæ•°ï¼Œå¯èƒ½è¯¥ä»»åŠ¡å¹¶æ²¡æœ‰å®é™…æ‰§è¡Œå®Œæˆ â€¢ public void addThread() åœ¨ä¿è¯çº¿ç¨‹æ± ä¸­æ‰€æœ‰çº¿ç¨‹æ­£åœ¨æ‰§è¡Œï¼Œå¹¶ä¸”è¦æ‰§è¡Œçº¿ç¨‹çš„ä¸ªæ•°å¤§äºæŸä¸€å€¼æ—¶ã€‚å¢åŠ çº¿ç¨‹æ± ä¸­çº¿ç¨‹çš„ä¸ªæ•° â€¢ public void reduceThread() åœ¨ä¿è¯çº¿ç¨‹æ± ä¸­æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†çº¿ç¨‹å¤„äºç©ºé—²çŠ¶æ€ï¼Œå¹¶ä¸”ç©ºé—²çŠ¶æ€çš„çº¿ç¨‹åœ¨å°äºæŸä¸€så€¼æ—¶ï¼Œå‡å°‘çº¿ç¨‹æ± ä¸­çº¿ç¨‹çš„ä¸ªæ•° å‚è€ƒæ–‡çŒ®ï¼š ã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹ Java å¹¶å‘ä¸“é¢˜27ç¯‡ CyC2018/Javaå¹¶å‘ JavaGuide/Javaå¹¶å‘","categories":[{"name":"Javaå¹¶å‘","slug":"Javaå¹¶å‘","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/Javaå¹¶å‘/"}],"tags":[{"name":"å¹¶å‘ç¼–ç¨‹","slug":"å¹¶å‘ç¼–ç¨‹","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/å¹¶å‘ç¼–ç¨‹/"}]},{"title":"å‰‘æŒ‡Offerï¼ˆ1-9Javaè¯­è¨€æè¿°ï¼‰","slug":"å‰‘æŒ‡Offerï¼ˆ1-9Javaè¯­è¨€æè¿°ï¼‰","date":"2019-08-02T10:25:08.000Z","updated":"2019-09-30T14:27:28.000Z","comments":true,"path":"2019/08/02/jian-zhi-offer-1-9java-yu-yan-miao-shu/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/08/02/jian-zhi-offer-1-9java-yu-yan-miao-shu/","excerpt":"","text":"å¾ˆå¿«ç§‹æ‹›å°±æ¥äº†ï¼Œä»Šå¤©å¼€å§‹åˆ·å‰‘æŒ‡ï¼Œåº”è¯¥ä¸ä¼šå¤ªæ…¢å§ï¼Œä¹‹å‰åˆ·äº†ä¸€ç™¾é“leetcodeï¼ŒæŒ‰ç…§tagåˆ·çš„ï¼Œæƒ³ç€è¿™ä¸ªæœˆå‰æŠŠå‰‘æŒ‡åˆ·ä¸€éï¼Œç¬¬ä¸€æ³¢ï¼Œè®°å½•ä¸‹ï¼š é¡ºä¾¿é™„å¸¦äº®å‰‘ç»å…¸è¯­å½• ä¸€ï¼šç¢°åˆ°æˆ‘ä»¬ç‹¬ç«‹å›¢ï¼Œå°±æ˜¯ç¢°åˆ°äº†ä¸€ç¾¤é‡ç‹¼ï¼Œåœ¨å’±ä»¬çœ¼é‡Œï¼Œä»»ä½•å¯¹æ‰‹ï¼Œéƒ½æ˜¯æˆ‘ä»¬å˜´é‡Œçš„ä¸€å—è‚‰ã€‚ ä¸è¯´é¸¡æ±¤äº†ï¼Œä¸Šé¢˜ 1. äºŒè¿›åˆ¶ä¸­ 1 çš„ä¸ªæ•°é¢˜ç›®æè¿°è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¾“å‡ºè¯¥æ•°äºŒè¿›åˆ¶è¡¨ç¤ºä¸­1çš„ä¸ªæ•°ã€‚å…¶ä¸­è´Ÿæ•°ç”¨è¡¥ç è¡¨ç¤ºã€‚è§£é¢˜æ€è·¯ï¼šè¿™é“é¢˜ä¹‹å‰leetcodeä¹Ÿæœ‰çœ‹åˆ°ï¼Œä¹Ÿåšè¿‡ã€‚ç¬¬ä¸€ç§å¯ä»¥ç›´æ¥ç”¨api Integer.bitCount(n) public class Solution { public int NumberOf1(int n) { return Integer.bitCount(n); } } ç¬¬äºŒç§å¯ä»¥ç”¨ &amp; è¿ç®—çš„æ€§è´¨ï¼Œn &amp; ï¼ˆn - 1ï¼‰ å»é™¤nçš„äºŒè¿›åˆ¶æœ€ä½ä½ã€‚ public class Solution { public int NumberOf1(int n) { int count = 0; while (n != 0) { n = n &amp; (n - 1); count++; } return count; } } 2. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªdoubleç±»å‹çš„æµ®ç‚¹æ•°baseå’Œintç±»å‹çš„æ•´æ•°exponentã€‚æ±‚baseçš„exponentæ¬¡æ–¹ã€‚è§£é¢˜æ€è·¯ï¼šè‡ªå·±ç›´æ¥çš„éå†å¾ªç¯è§£æ³•ï¼Œæ—¶é—´å¤æ‚åº¦O(n) public class Solution { public double Power(double base, int exponent) { if (base == 0.0) return 0; if (exponent == 0) return 1; double temp = base; for (int i = 1; i &lt; Math.abs(exponent); i++) { base *= temp; } return exponent > 0 ? base : 1 / base; } } å¤§ç¥çš„è§£æ³•æ€è·¯:æœ‰è¿™æ ·çš„è§„å¾‹ã€‚ã€‚ã€‚ å½“nä¸ºå¶æ•°ï¼Œa^n =ï¼ˆa^n/2ï¼‰*ï¼ˆa^n/2ï¼‰ å½“nä¸ºå¥‡æ•°ï¼Œa^n = a^[(n-1)/2] * a^[(n-1)/2] * aå› æ­¤ (x*x)n/2 å¯ä»¥é€šè¿‡é€’å½’æ±‚è§£ï¼Œå¹¶ä¸”æ¯æ¬¡é€’å½’ n éƒ½å‡å°ä¸€åŠï¼Œå› æ­¤æ•´ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(logN)ã€‚ public class Solution { public double Power(double base, int exponent) { if (base == 0) return 0; if (exponent == 0) return 1; if (exponent == 1) return base; double res = Power(base * base, Math.abs(exponent / 2)); if (exponent % 2 != 0) { res *= base; } return exponent > 0 ? res : 1 / res; } } 3.é‡å¤çš„æ•°å­—é¢˜ç›®æè¿°ï¼šåœ¨ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨0åˆ°n-1çš„èŒƒå›´å†…ã€‚ æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—æ˜¯é‡å¤çš„ã€‚ä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥é•¿åº¦ä¸º7çš„æ•°ç»„{2,3,1,0,2,5,3}ï¼Œé‚£ä¹ˆå¯¹åº”çš„è¾“å‡ºæ˜¯ç¬¬ä¸€ä¸ªé‡å¤çš„æ•°å­—2ã€‚è§£é¢˜æ€è·¯ï¼šæœ¬é¢˜å¯ä»¥ç”¨æ’åºï¼Œç„¶ååˆ¤æ–­å³å¯ï¼Œä¸è¿‡å¦‚æœè¦å»æ—¶é—´å¤æ‚åº¦O(n)ï¼Œç©ºé—´å¤æ‚åº¦O(n)çš„è¯ï¼Œå°±ä¸èƒ½ç”¨æ’åºäº†ï¼Œå› æ­¤æ³¨æ„é¢˜ç›®ç‰¹ç‚¹ï¼Œæ•°ç»„å…ƒç´ åœ¨ [0, n-1] èŒƒå›´å†…ï¼Œå¯ä»¥å°†å€¼ä¸º i çš„å…ƒç´ è°ƒæ•´ï¼ˆäº¤æ¢ï¼‰åˆ°ç¬¬ i ä¸ªä½ç½®ä¸Šï¼Œç„¶åéå†çš„æ—¶å€™åˆ¤æ–­å¯¹åº”ä½ç½®æ˜¯å¦å·²ç»å­˜åœ¨å€¼ï¼Œè¿›è¡Œæ±‚è§£ã€‚ public class Solution { public boolean duplicate(int numbers[],int length,int [] duplication) { if (length == 0) return false; for (int i = 0; i &lt; length; i++) { if (numbers[i] == i) continue; else{ if (numbers[i] == numbers[numbers[i]] ) { duplication[0] = numbers[i]; return true; } swap(numbers,i,numbers[i]); } } return false; } private void swap(int [] arr,int a ,int b){ int temp = arr[a]; arr[a] = arr[b]; arr[b] = temp; } } 4.äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾é¢˜ç›®æè¿°:åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­ï¼ˆæ¯ä¸ªä¸€ç»´æ•°ç»„çš„é•¿åº¦ç›¸åŒï¼‰ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»å·¦åˆ°å³é€’å¢çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹é€’å¢çš„é¡ºåºæ’åºã€‚è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚è§£é¢˜æ€è·¯ï¼šè¿™é“é¢˜åˆšå¼€å§‹è€ƒè™‘äºŒåˆ†æŸ¥æ‰¾ï¼Œç»“æœå‘ç°ä¸è¡Œï¼Œåæ¥çœ‹æ•°ç»„çš„ç‰¹ç‚¹ï¼Œä»å·¦åˆ°å³é€’å¢ï¼Œä»ä¸Šåˆ°ä¸‹é€’å‡ï¼Œå› æ­¤å³ä¸‹è§’çš„æ•°å­—è‚¯å®šæœ€å¤§ï¼Œå·¦ä¸Šè§’çš„æ•°å­—è‚¯å®šæœ€å°ï¼Œå¯ä»¥è€ƒè™‘ä»å³ä¸Šè§’æˆ–è€…å·¦ä¸‹è§’åˆ¤æ–­ä¸targetå€¼ å¾—å¤§å°ï¼Œç„¶åè¿›è¡Œç§»åŠ¨ã€‚è¿™é‡Œæˆ‘ä»å³ä¸Šè§’å¼€å§‹åˆ¤æ–­ã€‚ public class Solution { public boolean Find(int target, int [][] array) { if (array.length == 0) return false; int row = array.length; int column = array[0].length; int r = 0, c = column - 1; while (r &lt; row &amp;&amp; c >= 0) { if (target == array[r][c]) return true; else if (target > array[r][c]) r++; else c--; } return false; } } 5.æ›¿æ¢ç©ºæ ¼ä¸ºæŒ‡å®šå­—ç¬¦ é¢˜ç›®æè¿°ï¼š è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆâ€œ%20â€ã€‚ä¾‹å¦‚ï¼Œå½“å­—ç¬¦ä¸²ä¸ºWe Are Happy.åˆ™ç»è¿‡æ›¿æ¢ä¹‹åçš„å­—ç¬¦ä¸²ä¸ºWe%20Are%20Happyã€‚ è§£é¢˜æ€è·¯ï¼š å…¶å®å¯ä»¥ä½¿ç”¨Javaä¸€è¡Œä»£ç å³å¯å®ç°ï¼Œç”¨replace æ–¹æ³•ã€‚ã€‚ã€‚çš®äº†ã€‚ ä¹Ÿå¯ä»¥ç”¨StringBufferä¸­çš„appendæ¥å®ç°ï¼Œè¿™æ ·å°±éœ€è¦å†åˆ›å»ºä¸€ä¸ªStrinbufferå¯¹è±¡ã€‚ è¿™é‡Œè¿˜æ˜¯è€è€å®å®ä»åå¾€å‰éå†ï¼Œé¦–å…ˆå…ˆå®šä¹‰ä¸¤ä¸ªé•¿åº¦ï¼Œtemp1 å’Œ temp2 ï¼Œå½“éå†åˆ°ä¸€ä¸ªç©ºæ ¼æ—¶ï¼Œåœ¨å°¾éƒ¨å¡«å……ä¸¤ä¸ªä»»æ„å­—ç¬¦ã€‚ public class Solution { public String replaceSpace(StringBuffer str) { int temp1 = str.length() - 1; for (int i = 0; i &lt;= temp1; i++) { if (str.charAt(i) == ' '){ str.append(\" \"); //æœ‰å¤šå°‘ç©ºæ ¼å°±åŠ å¤šå°‘ \" \" } } int temp2 = str.length() - 1; while (temp1 >=0 &amp;&amp; temp2 > temp1) { char c = str.charAt(temp1--); if (c == ' '){ str.setCharAt(temp2--,'0'); str.setCharAt(temp2--,'2'); str.setCharAt(temp2--,'%'); } else { str.setCharAt(temp2--,c); } } return str.toString(); } } 6.ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨é¢˜ç›®æè¿°ï¼šè¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼ŒæŒ‰é“¾è¡¨å€¼ä»å°¾åˆ°å¤´çš„é¡ºåºè¿”å›ä¸€ä¸ªArrayListã€‚Input : 1 -&gt; 2 -&gt; 3Output : 3 -&gt; 2 -&gt; 1 è§£é¢˜æ€è·¯ï¼šé¢˜ç›®åˆšçœ‹ï¼Œæ„Ÿè§‰å°±æ˜¯é“¾è¡¨åè½¬ï¼Œé‚£ä¹ˆå¦‚ä½•è¿›è¡Œé“¾è¡¨åè½¬å‘¢ï¼Œå…¶å®å¯ä»¥ä½¿ç”¨ å¤´æ’æ³•ï¼Œè¿™é‡Œ head å°±æ˜¯å¤´ï¼Œheadä¸å­˜å‚¨æ•°æ®ï¼Œhead.nextå­˜å‚¨åè½¬åçš„é“¾è¡¨ã€‚åè½¬åå†éå†å°±æ˜¯äº†ã€‚ import java.util.ArrayList; public class Solution { public ArrayList&lt;Integer> printListFromTailToHead(ListNode listNode) { ListNode head = new ListNode(-1); while (listNode != null) { ListNode temp = listNode.next; listNode.next = head.next; head.next = listNode; listNode = temp; } ArrayList&lt;Integer> list = new ArrayList(); head = head.next; while (head != null) { list.add(head.val); head = head.next; } return list; } } æœ¬é¢˜ä¹Ÿå¯ä»¥è¯´ç”¨æ ˆæ¥å®ç°ï¼Œåˆ©ç”¨æ ˆçš„ç‰¹ç‚¹ï¼Œåè¿›å…ˆå‡ºã€‚ import java.util.*; public class Solution { public ArrayList&lt;Integer> printListFromTailToHead(ListNode listNode) { Stack&lt;Integer> stack = new Stack(); while (listNode != null) { stack.push(listNode.val); listNode = listNode.next; } ArrayList&lt;Integer> list = new ArrayList(); while (!stack.isEmpty() ) { list.add(stack.pop()); } return list; } } 7.é‡å»ºäºŒå‰æ ‘é¢˜ç›®æè¿°ï¼šè¾“å…¥æŸäºŒå‰æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœï¼Œè¯·é‡å»ºå‡ºè¯¥äºŒå‰æ ‘ã€‚å‡è®¾è¾“å…¥çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœä¸­éƒ½ä¸å«é‡å¤çš„æ•°å­—ã€‚ä¾‹å¦‚è¾“å…¥å‰åºéå†åºåˆ—{1,2,4,7,3,5,6,8}å’Œä¸­åºéå†åºåˆ—{4,7,2,1,5,3,8,6}ï¼Œåˆ™é‡å»ºäºŒå‰æ ‘å¹¶è¿”å›ã€‚ è§£é¢˜æ€è·¯ï¼šæ³¨æ„äºŒå‰æ ‘æ€§è´¨ï¼Œå¦‚æœæ¶‰åŠåˆ°äºŒå‰æ ‘ï¼Œåº”å½“è€ƒè™‘ä½¿ç”¨é€’å½’æ¥è§£å†³ï¼Œé¦–å…ˆæ ¹æ®å‰åºéå†ç¬¬ä¸€ä¸ªå€¼å°±æ˜¯æ ¹èŠ‚ç‚¹ï¼Œç„¶åæ ¹æ®æ ¹ç»“ç‚¹åœ¨ä¸­åºåºåˆ—ä¸­çš„ä½ç½®åˆ†å‰²å‡ºå·¦å³ä¸¤ä¸ªå­åºåˆ—ï¼Œæœ€åé€’å½’åœ°å¯¹å·¦å­æ ‘å’Œå³å­æ ‘åˆ†åˆ«é€’å½’ä½¿ç”¨åŒæ ·çš„æ–¹æ³•ç»§ç»­åˆ†è§£ã€‚è¿™é‡Œæ³¨æ„Arrays.copyOfRange()çš„ç”¨æ³•ï¼Œï¼ˆå·¦é—­å³å¼€ï¼‰é™„ä¸ŠAPIï¼š import java.util.Arrays; public class Solution { public TreeNode reConstructBinaryTree(int [] pre,int [] in) { if (pre.length == 0 || in.length == 0) return null; int value = pre[0]; TreeNode root = new TreeNode(value); for (int i = 0; i &lt; in.length; i++){ if (in[i] == value) { root.left = reConstructBinaryTree(Arrays.copyOfRange(pre,1,i+1),Arrays.copyOfRange(in,0,i)); root.right =reConstructBinaryTree(Arrays.copyOfRange(pre,i+1,in.length),Arrays.copyOfRange(in,i+1,in.length)); break; } } return root; } } 8.äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªç»“ç‚¹é¢˜ç›®æè¿°:ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œå…¶ä¸­çš„ä¸€ä¸ªç»“ç‚¹ï¼Œè¯·æ‰¾å‡ºä¸­åºéå†é¡ºåºçš„ä¸‹ä¸€ä¸ªç»“ç‚¹å¹¶ä¸”è¿”å›ã€‚æ³¨æ„ï¼Œæ ‘ä¸­çš„ç»“ç‚¹ä¸ä»…åŒ…å«å·¦å³å­ç»“ç‚¹ï¼ŒåŒæ—¶åŒ…å«æŒ‡å‘çˆ¶ç»“ç‚¹çš„æŒ‡é’ˆã€‚è§£é¢˜æ€è·¯ï¼šç”±äºæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰æŒ‡å‘çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œå› æ­¤å…ˆæ±‚çš„æ ¹èŠ‚ç‚¹ï¼Œç„¶åå†åˆ©ç”¨æ ¹èŠ‚ç‚¹å’Œç”¨é“¾è¡¨å­˜å‚¨ä¸­åºéå†çš„å€¼ï¼Œç„¶ååˆ¤æ–­è¿”å›é“¾è¡¨ä¸‹ä¸€ä¸ªå³å¯ï¼Œéœ€æ³¨æ„æ˜¯å¦æ˜¯æœ€åä¸€ä¸ªã€‚ /* public class TreeLinkNode { int val; TreeLinkNode left = null; TreeLinkNode right = null; TreeLinkNode next = null; TreeLinkNode(int val) { this.val = val; } } */ import java.util.*; public class Solution { static List&lt;TreeLinkNode> list = new ArrayList(); public TreeLinkNode GetNext(TreeLinkNode pNode){ if (pNode == null) return null; TreeLinkNode p = pNode; while (pNode.next != null) { pNode = pNode.next; } getMidTravel(pNode); for (int i = 0; i &lt; list.size(); i++) { if (list.get(i) == p) { return (i == list.size() - 1) ? null : list.get(i+1); } } return null; } //ä¸­åºéå† private static void getMidTravel(TreeLinkNode node) { if (node != null) { getMidTravel(node.left); list.add(node); getMidTravel(node.right); } } } ä¸Šè¿°æ–¹æ³•æ—¶é—´å¤æ‚åº¦Oï¼ˆN),ç©ºé—´å¤æ‚åº¦ï¼šO(n),ä¸‹é¢è¿™ç§å¯ä»¥åšåˆ°ç©ºé—´å¤æ‚åº¦O(n)å¯ä»¥æŠŠä¸­åºä¸‹ä¸€ç»“ç‚¹å½’ä¸ºå‡ ç§ç±»å‹ï¼š æœ‰å³å­æ ‘ï¼Œä¸‹ä¸€ç»“ç‚¹æ˜¯å³å­æ ‘ä¸­çš„æœ€å·¦ç»“ç‚¹ æ— å³å­æ ‘ï¼Œä¸”ç»“ç‚¹æ˜¯è¯¥ç»“ç‚¹çˆ¶ç»“ç‚¹çš„å·¦å­æ ‘ï¼Œåˆ™ä¸‹ä¸€ç»“ç‚¹æ˜¯è¯¥ç»“ç‚¹çš„çˆ¶ç»“ç‚¹ æ— å³å­æ ‘ï¼Œä¸”ç»“ç‚¹æ˜¯è¯¥ç»“ç‚¹çˆ¶ç»“ç‚¹çš„å³å­æ ‘ï¼Œåˆ™æˆ‘ä»¬ä¸€ç›´æ²¿ç€çˆ¶ç»“ç‚¹è¿½æœ”ï¼Œç›´åˆ°æ‰¾åˆ°æŸä¸ªç»“ç‚¹æ˜¯å…¶çˆ¶ç»“ç‚¹çš„å·¦å­æ ‘ï¼Œå¦‚æœå­˜åœ¨è¿™æ ·çš„ç»“ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªç»“ç‚¹çš„çˆ¶ç»“ç‚¹å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ä¸‹ä¸€ç»“ç‚¹ã€‚ /* public class TreeLinkNode { int val; TreeLinkNode left = null; TreeLinkNode right = null; TreeLinkNode next = null; TreeLinkNode(int val) { this.val = val; } } */ public class Solution { public TreeLinkNode GetNext(TreeLinkNode pNode){ if (pNode == null) return null; if (pNode.right != null) { TreeLinkNode temp = pNode.right; if (temp.left != null) { return temp.left; } return temp; }else { while (pNode.next != null) { TreeLinkNode temp = pNode.next; if (temp.left == pNode) return temp; pNode = pNode.next; } } return null; } } 9. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—é¢˜ç›®æè¿°ç”¨ä¸¤ä¸ªæ ˆæ¥å®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå®Œæˆé˜Ÿåˆ—çš„Pushå’ŒPopæ“ä½œã€‚ é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ºintç±»å‹ã€‚ è§£é¢˜æ€è·¯ï¼šä¹‹å‰åœ¨LeetCodeåˆ·è¿‡ç±»ä¼¼é¢˜ç›®ï¼Œå½“æ—¶è¿˜å†™äº†ä¸€ç¯‡æ–‡ç« LeetCodeä¸­çš„æ ˆå’Œé˜Ÿåˆ—çš„é—®é¢˜ï¼Œè¿™é‡Œä½¿ç”¨ä¸¤ä¸ªæ ˆï¼Œåˆ©ç”¨æ ˆåè¿›å…ˆå‡ºç‰¹ç‚¹å’Œé˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºç‰¹ç‚¹è¿›è¡Œè§£å†³å³å¯ã€‚éœ€è¦æ³¨æ„çš„å°±æ˜¯å½“ç¬¬äºŒä¸ªæ ˆstack2ä¸ºç©ºæ—¶æ‰å¾€é‡Œé¢pushã€‚ import java.util.Stack; public class Solution { Stack&lt;Integer> stack1 = new Stack&lt;Integer>(); Stack&lt;Integer> stack2 = new Stack&lt;Integer>(); public void push(int node) { stack1.push(node); } public int pop() { //å½“ç¬¬äºŒä¸ªæ ˆstack2ä¸ºç©ºæ—¶æ‰å¾€é‡Œé¢pushã€‚ while (stack2.empty()){ while (!stack1.empty()){ stack2.push(stack1.pop()); } } return stack2.pop(); } }","categories":[{"name":"å‰‘æŒ‡Offer","slug":"å‰‘æŒ‡Offer","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/å‰‘æŒ‡Offer/"}],"tags":[{"name":"å‰‘æŒ‡Offer","slug":"å‰‘æŒ‡Offer","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/å‰‘æŒ‡Offer/"}]},{"title":"MySQLæ‚è®°","slug":"MySQLé¢è¯•å¸¸è§é¢˜ç›®","date":"2019-07-12T10:25:08.000Z","updated":"2019-09-30T14:24:00.000Z","comments":true,"path":"2019/07/12/mysql-mian-shi-chang-jian-ti-mu/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/07/12/mysql-mian-shi-chang-jian-ti-mu/","excerpt":"","text":"æœ€è¿‘åœ¨å¤ä¹  MySQLï¼Œæ„Ÿè§‰çŸ¥è¯†ç‚¹å¾ˆé›¶æ•£ï¼Œé¡ºä¾¿å·©å›ºæ€»ç»“ä¸‹ç›¸å…³çš„çŸ¥è¯†ã€‚ 1.äº‹åŠ¡å››ä¸ªç‰¹æ€§ï¼šé¢è¯•å¸¸å®¢ï¼Œå†åŸºç¡€ä¸è¿‡ A åŸå­æ€§ï¼ˆAtomicityï¼‰ C ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ I éš”ç¦»æ€§ï¼ˆIsolationï¼‰ D æŒä¹…æ€§ï¼ˆDurabilityï¼‰2.å¹¶å‘äº‹åŠ¡å¸¦æ¥çš„é—®é¢˜ï¼ˆè¦ç†è§£æ¯ä¸ªæ¦‚å¿µï¼‰ è„è¯» ä¸¢å¤±ä¿®æ”¹ ä¸å¯é‡å¤è¯» å¹»è¯» 3.äº‹åŠ¡éš”ç¦»çº§åˆ«æœ‰å“ªäº› READ-UNCOMMITTED(è¯»å–æœªæäº¤)ï¼š æœ€ä½çš„éš”ç¦»çº§åˆ«ï¼Œå…è®¸è¯»å–å°šæœªæäº¤çš„æ•°æ®å˜æ›´ï¼Œå¯èƒ½ä¼šå¯¼è‡´è„è¯»ã€å¹»è¯»æˆ–ä¸å¯é‡å¤è¯»ã€‚ READ-COMMITTED(è¯»å–å·²æäº¤)ï¼š å…è®¸è¯»å–å¹¶å‘äº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®ï¼Œå¯ä»¥é˜»æ­¢è„è¯»ï¼Œä½†æ˜¯å¹»è¯»æˆ–ä¸å¯é‡å¤è¯»ä»æœ‰å¯èƒ½å‘ç”Ÿã€‚ REPEATABLE-READ(å¯é‡å¤è¯»)ï¼š å¯¹åŒä¸€å­—æ®µçš„å¤šæ¬¡è¯»å–ç»“æœéƒ½æ˜¯ä¸€è‡´çš„ï¼Œé™¤éæ•°æ®æ˜¯è¢«æœ¬èº«äº‹åŠ¡è‡ªå·±æ‰€ä¿®æ”¹ï¼Œå¯ä»¥é˜»æ­¢è„è¯»å’Œä¸å¯é‡å¤è¯»ï¼Œä½†å¹»è¯»ä»æœ‰å¯èƒ½å‘ç”Ÿã€‚ï¼ˆMySQLé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼‰ SERIALIZABLE(å¯ä¸²è¡ŒåŒ–)ï¼š æœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œå®Œå…¨æœä»ACIDçš„éš”ç¦»çº§åˆ«ã€‚æ‰€æœ‰çš„äº‹åŠ¡ä¾æ¬¡é€ä¸ªæ‰§è¡Œï¼Œè¿™æ ·äº‹åŠ¡ä¹‹é—´å°±å®Œå…¨ä¸å¯èƒ½äº§ç”Ÿå¹²æ‰°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥çº§åˆ«å¯ä»¥é˜²æ­¢è„è¯»ã€ä¸å¯é‡å¤è¯»ä»¥åŠå¹»è¯»ã€‚3.MyISAMå’ŒInnoDBåŒºåˆ«MyISAMæ˜¯MySQLçš„é»˜è®¤æ•°æ®åº“å¼•æ“ï¼ˆ5.5ç‰ˆä¹‹å‰ï¼‰ã€‚ä½†MyISAMä¸æ”¯æŒäº‹åŠ¡å’Œè¡Œçº§é”ï¼Œè€Œä¸”æœ€å¤§çš„ç¼ºé™·å°±æ˜¯å´©æºƒåæ— æ³•å®‰å…¨æ¢å¤ã€‚ä¸è¿‡ï¼Œ5.5ç‰ˆæœ¬ä¹‹åï¼ŒMySQLå¼•å…¥äº†InnoDBï¼ˆäº‹åŠ¡æ€§æ•°æ®åº“å¼•æ“ï¼‰ï¼ŒMySQL 5.5ç‰ˆæœ¬åé»˜è®¤çš„å­˜å‚¨å¼•æ“ä¸ºInnoDBã€‚ å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬ä½¿ç”¨çš„éƒ½æ˜¯ InnoDB å­˜å‚¨å¼•æ“ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ä½¿ç”¨ MyISAM ä¹Ÿæ˜¯åˆé€‚çš„æ¯”å¦‚è¯»å¯†é›†çš„æƒ…å†µä¸‹ã€‚ï¼ˆå¦‚æœä½ ä¸ä»‹æ„ MyISAM å´©æºƒå›å¤é—®é¢˜çš„è¯ï¼‰ã€‚ äºŒè€…åŒºåˆ«ï¼š MyISAM ä¸æ”¯æŒå¤–é”®ï¼Œè€Œ InnoDB æ”¯æŒ MyISAM æ˜¯éäº‹åŠ¡å®‰å…¨å‹çš„ï¼Œè€Œ InnoDB æ˜¯äº‹åŠ¡å®‰å…¨å‹çš„ã€‚ MyISAM é”çš„ç²’åº¦æ˜¯è¡¨çº§ï¼Œè€Œ InnoDB æ”¯æŒè¡Œçº§é”å®šã€‚ MyISAM æ”¯æŒå…¨æ–‡ç±»å‹ç´¢å¼•ï¼Œè€Œ InnoDB ä¸æ”¯æŒå…¨æ–‡ç´¢å¼•ã€‚ MyISAM ç›¸å¯¹ç®€å•ï¼Œæ‰€ä»¥åœ¨æ•ˆç‡ä¸Šè¦ä¼˜äº InnoDBï¼Œå°å‹åº”ç”¨å¯ä»¥è€ƒè™‘ä½¿ç”¨ MyISAMã€‚ MyISAM è¡¨æ˜¯ä¿å­˜æˆæ–‡ä»¶çš„å½¢å¼ï¼Œåœ¨è·¨å¹³å°çš„æ•°æ®è½¬ç§»ä¸­ä½¿ç”¨ MyISAM å­˜å‚¨ä¼šçœå»ä¸å°‘çš„éº»çƒ¦ã€‚ InnoDB è¡¨æ¯” MyISAM è¡¨æ›´å®‰å…¨ï¼Œå¯ä»¥åœ¨ä¿è¯æ•°æ®ä¸ä¼šä¸¢å¤±çš„æƒ…å†µä¸‹ï¼Œåˆ‡æ¢éäº‹åŠ¡è¡¨åˆ°äº‹åŠ¡è¡¨ï¼ˆalter table tablename type=innodbï¼‰ã€‚ é”çš„åŒºåˆ«: InnoDB(é»˜è®¤) ï¼šäº‹åŠ¡ä¼˜å…ˆ ï¼ˆé€‚åˆé«˜å¹¶å‘æ“ä½œï¼›è¡Œé”ï¼‰ MyISAM ï¼šæ€§èƒ½ä¼˜å…ˆ ï¼ˆè¡¨é”ï¼‰ åº”ç”¨åœºæ™¯: MyISAM ç®¡ç†éäº‹åŠ¡è¡¨ã€‚å®ƒæä¾›é«˜é€Ÿå­˜å‚¨å’Œæ£€ç´¢ï¼Œä»¥åŠå…¨æ–‡æœç´¢èƒ½åŠ›ã€‚å¦‚æœåº”ç”¨ä¸­éœ€è¦æ‰§è¡Œå¤§é‡çš„ SELECT æŸ¥è¯¢ï¼Œé‚£ä¹ˆ MyISAM æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ InnoDB ç”¨äºäº‹åŠ¡å¤„ç†åº”ç”¨ç¨‹åºï¼Œå…·æœ‰ä¼—å¤šç‰¹æ€§ï¼ŒåŒ…æ‹¬ ACID äº‹åŠ¡æ”¯æŒã€‚å¦‚æœåº”ç”¨ä¸­éœ€è¦æ‰§è¡Œå¤§é‡çš„ INSERT æˆ– UPDATE æ“ä½œï¼Œåˆ™åº”è¯¥ä½¿ç”¨ InnoDBï¼Œè¿™æ ·å¯ä»¥æé«˜å¤šç”¨æˆ·å¹¶å‘æ“ä½œçš„æ€§èƒ½ã€‚ 4.Bæ ‘å’ŒB+æ ‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆç´¢å¼•ä¸ç”¨Bæ ‘ï¼ŸB-æ ‘æ˜¯ä¸€ç§å¹³è¡¡çš„å¤šè·¯æŸ¥æ‰¾(åˆç§°æ’åº)æ ‘ï¼Œå°±æ˜¯Bæ ‘ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æœ‰æ‰€åº”ç”¨ã€‚ä¸»è¦ç”¨ä½œæ–‡ä»¶çš„ç´¢å¼•ã€‚å…¶ä¸­çš„Bå°±è¡¨ç¤ºå¹³è¡¡(Balance) B-æ ‘ ï¼š å®šä¹‰ä»»æ„éå¶å­ç»“ç‚¹æœ€å¤šåªæœ‰Mä¸ªå„¿å­ï¼›ä¸”M&gt;2ï¼› æ ¹ç»“ç‚¹çš„å„¿å­æ•°ä¸º[2, M]ï¼› é™¤æ ¹ç»“ç‚¹ä»¥å¤–çš„éå¶å­ç»“ç‚¹çš„å„¿å­æ•°ä¸º[M/2, M]ï¼› æ¯ä¸ªç»“ç‚¹å­˜æ”¾è‡³å°‘M/2-1ï¼ˆå–ä¸Šæ•´ï¼‰å’Œè‡³å¤šM-1ä¸ªå…³é”®å­—ï¼›ï¼ˆè‡³å°‘2ä¸ªå…³é”®å­—ï¼‰ éå¶å­ç»“ç‚¹çš„æŒ‡é’ˆï¼šP[1], P[2], â€¦, P[M]ï¼›å…¶ä¸­P[1]æŒ‡å‘å…³é”®å­—å°äºK[1]çš„å­æ ‘ï¼ŒP[M]æŒ‡å‘å…³é”®å­—å¤§äºK[M-1]çš„å­æ ‘ï¼Œå…¶å®ƒP[i]æŒ‡å‘å…³é”®å­—å±äº(K[i-1], K[i])çš„å­æ ‘ï¼› æ‰€æœ‰å¶å­ç»“ç‚¹ä½äºåŒä¸€å±‚ï¼›ï¼ˆå›¾ç‰‡æ¥è‡ªç½‘ä¸Šï¼Œä¾µåˆ ï¼‰B-æ ‘çš„æœç´¢ï¼šä»æ ¹ç»“ç‚¹å¼€å§‹ï¼Œå¯¹ç»“ç‚¹å†…çš„å…³é”®å­—ï¼ˆæœ‰åºï¼‰åºåˆ—è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œå¦‚æœå‘½ä¸­åˆ™ç»“æŸï¼Œå¦åˆ™è¿›å…¥æŸ¥è¯¢å…³é”®å­—æ‰€å±èŒƒå›´çš„å„¿å­ç»“ç‚¹ï¼›é‡å¤ï¼Œç›´åˆ°æ‰€å¯¹åº”çš„å„¿å­æŒ‡é’ˆä¸ºç©ºï¼Œæˆ–å·²ç»æ˜¯å¶å­ç»“ç‚¹ï¼›å…¶æœç´¢çš„ç‰¹ç‚¹ï¼š å…³é”®å­—é›†åˆåˆ†å¸ƒåœ¨æ•´é¢—æ ‘ä¸­ï¼› ä»»ä½•ä¸€ä¸ªå…³é”®å­—å‡ºç°ä¸”åªå‡ºç°åœ¨ä¸€ä¸ªç»“ç‚¹ä¸­ï¼› æœç´¢æœ‰å¯èƒ½åœ¨éå¶å­ç»“ç‚¹ç»“æŸï¼› å…¶æœç´¢æ€§èƒ½ç­‰ä»·äºåœ¨å…³é”®å­—å…¨é›†å†…åšä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼› ç”±äºé™åˆ¶äº†é™¤æ ¹ç»“ç‚¹ä»¥å¤–çš„éå¶å­ç»“ç‚¹ï¼Œè‡³å°‘å«æœ‰M/2ä¸ªå„¿å­ï¼Œç¡®ä¿äº†ç»“ç‚¹çš„è‡³å°‘åˆ©ç”¨ç‡ï¼Œå…¶æœ€ä½æœç´¢æ€§èƒ½ä¸ºlgNï¼› B-æ ‘çš„æ€§èƒ½æ€»æ˜¯ç­‰ä»·äºäºŒåˆ†æŸ¥æ‰¾ï¼ˆä¸Må€¼æ— å…³ï¼‰ï¼Œæ²¡æœ‰Bæ ‘å¹³è¡¡çš„é—®é¢˜ï¼› B+æ ‘æ€§è´¨ï¼šB+æ ‘æ˜¯B-æ ‘çš„å˜ä½“ï¼Œä¹Ÿæ˜¯ä¸€ç§å¤šè·¯æœç´¢æ ‘ï¼š å…¶å®šä¹‰åŸºæœ¬ä¸B-æ ‘åŒï¼Œæœ‰ä»¥ä¸‹ä¸åŒç‚¹ï¼š éå¶å­ç»“ç‚¹çš„å­æ ‘æŒ‡é’ˆä¸å…³é”®å­—ä¸ªæ•°ç›¸åŒï¼› éå¶å­ç»“ç‚¹çš„å­æ ‘æŒ‡é’ˆP[i]ï¼ŒæŒ‡å‘å…³é”®å­—å€¼å±äº[K[i], K[i+1])çš„å­æ ‘ï¼ˆB-æ ‘æ˜¯å¼€åŒºé—´ï¼‰ï¼› ä¸ºæ‰€æœ‰å¶å­ç»“ç‚¹å¢åŠ ä¸€ä¸ªé“¾æŒ‡é’ˆï¼› æ‰€æœ‰å…³é”®å­—éƒ½åœ¨å¶å­ç»“ç‚¹å‡ºç°ï¼› B+çš„æœç´¢ä¸B-æ ‘ä¹ŸåŸºæœ¬ç›¸åŒï¼ŒåŒºåˆ«æ˜¯B+æ ‘åªæœ‰è¾¾åˆ°å¶å­ç»“ç‚¹æ‰å‘½ä¸­ï¼ˆB-æ ‘å¯ä»¥åœ¨ éå¶å­ç»“ç‚¹å‘½ä¸­ï¼‰ï¼Œå…¶æ€§èƒ½ä¹Ÿç­‰ä»·äºåœ¨å…³é”®å­—å…¨é›†åšä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼›ï¼ˆå›¾ç‰‡æ¥è‡ªç½‘ä¸Šï¼Œä¾µåˆ ï¼‰ B+çš„ç‰¹æ€§ï¼š æ‰€æœ‰å…³é”®å­—éƒ½å‡ºç°åœ¨å¶å­ç»“ç‚¹çš„é“¾è¡¨ä¸­ï¼ˆç¨ å¯†ç´¢å¼•ï¼‰ï¼Œä¸”é“¾è¡¨ä¸­çš„å…³é”®å­—æ°å¥½æ˜¯æœ‰åºçš„ï¼› ä¸å¯èƒ½åœ¨éå¶å­ç»“ç‚¹å‘½ä¸­ï¼› éå¶å­ç»“ç‚¹ç›¸å½“äºæ˜¯å¶å­ç»“ç‚¹çš„ç´¢å¼•ï¼ˆç¨€ç–ç´¢å¼•ï¼‰ï¼Œå¶å­ç»“ç‚¹ç›¸å½“äºæ˜¯å­˜å‚¨ï¼ˆå…³é”®å­—ï¼‰æ•°æ®çš„æ•°æ®å±‚ï¼› æ›´é€‚åˆæ–‡ä»¶ç´¢å¼•ç³»ç»Ÿï¼› 5.æ•°æ®åº“çš„ç´¢å¼•æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿä¼˜ç‚¹ï¼š æé«˜æŸ¥è¯¢æ•ˆç‡ï¼ˆé™ä½IOä½¿ç”¨ç‡ï¼‰ é™ä½CPUä½¿ç”¨ç‡ ï¼ˆâ€¦order by age descï¼Œå› ä¸º Bæ ‘ç´¢å¼• æœ¬èº«å°±æ˜¯ä¸€ä¸ª å¥½æ’åºçš„ç»“æ„ï¼Œå› æ­¤åœ¨æ’åºæ—¶ å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼‰ ç¼ºç‚¹ï¼š ç´¢å¼•æœ¬èº«å¾ˆå¤§ï¼Œ å®é™…ä¸Šç´¢å¼•ä¹Ÿæ˜¯ä¸€å¼ è¡¨ï¼Œè¯¥è¡¨ä¿å­˜äº†ä¸»é”®ä¸ç´¢å¼•å­—æ®µï¼Œå¹¶æŒ‡å‘å®ä½“è¡¨çš„è®°å½•ï¼Œæ‰€ä»¥ç´¢å¼•åˆ—ä¹Ÿæ˜¯è¦å ç”¨ç©ºé—´çš„ï¼› ç´¢å¼•åœ¨ä»¥ä¸‹æƒ…å†µä¸é€‚ç”¨ï¼š a. å°‘é‡æ•°æ®ï¼Œb.é¢‘ç¹æ›´æ–°çš„å­—æ®µï¼Œc.å¾ˆå°‘ä½¿ç”¨çš„å­—æ®µ ç´¢å¼•ä¼šé™ä½å¢åˆ æ”¹çš„æ•ˆç‡ï¼›MySQLä¸ä»…è¦ä¿å­˜æ•°æ®ï¼Œè¿˜è¦ä¿å­˜ä¸€ä¸‹ç´¢å¼•æ–‡ä»¶æ¯æ¬¡æ›´æ–°æ·»åŠ äº†ç´¢å¼•åˆ—çš„å­—æ®µï¼Œ éƒ½ä¼šè°ƒæ•´å› ä¸ºæ›´æ–°æ‰€å¸¦æ¥çš„é”®å€¼å˜åŒ–åçš„ç´¢å¼•ä¿¡æ¯ã€‚ 6.ä¹è§‚é”å’Œæ‚²è§‚é”åŒºåˆ«ï¼š ä¹è§‚é”ï¼šä¹è§‚é”çš„ç‰¹ç‚¹å…ˆè¿›è¡Œä¸šåŠ¡æ“ä½œï¼Œä¸åˆ°ä¸‡ä¸å¾—å·²ä¸å»æ‹¿é”ã€‚å³â€œä¹è§‚â€çš„è®¤ä¸ºæ‹¿é”å¤šåŠæ˜¯ä¼šæˆåŠŸçš„ï¼Œå› æ­¤åœ¨è¿›è¡Œå®Œä¸šåŠ¡æ“ä½œéœ€è¦å®é™…æ›´æ–°æ•°æ®çš„æœ€åä¸€æ­¥å†å»æ‹¿ä¸€ä¸‹é”å°±å¥½ã€‚ä¹è§‚é”æ˜¯å¦åœ¨äº‹åŠ¡ä¸­å…¶å®æ˜¯æ— æ‰€è°“çš„ã€‚ æ‚²è§‚é”ï¼šæ‚²è§‚é”çš„ç‰¹ç‚¹æ˜¯å…ˆè·å–é”ï¼Œå†è¿›è¡Œä¸šåŠ¡æ“ä½œï¼Œå³â€œæ‚²è§‚â€çš„è®¤ä¸ºè·å–é”æ˜¯éå¸¸æœ‰å¯èƒ½å¤±è´¥çš„ï¼Œå› æ­¤è¦å…ˆç¡®ä¿è·å–é”æˆåŠŸå†è¿›è¡Œä¸šåŠ¡æ“ä½œã€‚é€šå¸¸æ¥è®²åœ¨æ•°æ®åº“ä¸Šçš„æ‚²è§‚é”éœ€è¦æ•°æ®åº“æœ¬èº«æä¾›æ”¯æŒï¼Œå³é€šè¿‡å¸¸ç”¨çš„select â€¦ for updateæ“ä½œæ¥å®ç°æ‚²è§‚é”ã€‚å½“æ•°æ®åº“æ‰§è¡Œselect for updateæ—¶ä¼šè·å–è¢«selectä¸­çš„æ•°æ®è¡Œçš„è¡Œé”ï¼Œå› æ­¤å…¶ä»–å¹¶å‘æ‰§è¡Œçš„select for updateå¦‚æœè¯•å›¾é€‰ä¸­åŒä¸€è¡Œåˆ™ä¼šå‘ç”Ÿæ’æ–¥ï¼ˆéœ€è¦ç­‰å¾…è¡Œé”è¢«é‡Šæ”¾ï¼‰ï¼Œå› æ­¤è¾¾åˆ°é”çš„æ•ˆæœã€‚select for updateè·å–çš„è¡Œé”ä¼šåœ¨å½“å‰äº‹åŠ¡ç»“æŸæ—¶è‡ªåŠ¨é‡Šæ”¾ï¼Œå› æ­¤å¿…é¡»åœ¨äº‹åŠ¡ä¸­ä½¿ç”¨ã€‚ åŒºåˆ«ï¼šä¹è§‚é”åœ¨ä¸å‘ç”Ÿå–é”å¤±è´¥çš„æƒ…å†µä¸‹å¼€é”€æ¯”æ‚²è§‚é”å°ï¼Œä½†æ˜¯ä¸€æ—¦å‘ç”Ÿå¤±è´¥å›æ»šå¼€é”€åˆ™æ¯”è¾ƒå¤§ï¼Œå› æ­¤é€‚åˆç”¨åœ¨å–é”å¤±è´¥æ¦‚ç‡æ¯”è¾ƒå°çš„åœºæ™¯ï¼Œå¯ä»¥æå‡ç³»ç»Ÿå¹¶å‘æ€§èƒ½ã€‚ä¹è§‚é”è¿˜é€‚ç”¨äºä¸€äº›æ¯”è¾ƒç‰¹æ®Šçš„åœºæ™¯ï¼Œä¾‹å¦‚åœ¨ä¸šåŠ¡æ“ä½œè¿‡ç¨‹ä¸­æ— æ³•å’Œæ•°æ®åº“ä¿æŒè¿æ¥ç­‰æ‚²è§‚é”æ— æ³•é€‚ç”¨çš„åœ°æ–¹ã€‚ 7.ä¸€æ¡sqlè¯­å¥åœ¨mysqlä¸­å¦‚ä½•æ‰§è¡Œçš„ MySQL ä¸»è¦åˆ†ä¸º Server å±‚å’Œå¼•æ“å±‚ï¼ŒServer å±‚ä¸»è¦åŒ…æ‹¬è¿æ¥å™¨ã€æŸ¥è¯¢ç¼“å­˜ã€åˆ†æå™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œå™¨ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªæ—¥å¿—æ¨¡å—ï¼ˆbinlogï¼‰ï¼Œè¿™ä¸ªæ—¥å¿—æ¨¡å—æ‰€æœ‰æ‰§è¡Œå¼•æ“éƒ½å¯ä»¥å…±ç”¨,redolog åªæœ‰ InnoDB æœ‰ã€‚ å¼•æ“å±‚æ˜¯æ’ä»¶å¼çš„ï¼Œç›®å‰ä¸»è¦åŒ…æ‹¬ï¼ŒMyISAM,InnoDB,Memory ç­‰ã€‚ æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼šæƒé™æ ¡éªŒï¼ˆå¦‚æœå‘½ä¸­ç¼“å­˜ï¼‰â€”ã€‹æŸ¥è¯¢ç¼“å­˜â€”ã€‹åˆ†æå™¨â€”ã€‹ä¼˜åŒ–å™¨â€”ã€‹æƒé™æ ¡éªŒâ€”ã€‹æ‰§è¡Œå™¨â€”ã€‹å¼•æ“ æ›´æ–°è¯­å¥æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼šåˆ†æå™¨â€”-ã€‹æƒé™æ ¡éªŒâ€”-ã€‹æ‰§è¡Œå™¨â€”ã€‹å¼•æ“â€”redo log(prepare çŠ¶æ€â€”ã€‹binlogâ€”ã€‹redo log(commitçŠ¶æ€)å‚è€ƒä¸€æ¡sqlè¯­å¥åœ¨mysqlä¸­å¦‚ä½•æ‰§è¡Œçš„","categories":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/æ•°æ®åº“/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/MySQL/"}]},{"title":"é€’å½’åˆ·é¢˜","slug":"LeetCode ä¸­æœ‰å…³é€’å½’çš„é¢˜ç›®","date":"2019-07-10T10:25:08.000Z","updated":"2019-09-30T14:19:54.000Z","comments":true,"path":"2019/07/10/leetcode-zhong-you-guan-di-gui-de-ti-mu/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/07/10/leetcode-zhong-you-guan-di-gui-de-ti-mu/","excerpt":"","text":"é€’å½’ï¼Œå…¶å®å°±æ˜¯åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­è°ƒç”¨è‡ªå·±ã€‚å¹³æ—¶è§£å†³é€’å½’ä¸‰éƒ¨æ›²ï¼Œå¯ä»¥è€ƒè™‘ä¸‹ï¼š æ‰¾æ•´ä¸ªé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼šé€’å½’åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ç»“æŸï¼Ÿ æ‰¾è¿”å›å€¼ï¼šåº”è¯¥ç»™ä¸Šä¸€çº§è¿”å›ä»€ä¹ˆä¿¡æ¯ï¼Ÿ æœ¬çº§é€’å½’åº”è¯¥åšä»€ä¹ˆï¼šåœ¨è¿™ä¸€çº§é€’å½’ä¸­ï¼Œåº”è¯¥å®Œæˆä»€ä¹ˆä»»åŠ¡ï¼Ÿ æ„æˆé€’å½’éœ€å…·å¤‡çš„æ¡ä»¶ï¼š å­é—®é¢˜é¡»ä¸åŸå§‹é—®é¢˜ä¸ºåŒæ ·çš„äº‹ï¼Œä¸”æ›´ä¸ºç®€å•ï¼› ä¸èƒ½æ— é™åˆ¶åœ°è°ƒç”¨æœ¬èº«ï¼Œé¡»æœ‰ä¸ªå‡ºå£ï¼ŒåŒ–ç®€ä¸ºéé€’å½’çŠ¶å†µå¤„ç†ã€‚ 112. è·¯å¾„æ€»å’Œé¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªç›®æ ‡å’Œï¼Œåˆ¤æ–­è¯¥æ ‘ä¸­æ˜¯å¦å­˜åœ¨æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œè¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºç›®æ ‡å’Œã€‚ è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ ç¤ºä¾‹:ç»™å®šå¦‚ä¸‹äºŒå‰æ ‘ï¼Œä»¥åŠç›®æ ‡å’Œ sum = 22ï¼Œ 5 / \\ 4 8 / / \\ 11 13 4 / \\ \\ 7 2 1è¿”å› true, å› ä¸ºå­˜åœ¨ç›®æ ‡å’Œä¸º 22 çš„æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ 5-&gt;4-&gt;11-&gt;2ã€‚ è§£é¢˜æ€è·¯ï¼šé€’å½’éå†æ•´æ£µæ ‘ï¼šå¦‚æœå½“å‰èŠ‚ç‚¹ä¸æ˜¯å¶å­ï¼Œå¯¹å®ƒçš„æ‰€æœ‰å­©å­èŠ‚ç‚¹ï¼Œé€’å½’è°ƒç”¨ hasPathSum å‡½æ•°ï¼Œå…¶ä¸­ sum å€¼å‡å»å½“å‰èŠ‚ç‚¹çš„æƒå€¼ï¼›æ—¶é—´å¤æ‚åº¦ï¼šæ¯è®¿é—®æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(N)O(N) ï¼Œå…¶ä¸­ NN æ˜¯èŠ‚ç‚¹ä¸ªæ•°ç©ºé—´å¤æ‚åº¦ï¼šæœ€åæƒ…å†µä¸‹ï¼Œæ•´æ£µæ ‘æ˜¯éå¹³è¡¡çš„ï¼Œä¾‹å¦‚æ¯ä¸ªèŠ‚ç‚¹éƒ½åªæœ‰ä¸€ä¸ªå­©å­ï¼Œé€’å½’ä¼šè°ƒç”¨ NN æ¬¡ï¼ˆæ ‘çš„é«˜åº¦ï¼‰ï¼Œå› æ­¤æ ˆçš„ç©ºé—´å¼€é”€æ˜¯ O(N)O(N)æœ€å¥½æƒ…å†µä¸‹ï¼Œæ ‘æ˜¯å®Œå…¨å¹³è¡¡çš„ï¼Œé«˜åº¦åªæœ‰ \\log(N)log(N)ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ç©ºé—´å¤æ‚åº¦åªæœ‰ O(\\log(N))O(log(N)) /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) { val = x; } * } */ class Solution { public static int res = 0; public boolean hasPathSum(TreeNode root, int sum) { if (root == null) return false; if (root.left == null &amp;&amp; root.right == null &amp;&amp; root.val == sum) return true; return hasPathSum(root.left, sum - root.val) || hasPathSum(root.right, sum - root.val); } } 111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å°æ·±åº¦ã€‚ æœ€å°æ·±åº¦æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿‘å¶å­èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°é‡ã€‚ è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ ç¤ºä¾‹: ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7], 3 / \\ 9 20 / \\ 15 7 è¿”å›å®ƒçš„æœ€å°æ·±åº¦ 2.è§£é¢˜æ€è·¯ï¼šè¿™é‡Œæ³¨æ„ å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œç„¶åå½“ root èŠ‚ç‚¹å·¦å³å­©å­æœ‰ä¸€ä¸ªä¸ºç©ºæ—¶ï¼Œè¿”å›ä¸ä¸ºç©ºçš„å­©å­èŠ‚ç‚¹çš„æ·±åº¦ï¼Œå½“ root èŠ‚ç‚¹å·¦å³å­©å­éƒ½ä¸ä¸ºç©ºæ—¶ï¼Œè¿”å›å·¦å³å­©å­è¾ƒå°æ·±åº¦çš„èŠ‚ç‚¹å€¼ã€‚ /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) { val = x; } * } */ class Solution { public int minDepth(TreeNode root) { if (root == null) return 0; int left = minDepth(root.left); int right = minDepth(root.right); if (left == 0 || right == 0) return left + right + 1; return Math.min(left,right)+1; } } 617. åˆå¹¶äºŒå‰æ ‘é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å°æ·±åº¦ã€‚ æœ€å°æ·±åº¦æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿‘å¶å­èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°é‡ã€‚ è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ ç¤ºä¾‹: ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7], 3 / \\ 9 20 / \\ 15 7 è¿”å›å®ƒçš„æœ€å°æ·±åº¦ 2. ##### è§£é¢˜æ€è·¯ï¼š ç»™å®šä¸¤ä¸ªäºŒå‰æ ‘ï¼Œæƒ³è±¡å½“ä½ å°†å®ƒä»¬ä¸­çš„ä¸€ä¸ªè¦†ç›–åˆ°å¦ä¸€ä¸ªä¸Šæ—¶ï¼Œä¸¤ä¸ªäºŒå‰æ ‘çš„ä¸€äº›èŠ‚ç‚¹ä¾¿ä¼šé‡å ã€‚ ä½ éœ€è¦å°†ä»–ä»¬åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„äºŒå‰æ ‘ã€‚åˆå¹¶çš„è§„åˆ™æ˜¯å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹é‡å ï¼Œé‚£ä¹ˆå°†ä»–ä»¬çš„å€¼ç›¸åŠ ä½œä¸ºèŠ‚ç‚¹åˆå¹¶åçš„æ–°å€¼ï¼Œå¦åˆ™ä¸ä¸º NULL çš„èŠ‚ç‚¹å°†ç›´æ¥ä½œä¸ºæ–°äºŒå‰æ ‘çš„èŠ‚ç‚¹ã€‚è§£é¢˜æ€è·¯ï¼šé¦–å…ˆå…ˆåˆ¤æ–­t1æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºè¿”å›t2ï¼›å¦‚æœt2ä¸ºç©ºåˆ™è¿”å›t1 å½“å‰é¢çš„ifè¯­å¥éƒ½æ²¡è¿è¡Œé‚£ä¹ˆè¯æ˜ä¸¤æ–¹éƒ½ä¸ä¸ºç©ºã€‚é‚£ä¹ˆå…ˆå°†ä¸¤èŠ‚ç‚¹çš„å€¼ç›¸åŠ ï¼Œç„¶åå†é€’å½’å·¦èŠ‚ç‚¹ï¼Œé€’å½’å³èŠ‚ç‚¹ã€‚éœ€è¦æ³¨æ„çš„å°±æ˜¯éœ€è¦åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹rootã€‚ /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) { val = x; } * } */ class Solution { public TreeNode mergeTrees(TreeNode t1, TreeNode t2) { if (t1 == null &amp;&amp; t2 == null) return null; if (t1 == null) return t2; if (t2 == null) return t1; TreeNode root = new TreeNode(t1.val + t2.val); root.left = mergeTrees(t1.left, t2.left); root.right = mergeTrees(t1.right, t2.right); return root; } } 437. è·¯å¾„æ€»å’Œ IIIé¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œå®ƒçš„æ¯ä¸ªç»“ç‚¹éƒ½å­˜æ”¾ç€ä¸€ä¸ªæ•´æ•°å€¼ã€‚ æ‰¾å‡ºè·¯å¾„å’Œç­‰äºç»™å®šæ•°å€¼çš„è·¯å¾„æ€»æ•°ã€‚ è·¯å¾„ä¸éœ€è¦ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¶å­èŠ‚ç‚¹ç»“æŸï¼Œä½†æ˜¯è·¯å¾„æ–¹å‘å¿…é¡»æ˜¯å‘ä¸‹çš„ï¼ˆåªèƒ½ä»çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ï¼‰ã€‚ äºŒå‰æ ‘ä¸è¶…è¿‡1000ä¸ªèŠ‚ç‚¹ï¼Œä¸”èŠ‚ç‚¹æ•°å€¼èŒƒå›´æ˜¯ [-1000000,1000000] çš„æ•´æ•°ã€‚ ç¤ºä¾‹ï¼š root = [10,5,-3,3,2,null,11,3,-2,null,1], sum = 8 10 / \\ 5 -3 / \\ \\ 3 2 11 / \\ \\ 3 -2 1 è¿”å› 3ã€‚å’Œç­‰äº 8 çš„è·¯å¾„æœ‰: 1. 5 -&gt; 3 2. 5 -&gt; 2 -&gt; 1 3. -3 -&gt; 11è§£é¢˜æ€è·¯ï¼šé€’å½’æ±‚è§£æ ‘çš„é—®é¢˜å¿…ç„¶æ˜¯è¦éå†æ•´æ£µæ ‘çš„ï¼Œæ‰€ä»¥äºŒå‰æ ‘çš„éå†æ¡†æ¶å¿…ç„¶è¦å‡ºç°åœ¨ä¸»å‡½æ•° pathSum ä¸­ã€‚è¿™é“é¢˜ä¸­ å…¶ä¸­count(root,sum) ä¸ºè‡ªå·±ä¸ºå¼€å¤´çš„è·¯å¾„æ•°pathSum(root.left,sum) å·¦è¾¹è·¯å¾„æ€»æ•°pathSum(root.right,sum) å³è¾¹è·¯å¾„æ€»æ•° /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) { val = x; } * } */ class Solution { public int pathSum(TreeNode root, int sum) { if (root == null) return 0; return count(root,sum) + pathSum(root.left,sum) + pathSum(root.right,sum); } private int count(TreeNode root,int sum) { if (root == null) return 0; int res = 0; if (root.val == sum) res++; res += count(root.left,sum - root.val) + count(root.right,sum - root.val); return res; } } 572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘é¢˜ç›®æè¿°ï¼šç»™å®šä¸¤ä¸ªéç©ºäºŒå‰æ ‘ s å’Œ tï¼Œæ£€éªŒ s ä¸­æ˜¯å¦åŒ…å«å’Œ t å…·æœ‰ç›¸åŒç»“æ„å’ŒèŠ‚ç‚¹å€¼çš„å­æ ‘ã€‚s çš„ä¸€ä¸ªå­æ ‘åŒ…æ‹¬ s çš„ä¸€ä¸ªèŠ‚ç‚¹å’Œè¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­å­™ã€‚s ä¹Ÿå¯ä»¥çœ‹åšå®ƒè‡ªèº«çš„ä¸€æ£µå­æ ‘ã€‚ ç¤ºä¾‹ 1: ç»™å®šçš„æ ‘ s: 3 / \\ 4 5 / \\ 1 2 ç»™å®šçš„æ ‘ tï¼š 4 / \\ 1 2 è¿”å› trueï¼Œå› ä¸º t ä¸ s çš„ä¸€ä¸ªå­æ ‘æ‹¥æœ‰ç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚è§£é¢˜æ€è·¯ï¼šè·ŸLeetCode 437 é¢˜æœ‰ç‚¹ç±»ä¼¼ï¼ŒåŒæ ·å†™ä¸€ä¸ªé€’å½’æ–¹æ³• isRoot ï¼Œè¯¥æ–¹æ³•ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹å€¼æ˜¯å¦ç›¸ç­‰(åŒ…æ‹¬å®ƒä»¬çš„å·¦å³å­æ ‘)ï¼Œç„¶ååœ¨ isSubtree ä¸­ é€’å½’è°ƒç”¨å·¦å³å­æ ‘åˆ¤æ–­å³å¯ã€‚ /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) { val = x; } * } */ class Solution { public boolean isSubtree(TreeNode s, TreeNode t) { if (s == null) return false; return isRoot(s,t) || isSubtree(s.left,t) || isSubtree(s.right,t); } private boolean isRoot(TreeNode t1, TreeNode t2) { if (t1 == null &amp;&amp; t2 == null) return true; if (t1 == null || t2 == null) return false; if (t1.val != t2.val) return false; return isRoot(t1.left,t2.left) &amp;&amp; isRoot(t1.right,t2.right); } } 101. å¯¹ç§°äºŒå‰æ ‘é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æ˜¯é•œåƒå¯¹ç§°çš„ã€‚ ä¾‹å¦‚ï¼ŒäºŒå‰æ ‘ [1,2,2,3,4,4,3] æ˜¯å¯¹ç§°çš„ã€‚ 1 / \\ 2 2 / \\ / \\ 3 4 4 3 ä½†æ˜¯ä¸‹é¢è¿™ä¸ª [1,2,2,null,3,null,3] åˆ™ä¸æ˜¯é•œåƒå¯¹ç§°çš„: 1 / \\ 2 2 \\ \\ 3 3è§£é¢˜æ€è·¯ï¼šå…¶å®è·Ÿä¸Šé¢é¢˜å·®ä¸å¤šï¼Œå°±æ˜¯é€’å½’åˆ¤æ–­å·¦å³å­æ ‘æ˜¯å¦ç›¸ç­‰ï¼ŒsubSymmetric æ–¹æ³•ï¼Œå°±æ˜¯åˆ¤æ–­å­æ ‘ä¸­çš„å€¼æ˜¯å¦ç›¸åŒï¼Œæœ¬é¢˜ä¹Ÿå¯ä»¥ç”¨æ ˆè¿­ä»£çš„æ–¹æ³•æ¥è§£é¢˜ã€‚ /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) { val = x; } * } */ class Solution { public boolean isSymmetric(TreeNode root) { if (root == null) return true; return subSymmetric(root.left,root.right); } private boolean subSymmetric(TreeNode t1,TreeNode t2) { if (t1 == null &amp;&amp; t2 == null) return true; if (t1 == null || t2 == null) return false; if (t1.val != t2.val) return false; return subSymmetric(t1.left,t2.right) &amp;&amp; subSymmetric(t1.right,t2.left); } } 404. å·¦å¶å­ä¹‹å’Œé¢˜ç›®æè¿°ï¼šè®¡ç®—ç»™å®šäºŒå‰æ ‘çš„æ‰€æœ‰å·¦å¶å­ä¹‹å’Œã€‚ ç¤ºä¾‹ï¼š 3 / \\ 9 20 / \\ 15 7 åœ¨è¿™ä¸ªäºŒå‰æ ‘ä¸­ï¼Œæœ‰ä¸¤ä¸ªå·¦å¶å­ï¼Œåˆ†åˆ«æ˜¯ 9 å’Œ 15ï¼Œæ‰€ä»¥è¿”å› 24è§£é¢˜æ€è·¯ï¼šé¦–å…ˆå†™ä¸€ä¸ªåˆ¤æ–­æ˜¯ä¸æ˜¯å¶å­ç»“ç‚¹çš„æ–¹æ³•ï¼Œç„¶ååœ¨ä¸»æ–¹æ³•é€’å½’è°ƒç”¨æ ¹èŠ‚ç‚¹çš„å·¦å³èŠ‚ç‚¹ ç„¶åç´¯åŠ sumã€‚ /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) { val = x; } * } */ class Solution { private int sum = 0; public int sumOfLeftLeaves(TreeNode root) { if (root == null) return 0; if (isLeaf(root.left)) sum += root.left.val; sumOfLeftLeaves(root.left); sumOfLeftLeaves(root.right); return sum; } private boolean isLeaf(TreeNode t) { if (t == null) return false; if (t.left == null &amp;&amp; t.right == null) return true; return false; } }","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/LeetCode/"}],"tags":[{"name":"é€’å½’","slug":"é€’å½’","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/é€’å½’/"}]},{"title":"Linuxå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰","slug":"Linux å­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰","date":"2019-07-06T10:25:08.000Z","updated":"2019-09-30T14:22:18.000Z","comments":true,"path":"2019/07/06/linux-xue-xi-bi-ji-er/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/07/06/linux-xue-xi-bi-ji-er/","excerpt":"","text":"ä»Šå¤©çº¿ä¸Šç”Ÿäº§ç¯å¢ƒå‡ºäº†é—®é¢˜ï¼Œäºæ˜¯é€šè¿‡ç”¨Linuxå‘½ä»¤æŸ¥çœ‹æ—¥å¿—å¾—æ–¹æ³•æ¥è§£å†³é—®é¢˜ï¼Œæœ€ç»ˆæ‰¾åˆ°æ ¹æºï¼Œè¿™é‡ŒæŸ¥çœ‹æ—¥å¿—ç­‰å‘½ä»¤è¿˜æ˜¯æ¯”è¾ƒç®€å•ï¼Œç¨å¾®æ·±å…¥å­¦ä¹ ä¸‹ Linuxã€‚æ¥ä¸Šä¸€ç¯‡ã€‚ã€‚ CPUtopï¼šæŸ¥çœ‹æ¯ä¸ªè¿›ç¨‹çš„æƒ…å†µ åœ¨topæ¨¡å¼ä¸‹ï¼Œè¾“å…¥1ï¼šæŸ¥çœ‹æ¯ä¸ªCPUçš„æ€§èƒ½æ•°æ®ï¼Œæ³¨æ„è§‚å¯Ÿæ˜¯å¦æœ‰CPU100%å ç”¨ç‡ CPUå‚æ•°å«ä¹‰ï¼š 1ï¼‰usè¿‡é«˜è¡¨ç¤ºJavaåº”ç”¨ç¨‹åºæ¶ˆè€—äº†å¤§é‡CPUï¼Œéœ€è¦å®šä½æ˜¯å“ªä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶åˆ†æçº¿ç¨‹å †æ ˆã€‚ åœ¨topæ¨¡å¼ä¸‹ï¼Œè¾“å…¥Hï¼šæŸ¥çœ‹æ¯ä¸ªçº¿ç¨‹çš„æ€§èƒ½ä¿¡æ¯å¦‚æœæŸä¸ªçº¿ç¨‹CPUåˆ©ç”¨ç‡ä¸€ç›´100%ï¼Œåˆ™è¯´æ˜è¿™ä¸ªçº¿ç¨‹å¯èƒ½æœ‰æ­»å¾ªç¯ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯GCçš„é—®é¢˜ã€‚jstatå‘½ä»¤å¯ä»¥æŸ¥çœ‹GCæƒ…å†µï¼Œæ˜¯ä¸æ˜¯äº§ç”Ÿäº†FullGCã€‚ 2ï¼‰syè¿‡é«˜è¡¨ç¤ºèŠ±è´¹äº†æ›´å¤šæ—¶é—´è¿›è¡Œçº¿ç¨‹åˆ‡æ¢ã€‚åŒæ ·éœ€è¦æŸ¥çœ‹Javaçº¿ç¨‹çš„çŠ¶æ€ã€‚ æ–‡ä»¶IO ç£ç›˜lsæ˜¾ç¤ºæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶è¯¦æƒ…ï¼ŒåŒ…æ‹¬å¤§å°ls â€“allaè¡¨ç¤ºallï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ statï¼ˆæŸ¥çœ‹æ–‡ä»¶è¯¦æƒ…ï¼‰stat filepath æ–‡æœ¬æ“ä½œå‘½ä»¤cat ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºå†…å®¹ï¼Œå¹¶å°†æ‰€æœ‰å†…å®¹è¾“å‡ºtac ä»æœ€åä¸€è¡Œå€’åºæ˜¾ç¤ºå†…å®¹ï¼Œå¹¶å°†æ‰€æœ‰å†…å®¹è¾“å‡ºmore æ ¹æ®çª—å£å¤§å°ï¼Œä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºæ–‡ä»¶å†…å®¹less å’Œmoreç±»ä¼¼ï¼Œä½†å…¶ä¼˜ç‚¹å¯ä»¥å¾€å‰ç¿»é¡µï¼Œè€Œä¸”è¿›è¡Œå¯ä»¥æœç´¢å­—ç¬¦head åªæ˜¾ç¤ºå¤´å‡ è¡Œtail åªæ˜¾ç¤ºæœ€åå‡ è¡Œsortã€uniqsort è¿›è¡Œæ’åºã€‚ $ sort [-fbMnrtuk] [file or stdin]-f ï¼šå¿½ç•¥å¤§å°å†™-b ï¼šå¿½ç•¥æœ€å‰é¢çš„ç©ºæ ¼-M ï¼šä»¥æœˆä»½çš„åå­—æ¥æ’åºï¼Œä¾‹å¦‚ JAN, DEC-n ï¼šä½¿ç”¨æ•°å­—-r ï¼šåå‘æ’åº-u ï¼šç›¸å½“äº unique ï¼Œé‡å¤å†…å®¹åªå‡ºç°ä¸€æ¬¡-t ï¼šåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºtab-k ï¼šæŒ‡å®šæ’åºçš„åŒºé—´èŒƒä¾‹ï¼š/etc/passwd å†…å®¹æ˜¯ä»¥ : æ¥åˆ†éš”çš„ï¼Œä»¥ç¬¬ä¸‰æ æ¥æ’åºã€‚ $ cat /etc/passwd | sort -t &#39;:&#39; -k 3 root:x:0:0:root:/root:/bin/bash dmtsai:x:1000:1000:dmtsai:/home/dmtsai:/bin/bash alex:x:1001:1002::/home/alex:/bin/bash arod:x:1002:1003::/home/arod:/bin/bash uniq å¯ä»¥å°†é‡å¤çš„æ•°æ®åªå–ä¸€ä¸ªã€‚$ uniq [-ic]-i ï¼šå¿½ç•¥å¤§å°å†™-c ï¼šè¿›è¡Œè®¡æ•° ä½¿ç”¨catå‘½ä»¤å¯ä»¥æ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶å†…å®¹,æˆ– æŠŠå‡ ä¸ªæ–‡ä»¶å†…å®¹é™„åŠ åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ä½¿ç”¨moreå‘½ä»¤å¯ä»¥åˆ†é¡µæ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹ã€‚ä½¿ç”¨lesså‘½ä»¤å¯ä»¥å›å·æ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹ã€‚ä½¿ç”¨headå‘½ä»¤å¯ä»¥æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„å‰è‹¥å¹²è¡Œæ–‡ä»¶å†…å®¹ã€‚ä½¿ç”¨tailå‘½ä»¤å¯ä»¥æŸ¥çœ‹æ–‡ä»¶çš„æœ«å°¾æ•°æ®ã€‚ vimviç¼–è¾‘å™¨æœ‰3ç§åŸºæœ¬å·¥ä½œæ¨¡å¼,åˆ†åˆ«æ˜¯å‘½ä»¤è¡Œæ¨¡å¼ã€æ’å…¥æ¨¡å¼å’Œæœ«è¡Œæ¨¡å¼ã€‚å‘½ä»¤è¡Œæ¨¡å¼æ§åˆ¶å±å¹•å…‰æ ‡çš„ç§»åŠ¨,å­—ç¬¦ã€å­—æˆ–è¡Œçš„åˆ é™¤,ç§»åŠ¨ã€å¤åˆ¶æŸåŒºåŸŸåŠè¿›å…¥æ’å…¥æ¨¡å¼,æˆ–è€…åˆ°æœ«è¡Œæ¨¡å¼ã€‚åªæœ‰åœ¨æ’å…¥æ¨¡å¼ä¸‹,æ‰å¯ä»¥åšæ–‡å­—è¾“å…¥,æŒ‰â€œEscâ€é”®å¯å›åˆ°å‘½ä»¤è¡Œæ¨¡å¼ã€‚æœ«è¡Œæ¨¡å¼å°†æ–‡ä»¶ä¿å­˜æˆ–é€€å‡ºviç¼–è¾‘å™¨,ä¹Ÿå¯ä»¥è®¾ç½®ç¼–è¾‘ç¯å¢ƒ,å¦‚å¯»æ‰¾å­—ç¬¦ä¸²ã€åˆ—å‡ºè¡Œå·ç­‰ã€‚ åœ¨æŒ‡ä»¤åˆ—æ¨¡å¼ä¸‹ï¼Œæœ‰ä»¥ä¸‹å‘½ä»¤ç”¨äºç¦»å¼€æˆ–è€…å­˜å‚¨æ–‡ä»¶ã€‚ å‘½ä»¤ ä½œç”¨:w å†™å…¥ç£ç›˜:w! å½“æ–‡ä»¶ä¸ºåªè¯»æ—¶ï¼Œå¼ºåˆ¶å†™å…¥ç£ç›˜ã€‚åˆ°åº•èƒ½ä¸èƒ½å†™å…¥ï¼Œä¸ç”¨æˆ·å¯¹è¯¥æ–‡ä»¶çš„æƒé™æœ‰å…³:q ç¦»å¼€:q! å¼ºåˆ¶ç¦»å¼€ä¸ä¿å­˜:wq å†™å…¥ç£ç›˜åç¦»å¼€:wq! å¼ºåˆ¶å†™å…¥ç£ç›˜åç¦»å¼€ å®æ—¶æŸ¥çœ‹æ—¥å¿—å‘½ä»¤è¿™ä¸ªç®—æ˜¯æœ€è¿‘ç”¨çš„æ¯”è¾ƒå¤šå¾—ä¸€æ¡å‘½ä»¤äº†ã€‚ã€‚ã€‚tail -f path-f å¾ªç¯è¯»å– ç³»ç»Ÿæ—¥å¿—/var/log/message ç³»ç»Ÿå¯åŠ¨åçš„ä¿¡æ¯å’Œé”™è¯¯æ—¥å¿—ï¼Œæ˜¯Red Hat Linuxä¸­æœ€å¸¸ç”¨çš„æ—¥å¿—ä¹‹ä¸€/var/log/secure ä¸å®‰å…¨ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯/var/log/maillog ä¸é‚®ä»¶ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯/var/log/cron ä¸å®šæ—¶ä»»åŠ¡ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯/var/log/spooler ä¸UUCPå’Œnewsè®¾å¤‡ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯/var/log/boot.log å®ˆæŠ¤è¿›ç¨‹å¯åŠ¨å’Œåœæ­¢ç›¸å…³çš„æ—¥å¿—æ¶ˆæ¯/var/log/wtmp è¯¥æ—¥å¿—æ–‡ä»¶æ°¸ä¹…è®°å½•æ¯ä¸ªç”¨æˆ·ç™»å½•ã€æ³¨é”€åŠç³»ç»Ÿçš„å¯åŠ¨ã€åœæœºçš„äº‹ä»¶ findæŸ¥æ‰¾ç£ç›˜ä¸Šæœ€å¤§çš„æ–‡ä»¶çš„å‘½ä»¤find / -type f -size +10Gåˆ—å‡ºå½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ åœ¨/homeç›®å½•ä¸‹æŸ¥æ‰¾ä»¥.txtç»“å°¾çš„æ–‡ä»¶å find /home -name â€œ*.txtâ€ åŒä¸Šï¼Œä½†å¿½ç•¥å¤§å°å†™ find /home -iname â€œ*.txtâ€ æ ¹æ®æ–‡ä»¶ç±»å‹è¿›è¡Œæœç´¢find . -type ç±»å‹å‚æ•°:ç±»å‹å‚æ•°åˆ—è¡¨ï¼šf æ™®é€šæ–‡ä»¶l ç¬¦å·è¿æ¥d ç›®å½•c å­—ç¬¦è®¾å¤‡b å—è®¾å¤‡s å¥—æ¥å­—p Fifo åŸºäºç›®å½•æ·±åº¦æœç´¢:å‘ä¸‹æœ€å¤§æ·±åº¦é™åˆ¶ä¸º3 find . -maxdepth 3 -type fæœç´¢å‡ºæ·±åº¦è·ç¦»å½“å‰ç›®å½•è‡³å°‘2ä¸ªå­ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶ find . -mindepth 2 -type fæ ¹æ®æ–‡ä»¶æ—¶é—´æˆ³è¿›è¡Œæœç´¢ find . -type f æ—¶é—´æˆ³ UNIX/Linuxæ–‡ä»¶ç³»ç»Ÿæ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸‰ç§æ—¶é—´æˆ³ï¼š è®¿é—®æ—¶é—´ï¼ˆ-atime/å¤©ï¼Œ-amin/åˆ†é’Ÿï¼‰ï¼šç”¨æˆ·æœ€è¿‘ä¸€æ¬¡è®¿é—®æ—¶é—´ã€‚ä¿®æ”¹æ—¶é—´ï¼ˆ-mtime/å¤©ï¼Œ-mmin/åˆ†é’Ÿï¼‰ï¼šæ–‡ä»¶æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´ã€‚å˜åŒ–æ—¶é—´ï¼ˆ-ctime/å¤©ï¼Œ-cmin/åˆ†é’Ÿï¼‰ï¼šæ–‡ä»¶æ•°æ®å…ƒï¼ˆä¾‹å¦‚æƒé™ç­‰ï¼‰æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´ã€‚æœç´¢æœ€è¿‘ä¸ƒå¤©å†…è¢«è®¿é—®è¿‡çš„æ‰€æœ‰æ–‡ä»¶ find . -type f -atime -7 æœç´¢æ°å¥½åœ¨ä¸ƒå¤©å‰è¢«è®¿é—®è¿‡çš„æ‰€æœ‰æ–‡ä»¶ find . -type f -atime 7 æœç´¢è¶…è¿‡ä¸ƒå¤©å†…è¢«è®¿é—®è¿‡çš„æ‰€æœ‰æ–‡ä»¶ find . -type f -atime +7 æœç´¢è®¿é—®æ—¶é—´è¶…è¿‡10åˆ†é’Ÿçš„æ‰€æœ‰æ–‡ä»¶ find . -type f -amin +10 æ‰¾å‡ºæ¯”file.logä¿®æ”¹æ—¶é—´æ›´é•¿çš„æ‰€æœ‰æ–‡ä»¶ find . -type f -newer file.log æ ¹æ®æ–‡ä»¶å¤§å°è¿›è¡ŒåŒ¹é…find . -type f -size æ–‡ä»¶å¤§å°å•å…ƒ æ–‡ä»¶å¤§å°å•å…ƒï¼š b â€”â€” å—ï¼ˆ512å­—èŠ‚ï¼‰c â€”â€” å­—èŠ‚w â€”â€” å­—ï¼ˆ2å­—èŠ‚ï¼‰k â€”â€” åƒå­—èŠ‚M â€”â€” å…†å­—èŠ‚G â€”â€” å‰å­—èŠ‚æœç´¢å¤§äº10KBçš„æ–‡ä»¶find . -type f -size +10kæœç´¢å°äº10KBçš„æ–‡ä»¶find . -type f -size -10kæœç´¢ç­‰äº10KBçš„æ–‡ä»¶find . -type f -size 10k åˆ é™¤åŒ¹é…æ–‡ä»¶åˆ é™¤å½“å‰ç›®å½•ä¸‹æ‰€æœ‰.txtæ–‡ä»¶ find . -type f -name â€œ.txtâ€ -deleteæ ¹æ®æ–‡ä»¶æƒé™/æ‰€æœ‰æƒè¿›è¡ŒåŒ¹é…å½“å‰ç›®å½•ä¸‹æœç´¢å‡ºæƒé™ä¸º777çš„æ–‡ä»¶ find . -type f -perm 777æ‰¾å‡ºå½“å‰ç›®å½•ä¸‹æƒé™ä¸æ˜¯644çš„phpæ–‡ä»¶ find . -type f -name â€œ.phpâ€ ! -perm 644æ‰¾å‡ºå½“å‰ç›®å½•ç”¨æˆ·tomæ‹¥æœ‰çš„æ‰€æœ‰æ–‡ä»¶ find . -type f -user tom å°†å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥â€œ.txtâ€ç»“å°¾çš„æ–‡ä»¶æ‰“å°å‡ºæ¥ï¼Œå†è¿½é—®ï¼Œé™¤äº†â€œ.txtâ€å†åŠ ä¸Šâ€œ.abcâ€ç»“å°¾çš„ä¹Ÿæ‰“å°å‡ºæ¥ã€‚find . -name â€œ*.txtâ€ grepåœ¨æ–‡ä»¶å†…æŸ¥æ‰¾å­—ç¬¦ä¸²grep â€œå­—ç¬¦ä¸²â€ filenameæ–‡ä»¶æƒé™rï¼šå¯è¯»(4)wï¼šå¯å†™(2)ï¼Œå¯¹äºç›®å½•æ¥è¯´è¡¨ç¤ºå¯åœ¨ç›®å½•ä¸­æ–°å»ºæ–‡ä»¶xï¼šå¯æ‰§è¡Œ(1)ï¼Œå¯¹äºç›®å½•æ¥è¯´ä¸ºå¯è¿›å…¥åˆ°è¯¥ç›®å½•ä¸­-ï¼šè¡¨ç¤ºæ— å¯¹åº”ä½ä¸Šçš„æƒé™4ä»£è¡¨è¯»æƒé™ï¼Œ2ä»£è¡¨å†™æƒé™ï¼Œ1ä»£è¡¨æ‰§è¡Œæƒé™ 7=4+2+1,è¡¨ç¤ºæ‹¥æœ‰å¯è¯»å¯å†™å¯æ‰§è¡Œæƒé™5=4+1,è¡¨ç¤ºæ‹¥æœ‰å¯è¯»å¯æ‰§è¡Œæƒé™ï¼Œä½†æ˜¯æ²¡æœ‰å†™æƒé™4 ä»£è¡¨æ‹¥æœ‰å¯è¯»æƒé™0 ä»£è¡¨æ²¡æœ‰ä»»ä½•æƒé™ chmod ä¿®æ”¹æ–‡ä»¶å±æ€§chmod 777 /home/berrychmod u+x /home/berry u è¡¨ç¤ºâ€œç”¨æˆ·ï¼ˆuserï¼‰â€ï¼Œå³æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€…ã€‚g è¡¨ç¤ºâ€œåŒç»„ï¼ˆgroupï¼‰ç”¨æˆ·â€ï¼Œå³ä¸æ–‡ä»¶å±ä¸»æœ‰ç›¸åŒç»„IDçš„æ‰€æœ‰ç”¨æˆ·ã€‚o è¡¨ç¤ºâ€œå…¶ä»–ï¼ˆothersï¼‰ç”¨æˆ·â€ã€‚a è¡¨ç¤ºâ€œæ‰€æœ‰ï¼ˆallï¼‰ç”¨æˆ·â€ã€‚å®ƒæ˜¯ç³»ç»Ÿé»˜è®¤å€¼ã€‚ chown ä¿®æ”¹æ–‡ä»¶çš„å±ä¸»ä¸å±ç»„chown guest:guest a.txtchown -R guest /home/berry (æŠŠberryæ–‡ä»¶ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ”¹æˆguestè¿™ä¸ªç»„ï¼‰chgrp ä¿®æ”¹æ–‡ä»¶çš„æ‰€å±çš„ç”¨æˆ·ç»„chgrp -R guest /var/tmp/f.txtchgrp - R root /home/berry/file/a.txtiostatï¼ˆæŸ¥çœ‹å„ä¸ªè®¾å¤‡çš„IOçŠ¶æ€ï¼ŒæŸ¥çœ‹ç£ç›˜è¯»å†™æ€§èƒ½ï¼‰ç›´æ¥è¾“å…¥iostatï¼štpsæ˜¯æ¯ç§’çš„IOè¯·æ±‚æ•°ï¼Œè¿™æ˜¯IOæ¶ˆè€—æƒ…å†µå€¼å¾—å…³æ³¨çš„æ•°å­—ã€‚Blk_read/sæ˜¯æŒ‡æ¯ç§’è¯»å–çš„å—æ•°é‡ï¼Œé€šè¿‡å—çš„å¤§å°æ˜¯512å­—èŠ‚Blk_readæ˜¯æŒ‡æ€»å…±è¯»å–çš„å—æ•°é‡ è¿›ç¨‹ps â€“ef/-auxps aux å’Œps -efä¸¤è€…çš„è¾“å‡ºç»“æœå·®åˆ«ä¸å¤§ï¼Œä½†å±•ç¤ºé£æ ¼ä¸åŒã€‚auxæ˜¯BSDé£æ ¼ï¼Œ-efæ˜¯System Vé£æ ¼ã€‚è¿™æ˜¯æ¬¡è¦çš„åŒºåˆ«ï¼Œä¸€ä¸ªå½±å“ä½¿ç”¨çš„åŒºåˆ«æ˜¯auxä¼šæˆªæ–­commandåˆ—ï¼Œè€Œ-efä¸ä¼šã€‚å½“ç»“åˆgrepæ—¶è¿™ç§åŒºåˆ«ä¼šå½±å“åˆ°ç»“æœã€‚ ps -ef æ˜¾ç¤ºå‡ºçš„ç»“æœï¼š 1.UID ç”¨æˆ·ID 2.PID è¿›ç¨‹ID 3.PPID çˆ¶è¿›ç¨‹ID 4.C CPUå ç”¨ç‡ 5.STIME å¼€å§‹æ—¶é—´ 6.TTY å¼€å§‹æ­¤è¿›ç¨‹çš„TTYâ€”-ç»ˆç«¯è®¾å¤‡ 7.TIME æ­¤è¿›ç¨‹è¿è¡Œçš„æ€»æ—¶é—´ 8.CMD å‘½ä»¤ålsof è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ã€ç«¯å£lsof ï¼»optionsï¼½ filename-aï¼šåˆ—å‡ºæ‰“å¼€æ–‡ä»¶å­˜åœ¨çš„è¿›ç¨‹ï¼›-c&lt;è¿›ç¨‹å&gt;ï¼šåˆ—å‡ºæŒ‡å®šè¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶ï¼›-gï¼šåˆ—å‡ºGIDå·è¿›ç¨‹è¯¦æƒ…ï¼›-d&lt;æ–‡ä»¶å·&gt;ï¼šåˆ—å‡ºå ç”¨è¯¥æ–‡ä»¶å·çš„è¿›ç¨‹ï¼›+d&lt;ç›®å½•&gt;ï¼šåˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶ï¼›+D&lt;ç›®å½•&gt;ï¼šé€’å½’åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶ï¼›-n&lt;ç›®å½•&gt;ï¼šåˆ—å‡ºä½¿ç”¨NFSçš„æ–‡ä»¶ï¼›-i&lt;æ¡ä»¶&gt;ï¼šåˆ—å‡ºç¬¦åˆæ¡ä»¶çš„è¿›ç¨‹ã€‚ï¼ˆ4ã€6ã€åè®®ã€:ç«¯å£ã€ @ip ï¼‰-p&lt;è¿›ç¨‹å·&gt;ï¼šåˆ—å‡ºæŒ‡å®šè¿›ç¨‹å·æ‰€æ‰“å¼€çš„æ–‡ä»¶ï¼›-uï¼šåˆ—å‡ºUIDå·è¿›ç¨‹è¯¦æƒ…ï¼›-hï¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ï¼›-vï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ cwdï¼šè¡¨ç¤ºcurrent work dirctoryï¼Œå³ï¼šåº”ç”¨ç¨‹åºçš„å½“å‰å·¥ä½œç›®å½•ï¼Œè¿™æ˜¯è¯¥åº”ç”¨ç¨‹åºå¯åŠ¨çš„ç›®å½•ï¼Œé™¤éå®ƒæœ¬èº«å¯¹è¿™ä¸ªç›®å½•è¿›è¡Œæ›´æ”¹txtï¼šè¯¥ç±»å‹çš„æ–‡ä»¶æ˜¯ç¨‹åºä»£ç ï¼Œå¦‚åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶æœ¬èº«æˆ–å…±äº«åº“ï¼Œå¦‚ä¸Šåˆ—è¡¨ä¸­æ˜¾ç¤ºçš„ /sbin/init ç¨‹åºlnnï¼šlibrary references (AIX);erï¼šFD information error (see NAME column);jldï¼šjail directory (FreeBSD);ltxï¼šshared library text (code and data);mxx ï¼šhex memory-mapped type number xx.m86ï¼šDOS Merge mapped file;memï¼šmemory-mapped file;mmapï¼šmemory-mapped device;pdï¼šparent directory;rtdï¼šroot directory;trï¼škernel trace file (OpenBSD);v86 VP/ix mapped file;0ï¼šè¡¨ç¤ºæ ‡å‡†è¾“å‡º1ï¼šè¡¨ç¤ºæ ‡å‡†è¾“å…¥2ï¼šè¡¨ç¤ºæ ‡å‡†é”™è¯¯ killæ€æ­»è¿›ç¨‹ è´Ÿè½½ Load Averageç³»ç»Ÿçš„loadè¢«å®šä¹‰ä¸ºç‰¹å®šæ—¶é—´é—´éš”å†…è¿è¡Œé˜Ÿåˆ—çš„å¹³å‡çº¿ç¨‹æ•°ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œè¯¥çº¿ç¨‹å°±ä¼šå¤„äºè¿è¡Œé˜Ÿåˆ—ä¸­ï¼š æ²¡æœ‰å¤„äºI/Oç­‰å¾…çŠ¶æ€ã€‚ æ²¡æœ‰ä¸»åŠ¨è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰è°ƒç”¨waitæ“ä½œï¼› æ²¡æœ‰è¢«ç»ˆæ­¢ã€‚ æ¯ä¸ªCPUçš„æ ¸éƒ½ç»´æŠ¤äº†ä¸€ä¸ªè¿è¡Œé˜Ÿåˆ—ï¼Œç³»ç»Ÿçš„loadä¸»è¦ç”±è¿è¡Œé˜Ÿåˆ—æ¥å†³å®šã€‚loadçš„å€¼è¶Šå¤§ï¼Œä¹Ÿå°±æ„å‘³ç€ç³»ç»Ÿçš„CPUè¶Šç¹å¿™ï¼Œè¿™æ ·çº¿ç¨‹è¿è¡Œå®Œä»¥åç­‰å¾…æ“ä½œç³»ç»Ÿåˆ†é…ä¸‹ä¸€ä¸ªæ—¶é—´ç‰‡æ®µçš„æ—¶é—´ä¹Ÿå°±è¶Šé•¿ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåªè¦æ¯ä¸ªCPUå½“å‰çš„æ´»åŠ¨çº¿ç¨‹æ•°ä¸å¤§äº3ï¼Œæˆ‘ä»¬è®¤ä¸ºå®ƒçš„è´Ÿè½½æ˜¯æ­£å¸¸çš„ï¼Œå¦‚æœæ¯ä¸ªCPUçš„çº¿ç¨‹æ•°å¤§äº5ï¼Œåˆ™è¡¨ç¤ºå½“å‰ç³»ç»Ÿçš„è´Ÿè½½å·²ç»éå¸¸é«˜äº†ï¼Œéœ€è¦é‡‡å–æªæ–½æ¥å‡ä½ç³»ç»Ÿçš„è´Ÿè½½ï¼Œä»¥æé«˜å“åº”é€Ÿåº¦ã€‚ ä½¿ç”¨topå‘½ä»¤æŸ¥çœ‹ï¼Œè¯¥å€¼æ˜¯ä¸‰ä¸ªæµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºæœ€è¿‘1åˆ†é’Ÿã€5åˆ†é’Ÿã€15åˆ†é’Ÿçš„è¿è¡Œé˜Ÿåˆ—å¹³å‡è¿›ç¨‹æ•°ã€‚ cp/mvçš„åŒºåˆ«1ã€åŠŸèƒ½ä¸Šçš„åŒºåˆ«mvï¼šç”¨æˆ·å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ä¸ºæ–‡ä»¶æˆ–ç›®å½•é‡å‘½åæˆ–å°†æ–‡ä»¶ç”±ä¸€ä¸ªç›®å½•ç§»å…¥å¦ä¸€ä¸ªç›®å½•ä¸­ã€‚cp: è¯¥å‘½ä»¤çš„åŠŸèƒ½æ˜¯å°†ç»™å‡ºçš„æ–‡ä»¶æˆ–ç›®å½•æ‹·è´åˆ°å¦ä¸€æ–‡ä»¶æˆ–ç›®å½•ä¸­ã€‚ 2ã€ä»inodeè§’åº¦æ¥åŒºåˆ†mvï¼šä¼šå°†å­˜å‚¨äºindoeç´¢å¼•èŠ‚ç‚¹ä¸Šçš„æ–‡ä»¶å…ƒä¿¡æ¯ä¹Ÿç§»åŠ¨åˆ°æ–°æ–‡ä»¶ä¸­ã€‚cp : åªä¼šå¤åˆ¶æ–‡ä»¶æ•°æ®ï¼Œä¸ä¼šå¤åˆ¶inodeç´¢å¼•èŠ‚ç‚¹ä¸Šçš„æ–‡ä»¶å…ƒä¿¡æ¯ã€‚ cp çš„æ—¶å€™æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„å†…å®¹copyï¼Œå¯¹äº inode èŠ‚ç‚¹å´æ˜¯ä¸ä¼šå˜åŒ–çš„ã€‚mv çš„æ—¶å€™æ˜¯æŠŠæºæ–‡ä»¶ç›´æ¥åˆ é™¤äº†ï¼ˆinode åˆ é™¤äº†ï¼‰ï¼Œæ–°çš„æ–‡ä»¶å…¶å®å·²ç»ä¸æ˜¯ä»¥å‰çš„æ–‡ä»¶äº†ï¼Œåªæ˜¯åå­—ä¸€æ ·è€Œå·²ã€‚ç½‘ç»œ netstatï¼ˆç«¯å£ï¼‰ æŸ¥çœ‹tcpè¿æ¥æ•°çŠ¶æ€netstat -n | awk â€˜/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}â€™ ç»Ÿè®¡8080ç«¯å£ä¸Šæœ‰å¤šå°‘ä¸ªTCPè¿æ¥ï¼Œå‘½ä»¤ï¼šnetstat â€“nat | grep 8080 | wc â€“l TCPè¿æ¥ä¸­æœ‰å¤šå°‘ä¸ªè¿æ¥çŠ¶æ€æ˜¯ESTABLISHEDï¼Œå‘½ä»¤ï¼šnetstat â€“nat | grep 8080 | grep ESTABLISHED| wc -l TCPè¿æ¥ä¸­æœ‰å¤šå°‘ä¸ªè¿æ¥çŠ¶æ€æ˜¯CLOSE_WAITnetstat â€“nat | grep 8080 | grep CLOSE_WAIT| wc -l TCPè¿æ¥ä¸­æœ‰å¤šå°‘ä¸ªè¿æ¥çŠ¶æ€æ˜¯TIME_WAITnetstat â€“nat | grep 8080 | grep TIME_WAIT| wc -l ä½¿ç”¨awkæ¥å®Œæˆç»Ÿè®¡ä¿¡æ¯ï¼Œå‘½ä»¤å¦‚ä¸‹netstat â€“nat | grep 8080 | awk â€˜{++S[$NF]} END {for (a in S) print a, S[a]}â€™sarsar â€“n FULL 1 2 æ‰§è¡Œåä»¥1sä¸ºé¢‘ç‡ï¼Œæ€»å…±è¾“å‡ºä¸¤æ¬¡ç½‘ç»œIOçš„æ¶ˆè€—æƒ…å†µã€‚è¾“å‡ºä¿¡æ¯åŒ…å«ä¸‰éƒ¨åˆ†ï¼šç½‘å¡ä¸ŠæˆåŠŸçš„æ¥åŒ…å’Œå‘åŒ…çš„ä¿¡æ¯ ç½‘å¡ä¸Šå¤±è´¥çš„æ¥åŒ…å’Œå‘åŒ…ä¿¡æ¯ socketsä¸Šçš„ç»Ÿè®¡ä¿¡æ¯ï¼ˆtcpsckã€udpsckï¼‰å¦‚éœ€è¯¦ç»†è·Ÿè¸ªtcp/ipé€šä¿¡è¿‡ç¨‹çš„ä¿¡æ¯ï¼Œåˆ™å¯é€šè¿‡tcpdumpæ¥è¿›è¡Œã€‚ tcpdumptcpdump [ -DenNqvX ] [ -c count ] [ -F file ] [ -i interface ] [ -r file ] [ -s snaplen ] [ -w file ] [ expression ] æŠ“åŒ…é€‰é¡¹ï¼š-cï¼šæŒ‡å®šè¦æŠ“å–çš„åŒ…æ•°é‡ã€‚æ³¨æ„ï¼Œæ˜¯æœ€ç»ˆè¦è·å–è¿™ä¹ˆå¤šä¸ªåŒ…ã€‚ä¾‹å¦‚ï¼ŒæŒ‡å®šâ€-c 10â€å°†è·å–10ä¸ªåŒ…ï¼Œä½†å¯èƒ½å·²ç»å¤„ç†äº†100ä¸ªåŒ…ï¼Œåªä¸è¿‡åªæœ‰10ä¸ªåŒ…æ˜¯æ»¡è¶³æ¡ä»¶çš„åŒ…ã€‚-i interfaceï¼šæŒ‡å®štcpdumpéœ€è¦ç›‘å¬çš„ç«¯å£ã€‚è‹¥æœªæŒ‡å®šè¯¥é€‰é¡¹ï¼Œå°†ä»ç³»ç»Ÿæ¥å£åˆ—è¡¨ä¸­æœå¯»ç¼–å·æœ€å°çš„å·²é…ç½®å¥½çš„æ¥å£(ä¸åŒ…æ‹¬loopbackç«¯å£ï¼Œè¦æŠ“å–loopbackæ¥å£ä½¿ç”¨tcpdump -i lo)ï¼Œ ï¼šä¸€æ—¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„ç«¯å£ï¼Œæœå¯»é©¬ä¸Šç»“æŸã€‚å¯ä»¥ä½¿ç”¨â€™anyâ€™å…³é”®å­—è¡¨ç¤ºæ‰€æœ‰ç½‘ç»œæ¥å£ã€‚-nï¼šå¯¹åœ°å€ä»¥æ•°å­—æ–¹å¼æ˜¾å¼ï¼Œå¦åˆ™æ˜¾å¼ä¸ºä¸»æœºåï¼Œä¹Ÿå°±æ˜¯è¯´-né€‰é¡¹ä¸åšä¸»æœºåè§£æã€‚-nnï¼šé™¤äº†-nçš„ä½œç”¨å¤–ï¼Œè¿˜æŠŠç«¯å£æ˜¾ç¤ºä¸ºæ•°å€¼ï¼Œå¦åˆ™æ˜¾ç¤ºç«¯å£æœåŠ¡åã€‚-Nï¼šä¸æ‰“å°å‡ºhostçš„åŸŸåéƒ¨åˆ†ã€‚ä¾‹å¦‚tcpdumpå°†ä¼šæ‰“å°â€™nicâ€™è€Œä¸æ˜¯â€™nic.ddn.milâ€™ã€‚-Pï¼šæŒ‡å®šè¦æŠ“å–çš„åŒ…æ˜¯æµå…¥è¿˜æ˜¯æµå‡ºçš„åŒ…ã€‚å¯ä»¥ç»™å®šçš„å€¼ä¸ºâ€inâ€ã€â€outâ€å’Œâ€inoutâ€ï¼Œé»˜è®¤ä¸ºâ€inoutâ€ã€‚-s lenï¼šè®¾ç½®tcpdumpçš„æ•°æ®åŒ…æŠ“å–é•¿åº¦ä¸ºlenï¼Œå¦‚æœä¸è®¾ç½®é»˜è®¤å°†ä¼šæ˜¯65535å­—èŠ‚ã€‚å¯¹äºè¦æŠ“å–çš„æ•°æ®åŒ…è¾ƒå¤§æ—¶ï¼Œé•¿åº¦è®¾ç½®ä¸å¤Ÿå¯èƒ½ä¼šäº§ç”ŸåŒ…æˆªæ–­ï¼Œè‹¥å‡ºç°åŒ…æˆªæ–­ï¼Œ è¾“å‡ºé€‰é¡¹ï¼š-eï¼šè¾“å‡ºçš„æ¯è¡Œä¸­éƒ½å°†åŒ…æ‹¬æ•°æ®é“¾è·¯å±‚å¤´éƒ¨ä¿¡æ¯ï¼Œä¾‹å¦‚æºMACå’Œç›®æ ‡MACã€‚-qï¼šå¿«é€Ÿæ‰“å°è¾“å‡ºã€‚å³æ‰“å°å¾ˆå°‘çš„åè®®ç›¸å…³ä¿¡æ¯ï¼Œä»è€Œè¾“å‡ºè¡Œéƒ½æ¯”è¾ƒç®€çŸ­ã€‚-Xï¼šè¾“å‡ºåŒ…çš„å¤´éƒ¨æ•°æ®ï¼Œä¼šä»¥16è¿›åˆ¶å’ŒASCIIä¸¤ç§æ–¹å¼åŒæ—¶è¾“å‡ºã€‚-XXï¼šè¾“å‡ºåŒ…çš„å¤´éƒ¨æ•°æ®ï¼Œä¼šä»¥16è¿›åˆ¶å’ŒASCIIä¸¤ç§æ–¹å¼åŒæ—¶è¾“å‡ºï¼Œæ›´è¯¦ç»†ã€‚-vï¼šå½“åˆ†æå’Œæ‰“å°çš„æ—¶å€™ï¼Œäº§ç”Ÿè¯¦ç»†çš„è¾“å‡ºã€‚-vvï¼šäº§ç”Ÿæ¯”-væ›´è¯¦ç»†çš„è¾“å‡ºã€‚-vvvï¼šäº§ç”Ÿæ¯”-vvæ›´è¯¦ç»†çš„è¾“å‡ºã€‚ å…¶ä»–åŠŸèƒ½æ€§é€‰é¡¹ï¼š-Dï¼šåˆ—å‡ºå¯ç”¨äºæŠ“åŒ…çš„æ¥å£ã€‚å°†ä¼šåˆ—å‡ºæ¥å£çš„æ•°å€¼ç¼–å·å’Œæ¥å£åï¼Œå®ƒä»¬éƒ½å¯ä»¥ç”¨äºâ€-iâ€åã€‚-Fï¼šä»æ–‡ä»¶ä¸­è¯»å–æŠ“åŒ…çš„è¡¨è¾¾å¼ã€‚è‹¥ä½¿ç”¨è¯¥é€‰é¡¹ï¼Œåˆ™å‘½ä»¤è¡Œä¸­ç»™å®šçš„å…¶ä»–è¡¨è¾¾å¼éƒ½å°†å¤±æ•ˆã€‚-wï¼šå°†æŠ“åŒ…æ•°æ®è¾“å‡ºåˆ°æ–‡ä»¶ä¸­è€Œä¸æ˜¯æ ‡å‡†è¾“å‡ºã€‚å¯ä»¥åŒæ—¶é…åˆâ€-G timeâ€é€‰é¡¹ä½¿å¾—è¾“å‡ºæ–‡ä»¶æ¯timeç§’å°±è‡ªåŠ¨åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ã€‚å¯é€šè¿‡â€-râ€é€‰é¡¹è½½å…¥è¿™äº›æ–‡ä»¶ä»¥è¿›è¡Œåˆ†æå’Œæ‰“å°ã€‚-rï¼šä»ç»™å®šçš„æ•°æ®åŒ…æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚ä½¿ç”¨â€-â€œè¡¨ç¤ºä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–ã€‚ (1).é»˜è®¤å¯åŠ¨tcpdumpé»˜è®¤æƒ…å†µä¸‹ï¼Œç›´æ¥å¯åŠ¨tcpdumpå°†ç›‘è§†ç¬¬ä¸€ä¸ªç½‘ç»œæ¥å£(éloå£)ä¸Šæ‰€æœ‰æµé€šçš„æ•°æ®åŒ…ã€‚è¿™æ ·æŠ“å–çš„ç»“æœä¼šéå¸¸å¤šï¼Œæ»šåŠ¨éå¸¸å¿«ã€‚ (2).ç›‘è§†æŒ‡å®šç½‘ç»œæ¥å£çš„æ•°æ®åŒ…tcpdump -i eth1å¦‚æœä¸æŒ‡å®šç½‘å¡ï¼Œé»˜è®¤tcpdumpåªä¼šç›‘è§†ç¬¬ä¸€ä¸ªç½‘ç»œæ¥å£ï¼Œå¦‚eth0ã€‚ (3).ç›‘è§†æŒ‡å®šä¸»æœºçš„æ•°æ®åŒ…ï¼Œä¾‹å¦‚æ‰€æœ‰è¿›å…¥æˆ–ç¦»å¼€longshuaiçš„æ•°æ®åŒ…tcpdump host longshuai (4).æ‰“å°helios&lt;â€“&gt;hotæˆ–helios&lt;â€“&gt;aceä¹‹é—´é€šä¿¡çš„æ•°æ®åŒ…tcpdump host helios and ( hot or ace ) (5).æ‰“å°aceä¸ä»»ä½•å…¶ä»–ä¸»æœºä¹‹é—´é€šä¿¡çš„IPæ•°æ®åŒ…,ä½†ä¸åŒ…æ‹¬ä¸heliosä¹‹é—´çš„æ•°æ®åŒ…tcpdump ip host ace and not helios (6).æˆªè·ä¸»æœºhostnameå‘é€çš„æ‰€æœ‰æ•°æ®tcpdump src host hostname(7).ç›‘è§†æ‰€æœ‰å‘é€åˆ°ä¸»æœºhostnameçš„æ•°æ®åŒ…tcpdump dst host hostname (8).ç›‘è§†æŒ‡å®šä¸»æœºå’Œç«¯å£çš„æ•°æ®åŒ…tcpdump tcp port 22 and host hostname (9).å¯¹æœ¬æœºçš„udp 123ç«¯å£è¿›è¡Œç›‘è§†(123ä¸ºntpçš„æœåŠ¡ç«¯å£)tcpdump udp port 123 (10).ç›‘è§†æŒ‡å®šç½‘ç»œçš„æ•°æ®åŒ…ï¼Œå¦‚æœ¬æœºä¸192.168ç½‘æ®µé€šä¿¡çš„æ•°æ®åŒ…ï¼Œâ€-c 10â€è¡¨ç¤ºåªæŠ“å–10ä¸ªåŒ…tcpdump -c 10 net 192.168 AWK/SEDawkawkæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ï¼Œç›¸å¯¹äºgrepçš„æŸ¥æ‰¾ï¼Œsedçš„ç¼–è¾‘ï¼Œawkåœ¨å…¶å¯¹æ•°æ®åˆ†æå¹¶ç”ŸæˆæŠ¥å‘Šæ—¶ï¼Œæ˜¾å¾—å°¤ä¸ºå¼ºå¤§ã€‚ç®€å•æ¥è¯´awkå°±æ˜¯æŠŠæ–‡ä»¶é€è¡Œçš„è¯»å…¥ï¼Œä»¥ç©ºæ ¼ä¸ºé»˜è®¤åˆ†éš”ç¬¦å°†æ¯è¡Œåˆ‡ç‰‡ï¼Œåˆ‡å¼€çš„éƒ¨åˆ†å†è¿›è¡Œå„ç§åˆ†æå¤„ç†ã€‚awk â€˜{pattern + action}â€™ {filenames} ç»Ÿè®¡ipcat test.txt | awk â€˜{print $2}â€™ | sort | uniq -c | sort -n -r | head -n 1sed ç¼–è¾‘æ–‡æœ¬sed -e â€˜s/foo/bar/â€˜ myfileå°† myfile æ–‡ä»¶ä¸­æ¯è¡Œç¬¬ä¸€æ¬¡å‡ºç°çš„fooç”¨å­—ç¬¦ä¸²baræ›¿æ¢ï¼Œç„¶åå°†è¯¥æ–‡ä»¶å†…å®¹è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º sed -e â€˜s/foo/bar/gâ€™ myfile g ä½¿å¾— sed å¯¹æ–‡ä»¶ä¸­æ‰€æœ‰ç¬¦åˆçš„å­—ç¬¦ä¸²éƒ½è¢«æ›¿æ¢ sed -i â€˜s/foo/bar/gâ€™ myfileé€‰é¡¹ i ä½¿å¾— sed ä¿®æ”¹æ–‡ä»¶ sed -i â€˜s/foo/bar/gâ€™ ./m*æ‰¹é‡æ“ä½œå½“å‰ç›®å½•ä¸‹ä»¥ m å¼€å¤´çš„æ–‡ä»¶ sed -i â€˜s/foo/bar/gâ€™ grep foo -rl --include=&quot;m*&quot; ./ ``æ‹¬èµ·æ¥çš„grepå‘½ä»¤ï¼Œè¡¨ç¤ºå°†grepå‘½ä»¤çš„çš„ç»“æœä½œä¸ºæ“ä½œæ–‡ä»¶grep å‘½ä»¤ä¸­ï¼Œé€‰é¡¹rè¡¨ç¤ºæŸ¥æ‰¾æ‰€æœ‰å­ç›®å½•ï¼Œlè¡¨ç¤ºä»…åˆ—å‡ºç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶åï¼Œç”¨æ¥ä¼ ç»™sedå‘½ä»¤åšæ“ä½œï¼Œâ€“include=â€m*â€ è¡¨ç¤ºä»…æŸ¥æ‰¾ m å¼€å¤´çš„æ–‡ä»¶ç®¡é“ç®¡é“æ˜¯linuxæä¾›çš„ä¸€ç§å¸¸è§çš„è¿›ç¨‹é€šä¿¡å·¥å…·ç®¡é“ä¸­çš„æ•°æ®åªèƒ½è¯»å–ä¸€æ¬¡ç®¡é“çš„å®ç°å¹¶æ²¡æœ‰ä½¿ç”¨ä¸“é—¨çš„æ•°æ®ç»“æ„ï¼Œè€Œæ˜¯å€ŸåŠ©äº†æ–‡ä»¶ç³»ç»Ÿçš„fileç»“æ„å’ŒVFSçš„ç´¢å¼•èŠ‚ç‚¹inodeã€‚é€šè¿‡å°†ä¸¤ä¸ª file ç»“æ„æŒ‡å‘åŒä¸€ä¸ªä¸´æ—¶çš„ VFS ç´¢å¼•èŠ‚ç‚¹ï¼Œè€Œè¿™ä¸ª VFS ç´¢å¼•èŠ‚ç‚¹åˆæŒ‡å‘ä¸€ä¸ªç‰©ç†é¡µé¢è€Œå®ç°çš„ã€‚ å…¶ä»–å…³æœº æ•°æ®åŒæ­¥å†™å…¥ç£ç›˜ sync ä¸ºäº†åŠ å¿«å¯¹ç£ç›˜ä¸Šæ–‡ä»¶çš„è¯»å†™é€Ÿåº¦ï¼Œä½äºå†…å­˜ä¸­çš„æ–‡ä»¶æ•°æ®ä¸ä¼šç«‹å³åŒæ­¥åˆ°ç£ç›˜ä¸Šï¼Œå› æ­¤å…³æœºä¹‹å‰éœ€è¦å…ˆè¿›è¡Œ sync åŒæ­¥æ“ä½œã€‚ shutdown /sbin/shutdown [-krhc] [æ—¶é—´] [è­¦å‘Šè®¯æ¯] -k ï¼š ä¸ä¼šå…³æœºï¼Œåªæ˜¯å‘é€è­¦å‘Šè®¯æ¯ï¼Œé€šçŸ¥æ‰€æœ‰åœ¨çº¿çš„ç”¨æˆ·-r ï¼š å°†ç³»ç»Ÿçš„æœåŠ¡åœæ‰åå°±é‡æ–°å¯åŠ¨-h ï¼š å°†ç³»ç»Ÿçš„æœåŠ¡åœæ‰åå°±ç«‹å³å…³æœº-c ï¼š å–æ¶ˆå·²ç»åœ¨è¿›è¡Œçš„ shutdown æŒ‡ä»¤å†…å®¹ å…¶å®ƒå…³æœºæŒ‡ä»¤rebootã€haltã€poweroffã€‚è¿è¡Œç­‰çº§0ï¼šå…³æœºæ¨¡å¼ 1ï¼šå•ç”¨æˆ·æ¨¡å¼ï¼ˆå¯ç”¨äºç ´è§£rootå¯†ç ï¼‰ 2ï¼šæ— ç½‘ç»œæ”¯æŒçš„å¤šç”¨æˆ·æ¨¡å¼ 3ï¼šæœ‰ç½‘ç»œæ”¯æŒçš„å¤šç”¨æˆ·æ¨¡å¼ï¼ˆæ–‡æœ¬æ¨¡å¼ï¼Œå·¥ä½œä¸­æœ€å¸¸ç”¨çš„æ¨¡å¼ï¼‰ 4ï¼šä¿ç•™ï¼Œæœªä½¿ç”¨ 5ï¼šæœ‰ç½‘ç»œæ”¯æŒçš„ X-windows æ”¯æŒå¤šç”¨æˆ·æ¨¡å¼ï¼ˆæ¡Œé¢ï¼‰ 6ï¼šé‡æ–°å¼•å¯¼ç³»ç»Ÿï¼Œå³é‡å¯BIOSBIOS æ˜¯å¼€æœºçš„æ—¶å€™è®¡ç®—æœºæ‰§è¡Œçš„ç¬¬ä¸€ä¸ªç¨‹åºï¼Œè¿™ä¸ªç¨‹åºçŸ¥é“å¯ä»¥å¼€æœºçš„ç£ç›˜ï¼Œå¹¶è¯»å–ç£ç›˜ç¬¬ä¸€ä¸ªæ‰‡åŒºçš„ MBRï¼Œç”± MBR æ‰§è¡Œå…¶ä¸­çš„å¼€æœºç®¡ç†ç¨‹åºï¼Œè¿™ä¸ªå¼€æœºç®¡ç†ç¨‹åºçš„ä¼šåŠ è½½æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒæ–‡ä»¶ã€‚ MBR ä¸­çš„å¼€æœºç®¡ç†ç¨‹åºæä¾›ä»¥ä¸‹åŠŸèƒ½ï¼šé€‰å•ã€è½½å…¥æ ¸å¿ƒæ–‡ä»¶ä»¥åŠè½¬äº¤å…¶å®ƒå¼€æœºç®¡ç†ç¨‹åºã€‚è½¬äº¤è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç”¨æ¥å®ç°äº†å¤šé‡å¼•å¯¼ï¼Œåªéœ€è¦å°†å¦ä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„å¼€æœºç®¡ç†ç¨‹åºå®‰è£…å…¶å®ƒåˆ†åŒºçš„å¯åŠ¨æ‰‡åŒºä¸Šï¼Œåœ¨å¯åŠ¨ MBR ä¸­çš„å¼€æœºç®¡ç†ç¨‹åºæ—¶ï¼Œå°±å¯ä»¥é€‰æ‹©å¯åŠ¨å½“å‰çš„æ“ä½œç³»ç»Ÿæˆ–è€…è½¬äº¤ç»™å…¶å®ƒå¼€æœºç®¡ç†ç¨‹åºä»è€Œå¯åŠ¨å¦ä¸€ä¸ªæ“ä½œç³»ç»Ÿã€‚ æŒ‡ä»¤æœç´¢é¡ºåº ä»¥ç»å¯¹æˆ–ç›¸å¯¹è·¯å¾„æ¥æ‰§è¡ŒæŒ‡ä»¤ï¼Œä¾‹å¦‚ /bin/ls æˆ–è€… ./ls ï¼› ç”±åˆ«åæ‰¾åˆ°è¯¥æŒ‡ä»¤æ¥æ‰§è¡Œï¼› ç”± Bash å†…å»ºçš„æŒ‡ä»¤æ¥æ‰§è¡Œï¼› æŒ‰ $PATH å˜é‡æŒ‡å®šçš„æœç´¢è·¯å¾„çš„é¡ºåºæ‰¾åˆ°ç¬¬ä¸€ä¸ªæŒ‡ä»¤æ¥æ‰§è¡Œã€‚æ•°æ®æµé‡å®šå‘é‡å®šå‘æœ‰5ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯: è¾“å‡ºé‡å®šå‘ã€è¾“å…¥é‡å®šå‘ã€é”™è¯¯é‡å®šå‘ã€è¿½åŠ é‡å®šå‘ä»¥åŠåŒæ—¶å®ç°è¾“å‡ºå’Œé”™è¯¯çš„é‡å®šå‘ã€‚ é‡å®šå‘å°±æ˜¯ä½¿ç”¨æ–‡ä»¶ä»£æ›¿æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯è¾“å‡ºã€‚ æ ‡å‡†è¾“å…¥ (stdin) ï¼šä»£ç ä¸º 0 ï¼Œä½¿ç”¨ &lt; æˆ– &lt;&lt; ï¼›æ ‡å‡†è¾“å‡º (stdout) ï¼šä»£ç ä¸º 1 ï¼Œä½¿ç”¨ &gt; æˆ– &gt;&gt; ï¼›æ ‡å‡†é”™è¯¯è¾“å‡º(stderr)ï¼šä»£ç ä¸º 2 ï¼Œä½¿ç”¨ 2&gt; æˆ– 2&gt;&gt; ï¼›å…¶ä¸­ï¼Œæœ‰ä¸€ä¸ªç®­å¤´çš„è¡¨ç¤ºä»¥è¦†ç›–çš„æ–¹å¼é‡å®šå‘ï¼Œè€Œæœ‰ä¸¤ä¸ªç®­å¤´çš„è¡¨ç¤ºä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘ã€‚ å¯ä»¥å°†ä¸éœ€è¦çš„æ ‡å‡†è¾“å‡ºä»¥åŠæ ‡å‡†é”™è¯¯è¾“å‡ºé‡å®šå‘åˆ° /dev/null ï¼Œç›¸å½“äºæ‰”è¿›åƒåœ¾ç®±ã€‚ å¦‚æœéœ€è¦å°†æ ‡å‡†è¾“å‡ºä»¥åŠæ ‡å‡†é”™è¯¯è¾“å‡ºåŒæ—¶é‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œéœ€è¦å°†æŸä¸ªè¾“å‡ºè½¬æ¢ä¸ºå¦ä¸€ä¸ªè¾“å‡ºï¼Œä¾‹å¦‚ 2&gt;&amp;1 è¡¨ç¤ºå°†æ ‡å‡†é”™è¯¯è¾“å‡ºè½¬æ¢ä¸ºæ ‡å‡†è¾“å‡ºã€‚ $ find /home -name .bashrc &gt; list 2&gt;&amp;1 å­¤å„¿è¿›ç¨‹å’Œåƒµæ­»è¿›ç¨‹å­¤å„¿è¿›ç¨‹ä¸€ä¸ªçˆ¶è¿›ç¨‹é€€å‡ºï¼Œè€Œå®ƒçš„ä¸€ä¸ªæˆ–å¤šä¸ªå­è¿›ç¨‹è¿˜åœ¨è¿è¡Œï¼Œé‚£ä¹ˆé‚£äº›å­è¿›ç¨‹å°†æˆä¸ºå­¤å„¿è¿›ç¨‹ã€‚å­¤å„¿è¿›ç¨‹å°†è¢« init è¿›ç¨‹ï¼ˆè¿›ç¨‹å·ä¸º 1)æ‰€æ”¶å…»ï¼Œå¹¶ç”± init è¿›ç¨‹å¯¹å®ƒä»¬å®ŒæˆçŠ¶æ€æ”¶é›†å·¥ä½œã€‚ç”±äºå­¤å„¿è¿›ç¨‹ä¼šè¢« init è¿›ç¨‹æ”¶å…»ï¼Œæ‰€ä»¥å­¤å„¿è¿›ç¨‹ä¸ä¼šå¯¹ç³»ç»Ÿé€ æˆå±å®³ åƒµå°¸è¿›ç¨‹ä¸€ä¸ªå­è¿›ç¨‹çš„è¿›ç¨‹æè¿°ç¬¦åœ¨å­è¿›ç¨‹é€€å‡ºæ—¶ä¸ä¼šé‡Šæ”¾ï¼Œåªæœ‰å½“çˆ¶è¿›ç¨‹é€šè¿‡ wait æˆ– waitpid è·å–äº†å­è¿›ç¨‹ä¿¡æ¯åæ‰ä¼šé‡Šæ”¾ã€‚å¦‚æœå­è¿›ç¨‹é€€å‡ºï¼Œè€Œçˆ¶è¿›ç¨‹å¹¶æ²¡æœ‰è°ƒç”¨ wait æˆ– waitpidï¼Œé‚£ä¹ˆå­è¿›ç¨‹çš„è¿›ç¨‹æè¿°ç¬¦ä»ç„¶ä¿å­˜åœ¨ç³»ç»Ÿä¸­ï¼Œè¿™ç§è¿›ç¨‹ç§°ä¹‹ä¸ºåƒµæ­»è¿›ç¨‹ã€‚ åƒµæ­»è¿›ç¨‹é€šè¿‡ ps å‘½ä»¤æ˜¾ç¤ºå‡ºæ¥çš„çŠ¶æ€ä¸º Zã€‚ ç³»ç»Ÿæ‰€èƒ½ä½¿ç”¨çš„è¿›ç¨‹å·æ˜¯æœ‰é™çš„ï¼Œå¦‚æœå¤§é‡çš„äº§ç”Ÿåƒµæ­»è¿›ç¨‹ï¼Œå°†å› ä¸ºæ²¡æœ‰å¯ç”¨çš„è¿›ç¨‹å·è€Œå¯¼è‡´ç³»ç»Ÿä¸èƒ½äº§ç”Ÿæ–°çš„è¿›ç¨‹ã€‚ è¦æ¶ˆç­ç³»ç»Ÿä¸­å¤§é‡çš„åƒµæ­»è¿›ç¨‹ï¼Œåªéœ€è¦å°†å…¶çˆ¶è¿›ç¨‹æ€æ­»ï¼Œæ­¤æ—¶æ‰€æœ‰çš„åƒµæ­»è¿›ç¨‹å°±ä¼šå˜æˆå­¤å„¿è¿›ç¨‹ï¼Œä»è€Œè¢« init æ‰€æ”¶å…»ï¼Œè¿™æ · init å°±ä¼šé‡Šæ”¾æ‰€æœ‰çš„åƒµæ­»è¿›ç¨‹æ‰€å æœ‰çš„èµ„æºï¼Œä»è€Œç»“æŸåƒµæ­»è¿›ç¨‹ã€‚","categories":[{"name":"è®¡ç®—æœºåŸºç¡€","slug":"è®¡ç®—æœºåŸºç¡€","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/è®¡ç®—æœºåŸºç¡€/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/Linux/"}]},{"title":"Linuxå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰","slug":"Linux å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰","date":"2019-07-02T10:25:08.000Z","updated":"2019-09-30T14:22:30.000Z","comments":true,"path":"2019/07/02/linux-xue-xi-bi-ji-yi/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/07/02/linux-xue-xi-bi-ji-yi/","excerpt":"","text":"æˆ‘ä»¬å¾—ç¨‹åºå¤§å¤šæ•°éƒ½æ˜¯è¿è¡Œåœ¨ Linux ä¸Šé¢å¾—ï¼Œå› æ­¤å¹³æ—¶æˆ–å¤šæˆ–å°‘æ¥è§¦äº†ä¸å°‘Linux å‘½ä»¤ï¼Œæœ€è¿‘åœ¨å…¬å¸ä¹Ÿç”¨åˆ°äº†ç›¸å…³å¾—å‘½ä»¤ï¼Œå…¶ä¸­ä¸å¤–ä¹æŸ¥çœ‹æ—¥å¿—ï¼Œæ’é™¤é”™è¯¯ï¼Œéƒ¨ç½²ç¨‹åºï¼ˆç›®å‰æ²¡éƒ¨ç½²è¿‡å…¬å¸ç¨‹åºï¼‰ã€ç¼–å†™è„šæœ¬ã€‚å› æ­¤æœ‰å¿…è¦å¥½å¥½å­¦ä¹ ä¸€æ³¢ï¼Œè¿™æ¬¡ä¸»è¦å­¦ä¹ å‘½ä»¤ã€‚ ä½¿ç”¨Linuxä¼˜ç‚¹ å…è´¹ å¾ˆå¤šè½¯ä»¶åŸç”Ÿæ˜¯åœ¨Linuxä¸‹è¿è¡Œçš„ï¼Œåºå¤§çš„ç¤¾åŒºæ”¯æŒï¼Œç”Ÿæ€ç¯å¢ƒå¥½ã€‚ å¼€æºï¼Œå¯è¢«å®šåˆ¶ï¼Œå¼€æ”¾ï¼Œå¤šç”¨æˆ·çš„ç½‘ç»œæ“ä½œç³»ç»Ÿã€‚ ç›¸å¯¹å®‰å…¨ç¨³å®š Linuxç›®å½•ç»“æ„ bin å­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶(ls,cat,mkdirç­‰) boot å­˜æ”¾ç”¨äºç³»ç»Ÿå¼•å¯¼æ—¶ä½¿ç”¨çš„å„ç§æ–‡ä»¶ dev ç”¨äºå­˜æ”¾è®¾å¤‡æ–‡ä»¶ etc å­˜æ”¾ç³»ç»Ÿé…ç½®æ–‡ä»¶ home å­˜æ”¾æ‰€æœ‰ç”¨æˆ·æ–‡ä»¶çš„æ ¹ç›®å½• lib å­˜æ”¾è·Ÿæ–‡ä»¶ç³»ç»Ÿä¸­çš„ç¨‹åºè¿è¡Œæ‰€éœ€è¦çš„å…±äº«åº“åŠå†…æ ¸æ¨¡å— mnt ç³»ç»Ÿç®¡ç†å‘˜å®‰è£…ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿçš„å®‰è£…ç‚¹ opt é¢å¤–å®‰è£…çš„å¯é€‰åº”ç”¨ç¨‹åºåŒ…æ‰€æ”¾ç½®çš„ä½ç½® proc è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œå­˜æ”¾å½“å‰å†…å­˜çš„æ˜ å°„ root è¶…çº§ç”¨æˆ·ç›®å½• sbin å­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåªæœ‰rootæ‰èƒ½è®¿é—® tmp ç”¨äºå­˜æ”¾å„ç§ä¸´æ—¶æ–‡ä»¶ usr ç”¨äºå­˜æ”¾ç³»ç»Ÿåº”ç”¨ç¨‹åºï¼Œæ¯”è¾ƒé‡è¦çš„ç›®å½•/usr/local æœ¬åœ°ç®¡ç†å‘˜è½¯ä»¶å®‰è£…ç›®å½• var ç”¨äºå­˜æ”¾è¿è¡Œæ—¶éœ€è¦æ”¹å˜æ•°æ®çš„æ–‡ä»¶ LinuxåŸºæœ¬å‘½ä»¤å‘½ä»¤å¯ä»¥å‚è€ƒè¿™é‡Œï¼ŒçœŸçš„å…¨ LinuxåŸºæœ¬å‘½ä»¤ ç›®å½•åˆ‡æ¢å‘½ä»¤cd usrï¼š åˆ‡æ¢åˆ°è¯¥ç›®å½•ä¸‹usrç›®å½•cd ..ï¼ˆæˆ–cd../ï¼‰ï¼š åˆ‡æ¢åˆ°ä¸Šä¸€å±‚ç›®å½•cd /ï¼š åˆ‡æ¢åˆ°ç³»ç»Ÿæ ¹ç›®å½•cd ~ï¼š åˆ‡æ¢åˆ°ç”¨æˆ·ä¸»ç›®å½•cd -ï¼š åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ“ä½œæ‰€åœ¨ç›®å½• æ–‡ä»¶æœç´¢ which æŒ‡ä»¤æœç´¢ã€‚ whereis æ–‡ä»¶æœç´¢ã€‚é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œå› ä¸ºå®ƒåªæœç´¢å‡ ä¸ªç‰¹å®šçš„ç›®å½•ã€‚ locateæ–‡ä»¶æœç´¢ã€‚å¯ä»¥ç”¨å…³é”®å­—æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæœç´¢ã€‚locate ä½¿ç”¨ /var/lib/mlocate/ è¿™ä¸ªæ•°æ®åº“æ¥è¿›è¡Œæœç´¢ï¼Œå®ƒå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå¹¶ä¸”æ¯å¤©æ›´æ–°ä¸€æ¬¡ï¼Œæ‰€ä»¥æ— æ³•ç”¨ locate æœç´¢æ–°å»ºçš„æ–‡ä»¶ã€‚å¯ä»¥ä½¿ç”¨ updatedb æ¥ç«‹å³æ›´æ–°æ•°æ®åº“ã€‚ find æ–‡ä»¶æœç´¢ã€‚å¯ä»¥ä½¿ç”¨æ–‡ä»¶çš„å±æ€§å’Œæƒé™è¿›è¡Œæœç´¢ã€‚ç›®å½•çš„æ“ä½œå‘½ä»¤mkdir ç›®å½•åç§°ï¼š å¢åŠ ç›®å½• lsæˆ–è€…llï¼ˆllæ˜¯ls -lçš„åˆ«åï¼Œllå‘½ä»¤å¯ä»¥çœ‹åˆ°è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼‰ï¼šæŸ¥çœ‹ç›®å½•ä¿¡æ¯ find ç›®å½• å‚æ•°ï¼š å¯»æ‰¾ç›®å½•ï¼ˆæŸ¥ï¼‰ mv ç›®å½•åç§° æ–°ç›®å½•åç§°ï¼š ä¿®æ”¹ç›®å½•çš„åç§°ï¼ˆæ”¹ï¼‰ mv ç›®å½•åç§° ç›®å½•çš„æ–°ä½ç½®ï¼š ç§»åŠ¨ç›®å½•çš„ä½ç½®â€”å‰ªåˆ‡ï¼ˆæ”¹ï¼‰ cp -r ç›®å½•åç§° ç›®å½•æ‹·è´çš„ç›®æ ‡ä½ç½®ï¼š æ‹·è´ç›®å½•ï¼ˆæ”¹ï¼‰ï¼Œ-rä»£è¡¨é€’å½’æ‹·è´ rm [-rf] ç›®å½•: åˆ é™¤ç›®å½•ï¼ˆåˆ ï¼‰ æ–‡ä»¶çš„æ“ä½œå‘½ä»¤touch æ–‡ä»¶åç§°: æ–‡ä»¶çš„åˆ›å»ºï¼ˆå¢ï¼‰ cat/more/less/tail æ–‡ä»¶åç§° æ–‡ä»¶çš„æŸ¥çœ‹ï¼ˆæŸ¥ï¼‰ catï¼š æŸ¥çœ‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹moreï¼š å¯ä»¥æ˜¾ç¤ºç™¾åˆ†æ¯”ï¼Œå›è½¦å¯ä»¥å‘ä¸‹ä¸€è¡Œï¼Œ ç©ºæ ¼å¯ä»¥å‘ä¸‹ä¸€é¡µï¼Œqå¯ä»¥é€€å‡ºæŸ¥çœ‹lessï¼š å¯ä»¥ä½¿ç”¨é”®ç›˜ä¸Šçš„PgUpå’ŒPgDnå‘ä¸Š å’Œå‘ä¸‹ç¿»é¡µï¼Œqç»“æŸæŸ¥çœ‹tail-10 ï¼š æŸ¥çœ‹æ–‡ä»¶çš„å10è¡Œï¼ŒCtrl+Cç»“æŸæ³¨æ„ï¼šå‘½ä»¤ tail -f æ–‡ä»¶ å¯ä»¥å¯¹æŸä¸ªæ–‡ä»¶è¿›è¡ŒåŠ¨æ€ç›‘æ§ï¼Œä¾‹å¦‚tomcatçš„æ—¥å¿—æ–‡ä»¶ï¼Œ ä¼šéšç€ç¨‹åºçš„è¿è¡Œï¼Œæ—¥å¿—ä¼šå˜åŒ–ï¼Œå¯ä»¥ä½¿ç”¨tail -f catalina-2016-11-11.log ç›‘æ§ æ–‡ ä»¶çš„å˜åŒ– vim æ–‡ä»¶ï¼š ä¿®æ”¹æ–‡ä»¶çš„å†…å®¹ï¼ˆæ”¹ï¼‰ vimç¼–è¾‘å™¨æ˜¯Linuxä¸­çš„å¼ºå¤§ç»„ä»¶ï¼Œæ˜¯viç¼–è¾‘å™¨çš„åŠ å¼ºç‰ˆï¼Œvimç¼–è¾‘å™¨çš„å‘½ä»¤å’Œå¿«æ·æ–¹å¼æœ‰å¾ˆå¤šï¼Œä½†æ­¤å¤„ä¸ä¸€ä¸€é˜è¿°ï¼Œå¤§å®¶ä¹Ÿæ— éœ€ç ”ç©¶çš„å¾ˆé€å½»ï¼Œä½¿ç”¨vimç¼–è¾‘ä¿®æ”¹æ–‡ä»¶çš„æ–¹å¼åŸºæœ¬ä¼šä½¿ç”¨å°±å¯ä»¥äº†ã€‚ åœ¨å®é™…å¼€å‘ä¸­ï¼Œä½¿ç”¨vimç¼–è¾‘å™¨ä¸»è¦ä½œç”¨å°±æ˜¯ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ­¥éª¤ï¼š vim æ–‡ä»¶â€”â€”&gt;è¿›å…¥æ–‡ä»¶â€”â€“&gt;å‘½ä»¤æ¨¡å¼â€”â€”&gt;æŒ‰iè¿›å…¥ç¼–è¾‘æ¨¡å¼â€”â€“&gt;ç¼–è¾‘æ–‡ä»¶ â€”â€”-&gt;æŒ‰Escè¿›å…¥åº•è¡Œæ¨¡å¼â€”â€“&gt;è¾“å…¥ï¼šwq/q! ï¼ˆè¾“å…¥wqä»£è¡¨å†™å…¥å†…å®¹å¹¶é€€å‡ºï¼Œå³ä¿å­˜ï¼›è¾“å…¥q!ä»£è¡¨å¼ºåˆ¶é€€å‡ºä¸ä¿å­˜ã€‚ï¼‰ rm -rf æ–‡ä»¶ï¼š åˆ é™¤æ–‡ä»¶ï¼ˆåˆ ï¼‰ å‹ç¼©æ–‡ä»¶æ‰“åŒ…å¹¶å‹ç¼©æ–‡ä»¶ï¼š Linuxä¸­çš„æ‰“åŒ…æ–‡ä»¶ä¸€èˆ¬æ˜¯ä»¥.tarç»“å°¾çš„ï¼Œå‹ç¼©çš„å‘½ä»¤ä¸€èˆ¬æ˜¯ä»¥.gzç»“å°¾çš„ã€‚ è€Œä¸€èˆ¬æƒ…å†µä¸‹æ‰“åŒ…å’Œå‹ç¼©æ˜¯ä¸€èµ·è¿›è¡Œçš„ï¼Œæ‰“åŒ…å¹¶å‹ç¼©åçš„æ–‡ä»¶çš„åç¼€åä¸€èˆ¬.tar.gzã€‚ å‘½ä»¤ï¼štar -zcvf æ‰“åŒ…å‹ç¼©åçš„æ–‡ä»¶å è¦æ‰“åŒ…å‹ç¼©çš„æ–‡ä»¶ å…¶ä¸­ï¼š zï¼šè°ƒç”¨gzipå‹ç¼©å‘½ä»¤è¿›è¡Œå‹ç¼© cï¼šæ‰“åŒ…æ–‡ä»¶ vï¼šæ˜¾ç¤ºè¿è¡Œè¿‡ç¨‹ fï¼šæŒ‡å®šæ–‡ä»¶å2ï¼‰è§£å‹å‹ç¼©åŒ…ï¼štar [-xvf] å‹ç¼©æ–‡ä»¶ æƒé™å‘½ä»¤å¯ä»¥å°†ä¸€ç»„æƒé™ç”¨æ•°å­—æ¥è¡¨ç¤ºï¼Œæ­¤æ—¶ä¸€ç»„æƒé™çš„ 3 ä¸ªä½å½“åšäºŒè¿›åˆ¶æ•°å­—çš„ä½ï¼Œä»å·¦åˆ°å³æ¯ä¸ªä½çš„æƒå€¼ä¸º 4ã€2ã€1ï¼Œå³æ¯ä¸ªæƒé™å¯¹åº”çš„æ•°å­—æƒå€¼ä¸º r : 4ã€w : 2ã€x : 1ã€‚é»˜è®¤æƒé™ æ–‡ä»¶é»˜è®¤æƒé™ï¼šæ–‡ä»¶é»˜è®¤æ²¡æœ‰å¯æ‰§è¡Œæƒé™ï¼Œå› æ­¤ä¸º 666ï¼Œä¹Ÿå°±æ˜¯ -rw-rw-rw- ã€‚ ç›®å½•é»˜è®¤æƒé™ï¼šç›®å½•å¿…é¡»è¦èƒ½å¤Ÿè¿›å…¥ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»æ‹¥æœ‰å¯æ‰§è¡Œæƒé™ï¼Œå› æ­¤ä¸º 777 ï¼Œä¹Ÿå°±æ˜¯ drwxrwxrwxã€‚ è¿›ç¨‹ç®¡ç†ps -ef/ps -auxï¼š è¿™ä¸¤ä¸ªå‘½ä»¤éƒ½æ˜¯æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ­£åœ¨è¿è¡Œè¿›ç¨‹ï¼Œä¸¤è€…çš„åŒºåˆ«æ˜¯å±•ç¤ºæ ¼å¼ä¸åŒã€‚å¦‚æœæƒ³è¦æŸ¥çœ‹ç‰¹å®šçš„è¿›ç¨‹å¯ä»¥ä½¿ç”¨è¿™æ ·çš„æ ¼å¼ï¼šps aux|grep redis ï¼ˆæŸ¥çœ‹åŒ…æ‹¬rediså­—ç¬¦ä¸²çš„è¿›ç¨‹ï¼‰ï¼Œä¹Ÿå¯ä½¿ç”¨ pgrep redis -aã€‚ æ³¨æ„ï¼šå¦‚æœç›´æ¥ç”¨psï¼ˆï¼ˆProcess Statusï¼‰ï¼‰å‘½ä»¤ï¼Œä¼šæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹çš„çŠ¶æ€ï¼Œé€šå¸¸ç»“åˆgrepå‘½ä»¤æŸ¥çœ‹æŸè¿›ç¨‹çš„çŠ¶æ€ã€‚ kill -9 è¿›ç¨‹çš„pidï¼š æ€æ­»è¿›ç¨‹ï¼ˆ-9 è¡¨ç¤ºå¼ºåˆ¶ç»ˆæ­¢ã€‚ï¼‰ å…ˆç”¨psæŸ¥æ‰¾è¿›ç¨‹ï¼Œç„¶åç”¨killæ€æ‰ top ï¼šå®æ—¶æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯netstat ï¼šæŸ¥çœ‹å ç”¨ç«¯å£çš„è¿›ç¨‹ ç”¨æˆ·ç®¡ç† useradd é€‰é¡¹ ç”¨æˆ·å:æ·»åŠ ç”¨æˆ·è´¦å· userdel é€‰é¡¹ ç”¨æˆ·å:åˆ é™¤ç”¨æˆ·å¸å· usermod é€‰é¡¹ ç”¨æˆ·å:ä¿®æ”¹å¸å· passwd ç”¨æˆ·å:æ›´æ”¹æˆ–åˆ›å»ºç”¨æˆ·çš„å¯†ç  passwd -S ç”¨æˆ·å :æ˜¾ç¤ºç”¨æˆ·è´¦å·å¯†ç ä¿¡æ¯ passwd -d ç”¨æˆ·å: æ¸…é™¤ç”¨æˆ·å¯†ç å…¶ä»–å¸¸ç”¨å‘½ä»¤ pwdï¼š æ˜¾ç¤ºå½“å‰æ‰€åœ¨ä½ç½® grep è¦æœç´¢çš„å­—ç¬¦ä¸² è¦æœç´¢çš„æ–‡ä»¶ â€“colorï¼š æœç´¢å‘½ä»¤ï¼Œâ€“colorä»£è¡¨é«˜äº®æ˜¾ç¤ºï¼ˆå¸¸ç”¨ï¼‰ æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„ç½‘å¡ä¿¡æ¯ï¼šifconfig shutdownï¼š shutdown -h nowï¼š æŒ‡å®šç°åœ¨ç«‹å³å…³æœºï¼›shutdown +5 â€œSystem will shutdown after 5 minutesâ€ï¼šæŒ‡å®š5åˆ†é’Ÿåå…³æœºï¼ŒåŒæ—¶é€å‡ºè­¦å‘Šä¿¡æ¯ç»™ç™»å…¥ç”¨æˆ·ã€‚ rebootï¼š rebootï¼š é‡å¼€æœºã€‚reboot -wï¼š åšä¸ªé‡å¼€æœºçš„æ¨¡æ‹Ÿï¼ˆåªæœ‰çºªå½•å¹¶ä¸ä¼šçœŸçš„é‡å¼€æœºï¼‰ã€‚","categories":[{"name":"è®¡ç®—æœºåŸºç¡€","slug":"è®¡ç®—æœºåŸºç¡€","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/è®¡ç®—æœºåŸºç¡€/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/Linux/"}]},{"title":"LeetCodeä¸­ä½è¿ç®—ç›¸å…³é¢˜ç›®","slug":"LeetCode ä¸­æœ‰å…³ä½è¿ç®—é¢˜ç›®","date":"2019-06-25T10:25:08.000Z","updated":"2019-09-30T14:14:32.000Z","comments":true,"path":"2019/06/25/leetcode-zhong-you-guan-wei-yun-suan-ti-mu/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/06/25/leetcode-zhong-you-guan-wei-yun-suan-ti-mu/","excerpt":"","text":"è¿™é˜¶æ®µåˆ·å®Œäº† LeetCode ä¸Šæœ‰å…³ä½è¿ç®—çš„é¢˜ç›®ï¼Œæ„Ÿè§‰ä½è¿ç®—è¿˜æ˜¯æŒºéš¾ï¼Œå¾ˆéš¾getåˆ°ç‚¹ï¼Œæœ‰ç©ºè¿˜æ˜¯è¦å»åŠ å¼ºå­¦ä¹ ï¼Œè¦æŒæ¡ ä¸&amp;ã€å¼‚æˆ–^ã€æˆ–|ã€é~ï¼Œè¿˜æœ‰ç®—æœ¯å·¦ç§»ã€ç®—æœ¯å³ç§»ã€æ— ç¬¦å·å³ç§» ã€‚è¿˜æœ‰ Java ä¸­ Integer ç±»ä¸­å¸¸è§ä½è¿ç®—çš„æ–¹æ³•ï¼ˆä¸‰ä¸ªï¼‰ã€‚éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š 1. ä¸&amp;ã€å¼‚æˆ–^ã€æˆ–|ã€é~ x ^ 1s = ~x x &amp; 0s = 0 x &amp; 1s = x x | 0s = x x | 1s = 1s n&amp;(n-1) å»é™¤ n çš„ä½çº§è¡¨ç¤ºä¸­æœ€ä½çš„é‚£ä¸€ä½ n&amp;(-n) å¾—åˆ° n çš„ä½çº§è¡¨ç¤ºä¸­æœ€ä½çš„é‚£ä¸€ä½ n-n&amp;(~n+1) å»é™¤ n çš„ä½çº§è¡¨ç¤ºä¸­æœ€é«˜çš„é‚£ä¸€ä½ã€‚ 2. ç§»ä½è¿ç®—ï¼š &gt;&gt; n ä¸ºç®—æœ¯å³ç§»ï¼Œç›¸å½“äºé™¤ä»¥ 2nï¼› &gt;&gt;&gt; n ä¸ºæ— ç¬¦å·å³ç§»ï¼Œå·¦è¾¹ä¼šè¡¥ä¸Š 0ã€‚ &lt;&lt; n ä¸ºç®—æœ¯å·¦ç§»ï¼Œç›¸å½“äºä¹˜ä»¥ 2nã€‚3. Javaä¸­ä½è¿ç®—æ–¹æ³•ï¼š** static int Integer.bitCount(); // ç»Ÿè®¡ 1 çš„æ•°é‡ static int Integer.highestOneBit(); // è·å¾—æœ€é«˜ä½ static String toBinaryString(int i); // è½¬æ¢ä¸ºäºŒè¿›åˆ¶è¡¨ç¤ºçš„å­—ç¬¦ä¸² ä¸ç”¨é¢å¤–å˜é‡äº¤æ¢ä¸¤ä¸ªæ•´æ•°æ•ˆç‡ä¹Ÿæ¯”è¾ƒå¿«ï¼Œæ„Ÿè§‰è¿˜æ˜¯æŒºå¨çš„ã€‚a = a ^ b; b = a ^ b; a = a ^ b; ä»¥ä¸‹æ˜¯ç›¸å…³é¢˜ç›®ï¼š 260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— IIIé¢˜ç›®æè¿°ï¼šå®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå…¶ä¸­æ°å¥½æœ‰ä¸¤ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™æ‰€æœ‰å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚ æ‰¾å‡ºåªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸¤ä¸ªå…ƒç´ ã€‚ ç¤ºä¾‹ : è¾“å…¥: [1,2,1,3,2,5] è¾“å‡º: [3,5]æ³¨æ„ï¼šç»“æœè¾“å‡ºçš„é¡ºåºå¹¶ä¸é‡è¦ï¼Œå¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œ [5, 3] ä¹Ÿæ˜¯æ­£ç¡®ç­”æ¡ˆã€‚ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ä½ èƒ½å¦ä»…ä½¿ç”¨å¸¸æ•°ç©ºé—´å¤æ‚åº¦æ¥å®ç°ï¼Ÿ è§£é¢˜æ€è·¯ï¼šä¸¤ä¸ªä¸ç›¸ç­‰çš„å…ƒç´ åœ¨ä½çº§è¡¨ç¤ºä¸Šå¿…å®šä¼šæœ‰ä¸€ä½å­˜åœ¨ä¸åŒã€‚å°†æ•°ç»„çš„æ‰€æœ‰å…ƒç´ å¼‚æˆ–å¾—åˆ°çš„ç»“æœä¸ºä¸å­˜åœ¨é‡å¤çš„ä¸¤ä¸ªå…ƒç´ å¼‚æˆ–çš„ç»“æœã€‚ public int[] singleNumber(int[] nums) { int diff = 0; for (int num : nums) diff ^= num; diff &amp;= -diff; // æœ€åä¸€ä½ï¼Œåˆ©ç”¨è¿™ä¸€ä½å°±å¯ä»¥å°†ä¸¤ä¸ªå…ƒç´ åŒºåˆ†å¼€æ¥ã€‚ int[] ret = new int[2]; for (int num : nums) { if ((num &amp; diff) == 0) ret[0] ^= num; else ret[1] ^= num; } return ret; } 136.æ•°ç»„ä¸­å”¯ä¸€ä¸€ä¸ªä¸é‡å¤çš„å…ƒç´ é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚ è¯´æ˜ï¼š ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ ç¤ºä¾‹ 1: è¾“å…¥: [2,2,1] è¾“å‡º: 1 ç¤ºä¾‹ 2: è¾“å…¥: [4,1,2,1,2] è¾“å‡º: 4è§£é¢˜æ€è·¯ï¼šç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Œæ•…åº”è¯¥ä½¿ç”¨ä½è¿ç®—æ¥è§£å†³é—®é¢˜ï¼Œä½è¿ç®—è¿˜æ˜¯æ¯”è¾ƒå¿«çš„ã€‚åˆ©ç”¨å¼‚æˆ–è¿ç®—æ€§è´¨ï¼Œä¸¤ä¸ªç›¸åŒçš„æ•°å¼‚æˆ–çš„ç»“æœä¸º 0 public int singleNumber(int[] nums) { int ret = 0; for (int n : nums) ret = ret ^ n; return ret; } 268.æ‰¾å‡ºæ•°ç»„ä¸­ç¼ºå¤±çš„é‚£ä¸ªæ•°é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªåŒ…å« 0, 1, 2, â€¦, n ä¸­ n ä¸ªæ•°çš„åºåˆ—ï¼Œæ‰¾å‡º 0 .. n ä¸­æ²¡æœ‰å‡ºç°åœ¨åºåˆ—ä¸­çš„é‚£ä¸ªæ•°ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [3,0,1] è¾“å‡º: 2 ç¤ºä¾‹ 2: è¾“å…¥: [9,6,4,2,3,5,7,0,1] è¾“å‡º: 8è¯´æ˜:ä½ çš„ç®—æ³•åº”å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ä½ èƒ½å¦ä»…ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´æ¥å®ç°? è§£é¢˜æ€è·¯ï¼šè·Ÿä¸Šé¢˜è§£æ³•ç±»ä¼¼ã€‚ public int missingNumber(int[] nums) { int ret = 0; for (int i = 0; i &lt; nums.length; i++) { ret = ret ^ i ^ nums[i]; } return ret ^ nums.length; } 231.åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯ 2 çš„ n æ¬¡æ–¹é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªæ•´æ•°ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­å®ƒæ˜¯å¦æ˜¯ 2 çš„å¹‚æ¬¡æ–¹ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: 1 è¾“å‡º: true è§£é‡Š: 20 = 1 ç¤ºä¾‹ 2: è¾“å…¥: 16 è¾“å‡º: true è§£é‡Š: 24 = 16 ç¤ºä¾‹ 3: è¾“å…¥: 218 è¾“å‡º: false è§£é¢˜æ€è·¯ï¼š å¯ä»¥åˆ©ç”¨ 1000 &amp; 0111 == 0 è¿™ç§æ€§è´¨æ±‚è§£class Solution { public boolean isPowerOfTwo(int n) { int res = n &amp; (n - 1); return n > 0 &amp;&amp; res == 0; } } ä¹Ÿåˆ©ç”¨Java API Integer.bitCount() æ±‚è§£public boolean isPowerOfTwo(int n) { return n > 0 &amp;&amp; Integer.bitCount(n) == 1; } ##### [461ç»Ÿè®¡ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºæœ‰å¤šå°‘ä½ä¸åŒ](https://leetcode-cn.com/problems/hamming-distance/) ###### é¢˜ç›®æè¿°ï¼š ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„æ±‰æ˜è·ç¦»æŒ‡çš„æ˜¯è¿™ä¸¤ä¸ªæ•°å­—å¯¹åº”äºŒè¿›åˆ¶ä½ä¸åŒçš„ä½ç½®çš„æ•°ç›®ã€‚ ç»™å‡ºä¸¤ä¸ªæ•´æ•° x å’Œ yï¼Œè®¡ç®—å®ƒä»¬ä¹‹é—´çš„æ±‰æ˜è·ç¦»ã€‚ æ³¨æ„ï¼š 0 â‰¤ x, y &lt; 231.ç¤ºä¾‹: è¾“å…¥: x = 1, y = 4 è¾“å‡º: 2 è§£é‡Š:1 (0 0 0 1)4 (0 1 0 0) â†‘ â†‘ ä¸Šé¢çš„ç®­å¤´æŒ‡å‡ºäº†å¯¹åº”äºŒè¿›åˆ¶ä½ä¸åŒçš„ä½ç½®ã€‚ ###### è§£é¢˜æ€è·¯ï¼š 1. å¯ä»¥ä½¿ç”¨ z&amp;(z-1) å»é™¤ z ä½çº§è¡¨ç¤ºæœ€ä½çš„é‚£ä¸€ä½ã€‚ ~~~ java public int hammingDistance(int x, int y) { int z = x ^ y; int cnt = 0; while (z != 0) { z &amp;= (z - 1); cnt++; } return cnt; } ä¹Ÿå¯ä»¥æŒ‰ç…§å¸¸è§„æ€è·¯ ç»Ÿè®¡ 1 çš„ä¸ªæ•°class Solution { public int hammingDistance(int x, int y) { int num = x ^ y; int count = 0; String numStr = Integer.toBinaryString(num); for (char c : numStr.toCharArray()) { if (c == '1') { count++; } } return count; } } 371.å®ç°æ•´æ•°çš„åŠ æ³•é¢˜ç›®æè¿°ï¼šä¸ä½¿ç”¨è¿ç®—ç¬¦ + å’Œ - â€‹â€‹â€‹â€‹â€‹â€‹â€‹ï¼Œè®¡ç®—ä¸¤æ•´æ•° â€‹â€‹â€‹â€‹â€‹â€‹â€‹a ã€b â€‹â€‹â€‹â€‹â€‹â€‹â€‹ä¹‹å’Œã€‚ ç¤ºä¾‹ 1: è¾“å…¥: a = 1, b = 2 è¾“å‡º: 3 ç¤ºä¾‹ 2: è¾“å…¥: a = -2, b = 3 è¾“å‡º: 1è§£é¢˜æ€è·¯ï¼ša ^ b è¡¨ç¤ºæ²¡æœ‰è€ƒè™‘è¿›ä½çš„æƒ…å†µä¸‹ä¸¤æ•°çš„å’Œï¼Œ(a &amp; b) &lt;&lt; 1 å°±æ˜¯è¿›ä½ã€‚ class Solution { public int getSum(int a, int b) { while (b != 0) { int carry = a &amp; b; a = a ^ b; b = carry &lt;&lt; 1; } return a; } }","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/LeetCode/"}],"tags":[{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/ä½è¿ç®—/"}]},{"title":"æˆ‘æ‰€ç†è§£çš„ Dubbo","slug":"è¿˜ä¸ä¼šDubboï¼Ÿå¿«æ¥Pickè¿™ç¯‡","date":"2019-06-20T10:25:08.000Z","updated":"2019-09-30T14:13:02.000Z","comments":true,"path":"2019/06/20/huan-bu-hui-dubbo-kuai-lai-pick-zhe-pian/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/06/20/huan-bu-hui-dubbo-kuai-lai-pick-zhe-pian/","excerpt":"","text":"åœ¨å…¬å¸å®ä¹ è¿™æ®µæ—¶é—´ï¼Œè™½ç„¶çŸ¥é“å…¬å¸æ˜¯ä½¿ç”¨ Dubbo æ¥è°ƒç”¨æœåŠ¡çš„ï¼Œä½†æ˜¯æ²¡æœ‰æ·±å…¥ç†è§£Dubboçš„åŸç†ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Dubboï¼Œå› æ­¤é‡æ–°æ·±å…¥å­¦ä¹ äº† Dubboï¼Œæ€»ç»“ä¸‹ï¼š 1. å®˜æ–¹æ–‡æ¡£Dubboä¸­æ–‡å®˜æ–¹æ–‡æ¡£æ„Ÿè§‰æ— è®ºå­¦ä¹ ä»€ä¹ˆï¼Œçœ‹å®˜æ–¹æ–‡æ¡£æ€»æ˜¯æœ€æœ€æœ€æ·±å…¥å­¦ä¹ çŸ¥è¯†çš„ï¼Œå¦å¤–ï¼ŒDubboçš„Github åœ°å€ï¼šhttps://github.com/apache/incubator-dubbo ã€‚ 2.ä»€ä¹ˆæ˜¯DubboDubbo æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½ã€è½»é‡çº§çš„å¼€æºJava RPC æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šé¢å‘æ¥å£çš„è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œæ™ºèƒ½å®¹é”™å’Œè´Ÿè½½å‡è¡¡ï¼Œä»¥åŠæœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘ç°ã€‚ç®€å•æ¥è¯´ Dubbo æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ï¼Œè‡´åŠ›äºæä¾›é«˜æ€§èƒ½å’Œé€æ˜åŒ–çš„RPCè¿œç¨‹æœåŠ¡è°ƒç”¨æ–¹æ¡ˆï¼Œä»¥åŠSOAæœåŠ¡æ²»ç†æ–¹æ¡ˆã€‚RPCï¼ˆRemote Procedure Callï¼‰â€”è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œå®ƒæ˜¯ä¸€ç§é€šè¿‡ç½‘ç»œä»è¿œç¨‹è®¡ç®—æœºç¨‹åºä¸Šè¯·æ±‚æœåŠ¡ï¼Œè€Œä¸éœ€è¦äº†è§£åº•å±‚ç½‘ç»œæŠ€æœ¯çš„åè®®ã€‚æ¯”å¦‚ä¸¤ä¸ªä¸åŒçš„æœåŠ¡ Aã€B éƒ¨ç½²åœ¨ä¸¤å°ä¸åŒçš„æœºå™¨ä¸Šï¼Œé‚£ä¹ˆæœåŠ¡ A å¦‚æœæƒ³è¦è°ƒç”¨æœåŠ¡ B ä¸­çš„æŸä¸ªæ–¹æ³•è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿä½¿ç”¨ HTTPè¯·æ±‚ å½“ç„¶å¯ä»¥ï¼Œä½†æ˜¯å¯èƒ½ä¼šæ¯”è¾ƒæ…¢è€Œä¸”ä¸€äº›ä¼˜åŒ–åšçš„å¹¶ä¸å¥½ã€‚ RPC çš„å‡ºç°å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç°åœ¨æ˜ç™½äº†å®ä¹ å…¬å¸æœ‰äº›æ¥å£æ˜¯è°ƒç”¨å…¶ä»–å¹³å°çš„åŸå› ã€‚ 3.ä¸ºä»€ä¹ˆè¦ç”¨ Dubbo? æŠŠç³»ç»Ÿæ‹†åˆ†æˆå¾ˆå¤šçš„æœåŠ¡ï¼Œæ¯ä¸ªäººè´Ÿè´£ä¸€ä¸ªæœåŠ¡ï¼Œå¤§å®¶çš„ä»£ç éƒ½æ²¡æœ‰å†²çªï¼ŒæœåŠ¡å¯ä»¥è‡ªæ²»ï¼Œè‡ªå·±é€‰ç”¨ä»€ä¹ˆæŠ€æœ¯éƒ½å¯ä»¥ï¼Œæ¯æ¬¡å‘å¸ƒå¦‚æœå°±æ”¹åŠ¨ä¸€ä¸ªæœåŠ¡é‚£å°±ä¸Šçº¿ä¸€ä¸ªæœåŠ¡å¥½äº†ï¼Œä¸ç”¨æ‰€æœ‰äººä¸€èµ·è”è°ƒï¼Œæ¯æ¬¡å‘å¸ƒéƒ½æ˜¯å‡ åä¸‡è¡Œä»£ç ï¼Œç”šè‡³å‡ ç™¾ä¸‡è¡Œä»£ç äº†ã€‚å¯ä»¥å‚è€ƒwhy use dubbo ç°åœ¨è¶Šæ¥è¶Šå¤šé¡¹ç›®éƒ½æ˜¯é¢å‘æœåŠ¡ç¼–ç¨‹ï¼Œå³SOAï¼ŒæŠŠå·¥ç¨‹æŒ‰ç…§ä¸šåŠ¡é€»è¾‘æ‹†åˆ†æˆæœåŠ¡å±‚ã€è¡¨ç°å±‚ä¸¤ä¸ªå·¥ç¨‹ã€‚æœåŠ¡å±‚ä¸­åŒ…å«ä¸šåŠ¡é€»è¾‘ï¼Œåªéœ€è¦å¯¹å¤–æä¾›æœåŠ¡å³å¯ã€‚è¡¨ç°å±‚åªéœ€è¦å¤„ç†å’Œé¡µé¢çš„äº¤äº’ï¼Œä¸šåŠ¡é€»è¾‘éƒ½æ˜¯è°ƒç”¨æœåŠ¡å±‚çš„æœåŠ¡æ¥å®ç°ã€‚SOAæ¶æ„ä¸­æœ‰ä¸¤ä¸ªä¸»è¦è§’è‰²ï¼šæœåŠ¡æä¾›è€…ï¼ˆProviderï¼‰å’ŒæœåŠ¡ä½¿ç”¨è€…ï¼ˆConsumerï¼‰ã€‚ å¦‚æœä½ è¦å¼€å‘åˆ†å¸ƒå¼ç¨‹åºï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥åŸºäº HTTP æ¥å£è¿›è¡Œé€šä¿¡ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¦ç”¨ Dubboå‘¢ï¼Ÿ è´Ÿè½½å‡è¡¡â€”â€”åŒä¸€ä¸ªæœåŠ¡éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨æ—¶è¯¥è°ƒç”¨é‚£ä¸€å°æœºå™¨ä¸Šçš„æœåŠ¡ã€‚ æœåŠ¡è°ƒç”¨é“¾è·¯ç”Ÿæˆâ€”â€”éšç€ç³»ç»Ÿçš„å‘å±•ï¼ŒæœåŠ¡è¶Šæ¥è¶Šå¤šï¼ŒæœåŠ¡é—´ä¾èµ–å…³ç³»å˜å¾—é”™è¸ªå¤æ‚ï¼Œç”šè‡³åˆ†ä¸æ¸…å“ªä¸ªåº”ç”¨è¦åœ¨å“ªä¸ªåº”ç”¨ä¹‹å‰å¯åŠ¨ï¼Œæ¶æ„å¸ˆéƒ½ä¸èƒ½å®Œæ•´çš„æè¿°åº”ç”¨çš„æ¶æ„å…³ç³»ã€‚Dubbo å¯ä»¥ä¸ºæˆ‘ä»¬è§£å†³æœåŠ¡ä¹‹é—´äº’ç›¸æ˜¯å¦‚ä½•è°ƒç”¨çš„ã€‚ æœåŠ¡è®¿é—®å‹åŠ›ä»¥åŠæ—¶é•¿ç»Ÿè®¡ã€èµ„æºè°ƒåº¦å’Œæ²»ç†â€”â€”åŸºäºè®¿é—®å‹åŠ›å®æ—¶ç®¡ç†é›†ç¾¤å®¹é‡ï¼Œæé«˜é›†ç¾¤åˆ©ç”¨ç‡ã€‚ æœåŠ¡é™çº§â€”â€”æŸä¸ªæœåŠ¡æŒ‚æ‰ä¹‹åè°ƒç”¨å¤‡ç”¨æœåŠ¡ã€‚ 4. Dubboæ¶æ„å›¾å›¾ç‰‡æ¥è‡ªå®˜æ–¹æ–‡æ¡£ æœåŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨ï¼ŒåŠ è½½ï¼Œè¿è¡ŒæœåŠ¡æä¾›è€…ã€‚ æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ã€‚ æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ã€‚ æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œæ³¨å†Œä¸­å¿ƒå°†åŸºäºé•¿è¿æ¥æ¨é€ å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…ã€‚ æœåŠ¡æ¶ˆè´¹è€…ï¼Œä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼ŒåŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰ä¸€å°æä¾›è€…è¿›è¡Œè°ƒç”¨ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå†é€‰å¦ä¸€å°è°ƒç”¨ã€‚ æœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…ï¼Œåœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ï¼Œå®šæ—¶æ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒã€‚ 5. Dubboå·¥ä½œåŸç†åŠæµç¨‹å›¾ä¸­ä»ä¸‹è‡³ä¸Šåˆ†ä¸ºåå±‚ï¼Œå„å±‚å‡ä¸ºå•å‘ä¾èµ–ï¼Œå³è¾¹çš„é»‘è‰²ç®­å¤´ä»£è¡¨å±‚ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œæ¯ä¸€å±‚éƒ½å¯ä»¥å‰¥ç¦»ä¸Šå±‚è¢«å¤ç”¨ï¼Œå…¶ä¸­ï¼ŒService å’Œ Config å±‚ä¸º APIï¼Œå…¶å®ƒå„å±‚å‡ä¸º SPIã€‚ ç¬¬ä¸€å±‚ï¼šserviceå±‚ï¼Œæ¥å£å±‚ï¼Œç»™æœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…æ¥å®ç°çš„ ç¬¬äºŒå±‚ï¼šconfigå±‚ï¼Œé…ç½®å±‚ï¼Œä¸»è¦æ˜¯å¯¹dubboè¿›è¡Œå„ç§é…ç½®çš„ ç¬¬ä¸‰å±‚ï¼šproxyå±‚ï¼ŒæœåŠ¡æ¥å£é€æ˜ä»£ç†ï¼Œç”ŸæˆæœåŠ¡çš„å®¢æˆ·ç«¯ Stub å’ŒæœåŠ¡å™¨ç«¯ Skeleton ç¬¬å››å±‚ï¼šregistryå±‚ï¼ŒæœåŠ¡æ³¨å†Œå±‚ï¼Œè´Ÿè´£æœåŠ¡çš„æ³¨å†Œä¸å‘ç° ç¬¬äº”å±‚ï¼šclusterå±‚ï¼Œé›†ç¾¤å±‚ï¼Œå°è£…å¤šä¸ªæœåŠ¡æä¾›è€…çš„è·¯ç”±ä»¥åŠè´Ÿè½½å‡è¡¡ï¼Œå°†å¤šä¸ªå®ä¾‹ç»„åˆæˆä¸€ä¸ªæœåŠ¡ ç¬¬å…­å±‚ï¼šmonitorå±‚ï¼Œç›‘æ§å±‚ï¼Œå¯¹rpcæ¥å£çš„è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´è¿›è¡Œç›‘æ§ ç¬¬ä¸ƒå±‚ï¼šprotocolå±‚ï¼Œè¿œç¨‹è°ƒç”¨å±‚ï¼Œå°è£…rpcè°ƒç”¨ ç¬¬å…«å±‚ï¼šexchangeå±‚ï¼Œä¿¡æ¯äº¤æ¢å±‚ï¼Œå°è£…è¯·æ±‚å“åº”æ¨¡å¼ï¼ŒåŒæ­¥è½¬å¼‚æ­¥ ç¬¬ä¹å±‚ï¼štransportå±‚ï¼Œç½‘ç»œä¼ è¾“å±‚ï¼ŒæŠ½è±¡minaå’Œnettyä¸ºç»Ÿä¸€æ¥å£ ç¬¬åå±‚ï¼šserializeå±‚ï¼Œæ•°æ®åºåˆ—åŒ–å±‚ï¼Œç½‘ç»œä¼ è¾“éœ€è¦ å·¥ä½œæµç¨‹ï¼šç¬¬ä¸€æ­¥ï¼šprovider å‘æ³¨å†Œä¸­å¿ƒå»æ³¨å†Œç¬¬äºŒæ­¥ï¼šconsumer ä»æ³¨å†Œä¸­å¿ƒè®¢é˜…æœåŠ¡ï¼Œæ³¨å†Œä¸­å¿ƒä¼šé€šçŸ¥ consumer æ³¨å†Œå¥½çš„æœåŠ¡ç¬¬ä¸‰æ­¥ï¼šconsumer è°ƒç”¨ providerç¬¬å››æ­¥ï¼šconsumer å’Œ provider éƒ½å¼‚æ­¥é€šçŸ¥ç›‘æ§ä¸­å¿ƒ æ³¨å†Œä¸­å¿ƒæŒ‚äº†å¯ä»¥ç»§ç»­é€šä¿¡ï¼Œå› ä¸ºåˆšå¼€å§‹åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ¶ˆè´¹è€…ä¼šå°†æä¾›è€…çš„åœ°å€ç­‰ä¿¡æ¯æ‹‰å–åˆ°æœ¬åœ°ç¼“å­˜ï¼Œæ‰€ä»¥æ³¨å†Œä¸­å¿ƒæŒ‚äº†å¯ä»¥ç»§ç»­é€šä¿¡ã€‚ 6.Dubboçš„è´Ÿè½½å‡è¡¡ç­–ç•¥ random loadbalanceé»˜è®¤æƒ…å†µä¸‹ï¼Œdubbo æ˜¯ random load balance ï¼Œå³éšæœºè°ƒç”¨å®ç°è´Ÿè½½å‡è¡¡ï¼Œå¯ä»¥å¯¹ provider ä¸åŒå®ä¾‹è®¾ç½®ä¸åŒçš„æƒé‡ï¼Œä¼šæŒ‰ç…§æƒé‡æ¥è´Ÿè½½å‡è¡¡ï¼Œæƒé‡è¶Šå¤§åˆ†é…æµé‡è¶Šé«˜ï¼Œä¸€èˆ¬å°±ç”¨è¿™ä¸ªé»˜è®¤çš„å°±å¯ä»¥äº†ã€‚ roundrobin loadbalanceè¿™ä¸ªçš„è¯é»˜è®¤å°±æ˜¯å‡åŒ€åœ°å°†æµé‡æ‰“åˆ°å„ä¸ªæœºå™¨ä¸Šå»ï¼Œä½†æ˜¯å¦‚æœå„ä¸ªæœºå™¨çš„æ€§èƒ½ä¸ä¸€æ ·ï¼Œå®¹æ˜“å¯¼è‡´æ€§èƒ½å·®çš„æœºå™¨è´Ÿè½½è¿‡é«˜ã€‚æ‰€ä»¥æ­¤æ—¶éœ€è¦è°ƒæ•´æƒé‡ï¼Œè®©æ€§èƒ½å·®çš„æœºå™¨æ‰¿è½½æƒé‡å°ä¸€äº›ï¼Œæµé‡å°‘ä¸€äº›ã€‚ leastactive loadbalanceè¿™ä¸ªå°±æ˜¯è‡ªåŠ¨æ„ŸçŸ¥ä¸€ä¸‹ï¼Œå¦‚æœæŸä¸ªæœºå™¨æ€§èƒ½è¶Šå·®ï¼Œé‚£ä¹ˆæ¥æ”¶çš„è¯·æ±‚è¶Šå°‘ï¼Œè¶Šä¸æ´»è·ƒï¼Œæ­¤æ—¶å°±ä¼šç»™ä¸æ´»è·ƒçš„æ€§èƒ½å·®çš„æœºå™¨æ›´å°‘çš„è¯·æ±‚ã€‚ consistanthash loadbalanceä¸€è‡´æ€§ Hash ç®—æ³•ï¼Œç›¸åŒå‚æ•°çš„è¯·æ±‚ä¸€å®šåˆ†å‘åˆ°ä¸€ä¸ª provider ä¸Šå»ï¼Œprovider æŒ‚æ‰çš„æ—¶å€™ï¼Œä¼šåŸºäºè™šæ‹ŸèŠ‚ç‚¹å‡åŒ€åˆ†é…å‰©ä½™çš„æµé‡ï¼ŒæŠ–åŠ¨ä¸ä¼šå¤ªå¤§ã€‚å¦‚æœä½ éœ€è¦çš„ä¸æ˜¯éšæœºè´Ÿè½½å‡è¡¡ï¼Œæ˜¯è¦ä¸€ç±»è¯·æ±‚éƒ½åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£å°±èµ°è¿™ä¸ªä¸€è‡´æ€§ Hash ç­–ç•¥ã€‚ 7.Dubbo é›†ç¾¤å®¹é”™ç­–ç•¥ailover cluster æ¨¡å¼å¤±è´¥è‡ªåŠ¨åˆ‡æ¢ï¼Œè‡ªåŠ¨é‡è¯•å…¶ä»–æœºå™¨ï¼Œé»˜è®¤å°±æ˜¯è¿™ä¸ªï¼Œå¸¸è§äºè¯»æ“ä½œã€‚ï¼ˆå¤±è´¥é‡è¯•å…¶å®ƒæœºå™¨ï¼‰ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼é…ç½®é‡è¯•æ¬¡æ•°ï¼š &lt;dubbo:service retries=\"2\" /> æˆ–è€… &lt;dubbo:reference retries=\"2\" /> æˆ–è€… &lt;dubbo:reference> &lt;dubbo:method name=\"findFoo\" retries=\"2\" /> &lt;/dubbo:reference> failfast cluster æ¨¡å¼ä¸€æ¬¡è°ƒç”¨å¤±è´¥å°±ç«‹å³å¤±è´¥ï¼Œå¸¸è§äºéå¹‚ç­‰æ€§çš„å†™æ“ä½œï¼Œæ¯”å¦‚æ–°å¢ä¸€æ¡è®°å½•ï¼ˆè°ƒç”¨å¤±è´¥å°±ç«‹å³å¤±è´¥ï¼‰ failsafe cluster æ¨¡å¼å‡ºç°å¼‚å¸¸æ—¶å¿½ç•¥æ‰ï¼Œå¸¸ç”¨äºä¸é‡è¦çš„æ¥å£è°ƒç”¨ï¼Œæ¯”å¦‚è®°å½•æ—¥å¿—ã€‚ é…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š &lt;dubbo:service cluster=\"failsafe\" /> æˆ–è€… &lt;dubbo:reference cluster=\"failsafe\" /> failback cluster æ¨¡å¼å¤±è´¥äº†åå°è‡ªåŠ¨è®°å½•è¯·æ±‚ï¼Œç„¶åå®šæ—¶é‡å‘ï¼Œæ¯”è¾ƒé€‚åˆäºå†™æ¶ˆæ¯é˜Ÿåˆ—è¿™ç§ã€‚ forking cluster æ¨¡å¼å¹¶è¡Œè°ƒç”¨å¤šä¸ª providerï¼Œåªè¦ä¸€ä¸ªæˆåŠŸå°±ç«‹å³è¿”å›ã€‚å¸¸ç”¨äºå®æ—¶æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„è¯»æ“ä½œï¼Œä½†æ˜¯ä¼šæµªè´¹æ›´å¤šçš„æœåŠ¡èµ„æºï¼Œå¯é€šè¿‡ forks=â€2â€ æ¥è®¾ç½®æœ€å¤§å¹¶è¡Œæ•°ã€‚ broadcacst clusteré€ä¸ªè°ƒç”¨æ‰€æœ‰çš„ providerã€‚ä»»ä½•ä¸€ä¸ª provider å‡ºé”™åˆ™æŠ¥é”™ï¼ˆä»2.1.0 ç‰ˆæœ¬å¼€å§‹æ”¯æŒï¼‰ã€‚é€šå¸¸ç”¨äºé€šçŸ¥æ‰€æœ‰æä¾›è€…æ›´æ–°ç¼“å­˜æˆ–æ—¥å¿—ç­‰æœ¬åœ°èµ„æºä¿¡æ¯ã€‚ 8.zookeeperå®•æœºä¸dubboç›´è¿çš„æƒ…å†µzkç»å¸¸ä½œä¸ºDubbo çš„æ³¨å†Œä¸­å¿ƒï¼Œzkåé¢ä¹Ÿä¼šç»§ç»­æ·±å…¥å­¦ä¹ ã€‚ã€‚åœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œå‡å¦‚zookeeperæ³¨å†Œä¸­å¿ƒå®•æ‰ï¼Œä¸€æ®µæ—¶é—´å†…æœåŠ¡æ¶ˆè´¹æ–¹è¿˜æ˜¯èƒ½å¤Ÿè°ƒç”¨æä¾›æ–¹çš„æœåŠ¡çš„ï¼Œå®é™…ä¸Šå®ƒä½¿ç”¨çš„æœ¬åœ°ç¼“å­˜è¿›è¡Œé€šè®¯ï¼Œè¿™åªæ˜¯dubboå¥å£®æ€§çš„ä¸€ç§æç°ã€‚ dubboçš„å¥å£®æ€§è¡¨ç°ï¼š ç›‘æ§ä¸­å¿ƒå®•æ‰ä¸å½±å“ä½¿ç”¨ï¼Œåªæ˜¯ä¸¢å¤±éƒ¨åˆ†é‡‡æ ·æ•°æ® æ•°æ®åº“å®•æ‰åï¼Œæ³¨å†Œä¸­å¿ƒä»èƒ½é€šè¿‡ç¼“å­˜æä¾›æœåŠ¡åˆ—è¡¨æŸ¥è¯¢ï¼Œä½†ä¸èƒ½æ³¨å†Œæ–°æœåŠ¡ æ³¨å†Œä¸­å¿ƒå¯¹ç­‰é›†ç¾¤ï¼Œä»»æ„ä¸€å°å®•æ‰åï¼Œå°†è‡ªåŠ¨åˆ‡æ¢åˆ°å¦ä¸€å° æ³¨å†Œä¸­å¿ƒå…¨éƒ¨å®•æ‰åï¼ŒæœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä»èƒ½é€šè¿‡æœ¬åœ°ç¼“å­˜é€šè®¯ æœåŠ¡æä¾›è€…æ— çŠ¶æ€ï¼Œä»»æ„ä¸€å°å®•æ‰åï¼Œä¸å½±å“ä½¿ç”¨ æœåŠ¡æä¾›è€…å…¨éƒ¨å®•æ‰åï¼ŒæœåŠ¡æ¶ˆè´¹è€…åº”ç”¨å°†æ— æ³•ä½¿ç”¨ï¼Œå¹¶æ— é™æ¬¡é‡è¿ç­‰å¾…æœåŠ¡æä¾›è€…æ¢å¤ æ³¨å†Œä¸­å¿ƒè´Ÿè´£æœåŠ¡åœ°å€çš„æ³¨å†Œä¸æŸ¥æ‰¾ï¼Œç›¸å½“äºç›®å½•æœåŠ¡ï¼ŒæœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…åªåœ¨å¯åŠ¨æ—¶ä¸æ³¨å†Œä¸­å¿ƒäº¤äº’ï¼Œæ³¨å†Œä¸­å¿ƒä¸è½¬å‘è¯·æ±‚ï¼Œå‹åŠ›è¾ƒå°ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å®Œå…¨å¯ä»¥ç»•è¿‡æ³¨å†Œä¸­å¿ƒâ€”â€”é‡‡ç”¨ dubbo ç›´è¿ ï¼Œå³åœ¨æœåŠ¡æ¶ˆè´¹æ–¹é…ç½®æœåŠ¡æä¾›æ–¹çš„ä½ç½®ä¿¡æ¯ã€‚ &lt;dubbo:reference id=\"userService\" interface=\"com.zzt.malll.service.UserService\" url=\"dubbo://localhost:20880\" 9.å…¶ä»–é—®é¢˜ å¦‚ä½•åŸºäº dubbo è¿›è¡ŒæœåŠ¡æ²»ç†ã€æœåŠ¡é™çº§ã€å¤±è´¥é‡è¯•ä»¥åŠè¶…æ—¶é‡è¯•ï¼Ÿ å¦‚ä½•è‡ªå·±è®¾è®¡ä¸€ä¸ªç±»ä¼¼ Dubbo çš„ RPC æ¡†æ¶ï¼Ÿ dubbo çš„ spi æ€æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ ä»¥ä¸Šå°±æ˜¯æˆ‘å¯¹ Dubbo çš„å…¥é—¨æ€»ç»“ï¼Œå¤šæ€»ç»“ï¼Œå¤šå›æ¥çœ‹ï¼ŒçŸ¥è¯†æ‰ä¼šä¸€ç›´è®°å¾—ï¼Œä»¥åæœ‰æ—¶é—´æŠ½ç©ºç»§ç»­å†™åšå®¢hhhhhã€‚","categories":[{"name":"æ¡†æ¶","slug":"æ¡†æ¶","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/æ¡†æ¶/"}],"tags":[{"name":"Dubbo","slug":"Dubbo","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/Dubbo/"}]},{"title":"è®¡ç®—æœºç½‘ç»œçŸ¥è¯†æ€»ç»“","slug":"è®¡ç®—æœºç½‘ç»œå­¦ä¹ ç¬”è®°","date":"2019-06-12T10:25:08.000Z","updated":"2019-09-30T14:11:44.000Z","comments":true,"path":"2019/06/12/ji-suan-ji-wang-luo-xue-xi-bi-ji/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/06/12/ji-suan-ji-wang-luo-xue-xi-bi-ji/","excerpt":"","text":"æœ€è¿‘è¿™ä¸¤æ˜ŸæœŸæŠ½ç©ºæ¥çœ‹çœ‹è®¡ç®—æœºç½‘ç»œç›¸å…³çš„çŸ¥è¯†ï¼Œè™½ç„¶å¤§ä¸‰ä¸Šå­¦æœŸæœ‰å­¦è¿™é—¨è¯¾ï¼Œä½†æ˜¯å¾ˆå¿«å°±å¿˜äº†ï¼Œè®°å¿†ä¸æ˜¯å¾ˆæ·±ï¼Œç°åœ¨å†é‡æ¸©ä¸€ä¸‹ã€‚ è®¡ç®—æœºç½‘ç»œæ¦‚è¿°ï¼š é€šä¿¡ï¼šè®¡ç®—æœºé€šä¿¡æ˜¯è®¡ç®—æœºä¸­è¿›ç¨‹ï¼ˆå³è¿è¡Œç€çš„ç¨‹åºï¼‰ä¹‹é—´çš„é€šä¿¡ã€‚è®¡ç®—æœºç½‘ç»œé‡‡ç”¨çš„é€šä¿¡æ–¹å¼æ˜¯å®¢æˆ·-æœåŠ¡å™¨æ–¹å¼ï¼ˆC/Sæ–¹å¼ï¼‰å’Œå¯¹ç­‰è¿æ¥æ–¹å¼ï¼ˆP2Pæ–¹å¼ï¼‰ã€‚ åˆ†å±‚ï¼šåˆ†å±‚çš„æ–¹æ³•å¯ä»¥æ˜¯7å±‚ã€5å±‚ã€4å±‚ã€‚ï¼ˆäº†è§£æ¯å±‚ä»€ä¹ˆä½œç”¨ï¼‰ç‰©ç†å±‚ï¼š ç‰©ç†å±‚ç¡®ä¿åŸå§‹çš„æ•°æ®å¯åœ¨å„ç§ç‰©ç†åª’ä½“ä¸Šä¼ è¾“ï¼Œå³ä¼ è¾“æ•°æ®æ¯”ç‰¹æµã€‚ æ ¹æ®ä¿¡æ¯åœ¨ä¼ è¾“çº¿ä¸Šçš„ä¼ é€æ–¹å‘ï¼Œåˆ†ä¸ºä»¥ä¸‹ä¸‰ç§é€šä¿¡æ–¹å¼ï¼š å•å·¥é€šä¿¡ï¼šå•å‘ä¼ è¾“ åŠåŒå·¥é€šä¿¡ï¼šåŒå‘äº¤æ›¿ä¼ è¾“ å…¨åŒå·¥é€šä¿¡ï¼šåŒå‘åŒæ—¶ä¼ è¾“ æ•°æ®é“¾è·¯å±‚ å¸§ï¼šä¸€ä¸ªæ•°æ®é“¾è·¯å±‚çš„ä¼ è¾“å•å…ƒï¼Œç”±ä¸€ä¸ªæ•°æ®é“¾è·¯å±‚é¦–éƒ¨å’Œå…¶æºå¸¦çš„å°åŒ…æ‰€ç»„æˆåè®®æ•°æ®å•å…ƒã€‚ æ•°æ®é“¾è·¯å±‚ä½¿ç”¨çš„ä¿¡é“ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹ï¼š ç‚¹å¯¹ç‚¹ä¿¡é“ã€‚è¿™ç§ä¿¡é“ä½¿ç”¨ä¸€å¯¹ä¸€çš„ç‚¹å¯¹ç‚¹é€šä¿¡æ–¹å¼ã€‚ å¹¿æ’­ä¿¡é“ã€‚è¿™ç§ä¿¡é“ä½¿ç”¨ä¸€å¯¹å¤šçš„å¹¿æ’­é€šä¿¡æ–¹å¼ï¼Œå› æ­¤è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ã€‚å¹¿æ’­ä¿¡é“ä¸Šè¿æ¥çš„ä¸»æœºå¾ˆå¤šï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨ä¸“ç”¨çš„å…±äº«ä¿¡é“åè®®æ¥åè°ƒè¿™äº›ä¸»æœºçš„æ•°æ®å‘é€ã€‚ æ•°æ®é“¾è·¯å±‚åŠŸèƒ½ï¼š å°è£…æˆå¸§ é€æ˜ä¼ è¾“ å·®é”™æ£€æµ‹(å¾ªç¯å†—ä½™æ£€éªŒï¼ˆCRCï¼‰) MAC åœ°å€:MAC åœ°å€æ˜¯é“¾è·¯å±‚åœ°å€ï¼Œé•¿åº¦ä¸º 6 å­—èŠ‚ï¼ˆ48 ä½ï¼‰ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†ç½‘ç»œé€‚é…å™¨ï¼ˆç½‘å¡ï¼‰ã€‚ä¸€å°ä¸»æœºæ‹¥æœ‰å¤šå°‘ä¸ªç½‘ç»œé€‚é…å™¨å°±æœ‰å¤šå°‘ä¸ª MAC åœ°å€ã€‚ä¾‹å¦‚ç¬”è®°æœ¬ç”µè„‘æ™®éå­˜åœ¨æ— çº¿ç½‘ç»œé€‚é…å™¨å’Œæœ‰çº¿ç½‘ç»œé€‚é…å™¨ï¼Œå› æ­¤å°±æœ‰ä¸¤ä¸ª MAC åœ°å€ã€‚ ä»¥å¤ªç½‘ï¼šä»¥å¤ªç½‘é‡‡ç”¨çš„åè®®æ˜¯å…·æœ‰å†²çªæ£€æµ‹çš„è½½æ³¢ç›‘å¬å¤šç‚¹æ¥å…¥CSMA/CDã€‚åè®®çš„ç‰¹ç‚¹æ˜¯ï¼šå‘é€å‰å…ˆç›‘å¬ï¼Œè¾¹å‘é€è¾¹ç›‘å¬ï¼Œä¸€æ—¦å‘ç°æ€»çº¿ä¸Šå‡ºç°äº†ç¢°æ’ï¼Œå°±ç«‹å³åœæ­¢å‘é€ã€‚ç„¶åæŒ‰ç…§é€€é¿ç®—æ³•ç­‰å¾…ä¸€æ®µéšæœºæ—¶é—´åå†æ¬¡å‘é€ã€‚ äº¤æ¢æœºï¼šäº¤æ¢æœºå…·æœ‰è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œå­¦ä¹ çš„æ˜¯äº¤æ¢è¡¨çš„å†…å®¹ï¼Œäº¤æ¢è¡¨ä¸­å­˜å‚¨ç€ MAC åœ°å€åˆ°æ¥å£çš„æ˜ å°„ã€‚æ­£æ˜¯ç”±äºè¿™ç§è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œå› æ­¤äº¤æ¢æœºæ˜¯ä¸€ç§å³æ’å³ç”¨è®¾å¤‡ï¼Œä¸éœ€è¦ç½‘ç»œç®¡ç†å‘˜æ‰‹åŠ¨é…ç½®äº¤æ¢è¡¨å†…å®¹ã€‚ ç½‘ç»œå±‚ IPæ•°æ®æŠ¥ï¼š IPåœ°å€ï¼šIP åœ°å€å°±æ˜¯ç»™æ¯ä¸ªè¿æ¥åœ¨äº’è”ç½‘ä¸Šçš„ä¸»æœºï¼ˆæˆ–è·¯ç”±å™¨ï¼‰åˆ†é…ä¸€ä¸ªåœ¨å…¨ä¸–ç•ŒèŒƒå›´æ˜¯å”¯ä¸€çš„ 32 ä½çš„æ ‡è¯†ç¬¦ï¼Œç”¨æ¥å®šä½ç½‘ç»œä¸­çš„è®¡ç®—æœºå’Œç½‘ç»œè®¾å¤‡ï¼›IP åœ°å€ç”¨ 32 ä½äºŒè¿›åˆ¶æ¥è¡¨ç¤ºï¼Œ ä¹Ÿå°±æ˜¯32 æ¯”ç‰¹ï¼Œ æ¢ç®—æˆå­—èŠ‚ï¼Œ å°± æ˜¯ 4 ä¸ªå­—èŠ‚ã€‚ä¾‹å¦‚ä¸€ä¸ªé‡‡ç”¨äºŒè¿›åˆ¶å½¢å¼çš„ IP åœ°å€æ˜¯10101100 00010000 00011110 00111000 ï¼Œ è¿™ä¹ˆé•¿çš„åœ°å€ï¼Œ å¤„ç†èµ·æ¥å¤ªè´¹åŠ²ã€‚äºæ˜¯è¿™äº›ä½è¢«åˆ†å‰²ä¸º4 ä¸ªéƒ¨åˆ†ï¼Œ æ¯ä¸€éƒ¨åˆ†8ä½äºŒè¿›åˆ¶ï¼Œ ä¸­é—´ä½¿ç”¨ç¬¦å· .åˆ†å¼€ ï¼Œä¸Šé¢çš„ IP åœ°å€å¯ä»¥è¡¨ç¤ºä¸º172.16.30.56ã€‚ å­ç½‘æ©ç å­ç½‘æ©ç  ( Subnet Mask) åˆå«ç½‘ç»œæ©ç ã€åœ°å€æ©ç ï¼Œå®ƒæ˜¯ä¸€ç§ç”¨æ¥æŒ‡æ˜ä¸€ä¸ªIPåœ°å€çš„å“ªäº›ä½æ ‡è¯†çš„æ˜¯ä¸»æœºæ‰€åœ¨çš„å­ç½‘ä»¥åŠå“ªäº›ä½æ ‡è¯†çš„æ˜¯ä¸»æœºçš„ä½æ©ç ã€‚å­ç½‘æ©ç åªæœ‰ä¸€ä¸ªä½œç”¨ï¼Œå°±æ˜¯å°†æŸä¸ªIP åœ°å€åˆ’åˆ†æˆç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€ä¸¤éƒ¨åˆ†ã€‚ä¾‹å¦‚: è®¡ç®—æœºçš„ IP åœ°å€æ˜¯ 131.107.41.6, å­ç½‘æ©ç æ˜¯ 255.255.0.0, è®¡ç®—æœºæ‰€åœ¨ç½‘æ®µæ˜¯131.107.0.0ã€‚è¯¥è®¡ç®—æœºå’Œè¿œç¨‹è®¡ç®—æœºé€šä¿¡ ï¼Œç›®æ ‡ IP åœ°å€åªè¦å‰é¢ä¸¤éƒ¨åˆ†æ˜¯ 131.107å°±è®¤ä¸ºå’Œ è¯¥è®¡ç®—æœºåœ¨åŒä¸€ä¸ªç½‘æ®µï¼› IPåœ°å€åˆ†ç±»ï¼š Aç±»åœ°å€: ç½‘ç»œåœ°å€æœ€é«˜ä½æ˜¯ 0 çš„åœ°å€ä¸º A ç±»åœ°å€ Bç±»åœ°å€: ç½‘ç»œåœ°å€æœ€é«˜ä½æ˜¯10çš„åœ°å€ä¸ºBç±»åœ°å€ Cç±»åœ°å€: ç½‘ç»œåœ°å€æœ€é«˜ä½æ˜¯110çš„åœ°å€ä¸ºCç±»åœ°å€ CIDR(æ— åˆ†ç±»åŸŸé—´è·¯ç”±é€‰æ‹©):æ— åˆ†ç±»åŸŸé—´è·¯ç”±é€‰æ‹©CIDRæ˜¯è§£å†³ç›®å‰IPåœ°å€ç´§ç¼ºçš„ä¸€ä¸ªå¥½åŠæ³•ã€‚CIDRè®°æ³•æŠŠIPåœ°å€åé¢åŠ ä¸Šæ–œçº¿â€œ/â€ï¼Œç„¶åå†™ä¸Šå‰ç¼€æ‰€æ‰€å çš„ä½æ•°ã€‚å‰ç¼€ï¼ˆæˆ–ç½‘ç»œå‰ç¼€ç”¨æ¥æŒ‡æ˜ç½‘ç»œï¼‰ï¼Œå‰ç¼€åé¢çš„éƒ¨åˆ†æ˜¯åç¼€ï¼Œç”¨æ¥æŒ‡æ˜ä¸»æœºã€‚CIDRæŠŠå‰ç¼€éƒ½ç›¸åŒçš„è¿ç»­çš„IPåœ°å€ç»„æˆä¸€ä¸ªâ€œCIDRåœ°å€å—â€ï¼ŒIPåœ°å€åˆ†é…éƒ½ä»¥CIDRåœ°å€å—ä¸ºå•ä½ã€‚ å­ç½‘åˆ’åˆ†ï¼šå­ç½‘åˆ’åˆ†å°±æ˜¯å°†ä¸€ä¸ªç½‘æ®µç­‰åˆ†æˆå¤šä¸ªç½‘æ®µï¼Œä¹Ÿå°±æ˜¯ç­‰åˆ†æˆå¤šä¸ªå­ç½‘ã€‚éœ€è¦ï¼šç¡®å®šå­ç½‘æ©ç çš„é•¿åº¦ï¼›ç¡®å®šå­ç½‘ä¸­ç¬¬ä¸€ä¸ªå¯ç”¨çš„IPåœ°å€å’Œæœ€åä¸€ä¸ªå¯ç”¨çš„IPåœ°å€ï¼› ç½‘ç»œå±‚çš„å››ä¸ªä¸»è¦çš„åè®®: ARPï¼ˆåœ°å€è§£æåè®®ï¼‰ï¼šç½‘ç»œå±‚å®ç°ä¸»æœºä¹‹é—´çš„é€šä¿¡ï¼Œè€Œé“¾è·¯å±‚å®ç°å…·ä½“æ¯æ®µé“¾è·¯ä¹‹é—´çš„é€šä¿¡ã€‚å› æ­¤åœ¨é€šä¿¡è¿‡ç¨‹ä¸­ï¼ŒIP æ•°æ®æŠ¥çš„æºåœ°å€å’Œç›®çš„åœ°å€å§‹ç»ˆä¸å˜ï¼Œè€Œ MAC åœ°å€éšç€é“¾è·¯çš„æ”¹å˜è€Œæ”¹å˜ã€‚ARPå®Œæˆä¸»æœºæˆ–è·¯ç”±å™¨IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„ã€‚ ICMPï¼ˆç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®® ï¼‰ï¼šICMP æ˜¯ä¸ºäº†æ›´æœ‰æ•ˆåœ°è½¬å‘ IP æ•°æ®æŠ¥å’Œæé«˜äº¤ä»˜æˆåŠŸçš„æœºä¼š(æ¡¥æ¢ä½œç”¨)ã€‚å®ƒå°è£…åœ¨ IP æ•°æ®æŠ¥ä¸­ï¼Œä½†æ˜¯ä¸å±äºé«˜å±‚åè®®ã€‚ä¸»è¦æœ‰ä¸¤ç§: ICMPå·®é”™æŠ¥æ–‡ã€ICMPè¯¢é—®æŠ¥æ–‡ã€‚Ping æ˜¯ ICMP çš„ä¸€ä¸ªé‡è¦åº”ç”¨ï¼Œä¸»è¦ç”¨æ¥æµ‹è¯•ä¸¤å°ä¸»æœºä¹‹é—´çš„è¿é€šæ€§ã€‚Ping çš„åŸç†æ˜¯é€šè¿‡å‘ç›®çš„ä¸»æœºå‘é€ ICMP Echo è¯·æ±‚æŠ¥æ–‡ï¼Œç›®çš„ä¸»æœºæ”¶åˆ°ä¹‹åä¼šå‘é€ Echo å›ç­”æŠ¥æ–‡ã€‚Ping ä¼šæ ¹æ®æ—¶é—´å’ŒæˆåŠŸå“åº”çš„æ¬¡æ•°ä¼°ç®—å‡ºæ•°æ®åŒ…å¾€è¿”æ—¶é—´ä»¥åŠä¸¢åŒ…ç‡ã€‚ ä¼ è¾“å±‚ç½‘ç»œå±‚æ˜¯ä¸ºä¸»æœºä¹‹é—´æä¾›é€»è¾‘é€šä¿¡ï¼Œè€Œè¿è¾“å±‚ä¸ºåº”ç”¨è¿›ç¨‹ä¹‹é—´æä¾›ç«¯åˆ°ç«¯çš„é€»è¾‘é€šä¿¡ã€‚ UDPUDPåœ¨ä¼ é€æ•°æ®ä¹‹å‰ä¸éœ€è¦å…ˆå»ºç«‹è¿æ¥ï¼Œè¿œåœ°ä¸»æœºåœ¨æ”¶åˆ°UDPæŠ¥æ–‡åï¼Œä¸éœ€è¦ç»™å‡ºä»»ä½•ç¡®è®¤ã€‚è™½ç„¶UDPä¸æä¾›å¯é äº¤ä»˜ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹UDPç¡®æ˜¯ä¸€ç§æœ€æœ‰æ•ˆçš„å·¥ä½œæ–¹å¼ã€‚UDPçš„ä¸»è¦ç‰¹ç‚¹ï¼šâ‘ æ— è¿æ¥â‘¡å°½æœ€å¤§åŠªåŠ›äº¤ä»˜â‘¢é¢å‘æŠ¥æ–‡â‘£æ— æ‹¥å¡æ§åˆ¶â‘¤æ”¯æŒä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡â‘¥é¦–éƒ¨å¼€é”€å°ï¼ˆåªæœ‰å››ä¸ªå­—æ®µï¼šæºç«¯å£ï¼Œç›®çš„ç«¯å£ï¼Œé•¿åº¦å’Œæ£€éªŒå’Œï¼‰ TCPTCPæä¾›é¢å‘è¿æ¥çš„æœåŠ¡ã€‚åœ¨ä¼ é€æ•°æ®ä¹‹å‰å¿…é¡»å…ˆå»ºç«‹è¿æ¥ï¼Œæ•°æ®ä¼ é€ç»“æŸåè¦é‡Šæ”¾è¿æ¥ã€‚TCPä¸æä¾›å¹¿æ’­æˆ–å¤šæ’­æœåŠ¡ã€‚ç”±äºTCPè¦æä¾›å¯é çš„ï¼Œé¢å‘è¿æ¥çš„ä¼ è¾“æœåŠ¡ï¼Œè¿™ä¸€éš¾ä»¥é¿å…å¢åŠ äº†è®¸å¤šå¼€é”€ï¼Œå¦‚ç¡®è®¤ï¼Œæµé‡æ§åˆ¶ï¼Œè®¡æ—¶å™¨ä»¥åŠè¿æ¥ç®¡ç†ç­‰ã€‚è¿™ä¸ä»…ä½¿åè®®æ•°æ®å•å…ƒçš„é¦–éƒ¨å¢å¤§å¾ˆå¤šï¼Œè¿˜è¦å ç”¨è®¸å¤šå¤„ç†æœºèµ„æºã€‚TCPçš„ä¸»è¦ç‰¹ç‚¹æ˜¯ï¼šâ‘ é¢å‘è¿æ¥â‘¡æ¯ä¸€æ¡TCPè¿æ¥åªèƒ½æ˜¯ä¸€å¯¹ä¸€çš„â‘¢æä¾›å¯é äº¤ä»˜â‘£æä¾›å…¨åŒå·¥é€šä¿¡â‘¤é¢å‘å­—èŠ‚æµ TCP ä¸‰æ¬¡æ¡æ‰‹ä¸‰æ¬¡æ¡æ‰‹åŸå› ã€ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼ˆå¯å‚è€ƒcycå’ŒJavaGuideç›¸å…³åšå®¢ï¼‰ TCP å››æ¬¡æŒ¥æ‰‹ TCP åè®®å¦‚ä½•ä¿è¯å¯é ä¼ è¾“ è¶…æ—¶é‡ä¼  æµé‡æ§åˆ¶ æ‹¥å¡æ§åˆ¶ ARQåè®® ARQåè®®åœæ­¢ç­‰å¾…åè®®æ˜¯ä¸ºäº†å®ç°å¯é ä¼ è¾“çš„ï¼Œå®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚åœ¨æ”¶åˆ°ç¡®è®¤åå†å‘ä¸‹ä¸€ä¸ªåˆ†ç»„ã€‚ TCP æ»‘åŠ¨çª—å£å‘é€çª—å£é‡Œé¢çš„åºå·è¡¨ç¤ºå…è®¸å‘é€çš„åºå·ã€‚å‘é€çª—å£åæ²¿çš„åé¢éƒ¨åˆ†è¡¨ç¤ºå·²å‘é€ä¸”å·²æ”¶åˆ°ç¡®è®¤ï¼Œè€Œå‘é€çª—å£å‰æ²¿çš„å‰é¢éƒ¨åˆ†è¡¨ç¤ºä¸æ™•ä¸å‘é€ã€‚å‘é€çª—å£åæ²¿çš„å˜åŒ–æƒ…å†µæœ‰ä¸¤ç§å¯èƒ½ï¼Œå³ä¸åŠ¨ï¼ˆæ²¡æœ‰æ”¶åˆ°æ–°çš„ç¡®è®¤ï¼‰å’Œå‰ç§»ï¼ˆæ”¶åˆ°äº†æ–°çš„ç¡®è®¤ï¼‰ã€‚å‘é€çª—å£çš„å‰æ²¿é€šå¸¸æ˜¯ä¸æ–­å‘å‰ç§»åŠ¨çš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬æ€»æ˜¯å¸Œæœ›æ•°æ®ä¼ è¾“æ›´å¿«ä¸€äº›ã€‚ä½†å¦‚æœå‘é€æ–¹æŠŠæ•°æ®å‘é€çš„è¿‡å¿«ï¼Œæ¥æ”¶æ–¹å°±å¯èƒ½æ¥ä¸åŠæ¥æ”¶ï¼Œè¿™å°±ä¼šé€ æˆæ•°æ®çš„ä¸¢å¤±ã€‚ TCP æµé‡æ§åˆ¶æ‰€è°“æµé‡æ§åˆ¶å°±æ˜¯è®©å‘é€å‘é€é€Ÿç‡ä¸è¦è¿‡å¿«ï¼Œè®©æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶ã€‚åˆ©ç”¨æ»‘åŠ¨çª—å£æœºåˆ¶å°±å¯ä»¥å®æ–½æµé‡æ§åˆ¶ã€‚æ¥æ”¶æ–¹å‘é€çš„ç¡®è®¤æŠ¥æ–‡ä¸­çš„çª—å£å­—æ®µå¯ä»¥ç”¨æ¥æ§åˆ¶å‘é€æ–¹çª—å£å¤§å°ï¼Œä»è€Œå½±å“å‘é€æ–¹çš„å‘é€é€Ÿç‡ã€‚å°†çª—å£å­—æ®µè®¾ç½®ä¸º 0ï¼Œåˆ™å‘é€æ–¹ä¸èƒ½å‘é€æ•°æ®ã€‚ TCP æ‹¥å¡æ§åˆ¶åœ¨æŸæ®µæ—¶é—´ï¼Œè‹¥å¯¹ç½‘ç»œä¸­æŸä¸€èµ„æºçš„éœ€æ±‚è¶…è¿‡äº†è¯¥èµ„æºæ‰€èƒ½æä¾›çš„å¯ç”¨éƒ¨åˆ†ï¼Œç½‘ç»œçš„æ€§èƒ½å°±è¦å˜åã€‚è¿™ç§æƒ…å†µå°±å«æ‹¥å¡ã€‚TCPçš„æ‹¥å¡æ§åˆ¶é‡‡ç”¨äº†å››ç§ç®—æ³•ï¼Œå³ æ…¢å¼€å§‹ ã€ æ‹¥å¡é¿å… ã€å¿«é‡ä¼  å’Œ å¿«æ¢å¤ æ…¢å¼€å§‹ï¼šç”±å°åˆ°å¤§é€æ¸å¢å¤§å‘é€çª—å£ï¼Œä¹Ÿå°±æ˜¯ç”±å°åˆ°å¤§é€æ¸å¢å¤§æ‹¥å¡çª—å£æ•°å€¼ã€‚cwndåˆå§‹å€¼ä¸º1ï¼Œæ¯ç»è¿‡ä¸€ä¸ªä¼ æ’­è½®æ¬¡ï¼ŒcwndåŠ å€ã€‚ æ‹¥å¡é¿å…ï¼šè®©æ‹¥å¡çª—å£cwndç¼“æ…¢å¢å¤§ï¼Œå³æ¯ç»è¿‡ä¸€ä¸ªå¾€è¿”æ—¶é—´RTTå°±æŠŠå‘é€æ”¾çš„cwndåŠ 1. å¿«é‡ä¼ ä¸å¿«æ¢å¤ï¼šèƒ½å¿«é€Ÿæ¢å¤ä¸¢å¤±çš„æ•°æ®åŒ…ã€‚æ²¡æœ‰ FRRï¼Œå¦‚æœæ•°æ®åŒ…ä¸¢å¤±äº†ï¼ŒTCP å°†ä¼šä½¿ç”¨å®šæ—¶å™¨æ¥è¦æ±‚ä¼ è¾“æš‚åœã€‚åœ¨æš‚åœçš„è¿™æ®µæ—¶é—´å†…ï¼Œæ²¡æœ‰æ–°çš„æˆ–å¤åˆ¶çš„æ•°æ®åŒ…è¢«å‘é€ã€‚æœ‰äº† FRRï¼Œå¦‚æœæ¥æ”¶æœºæ¥æ”¶åˆ°ä¸€ä¸ªä¸æŒ‰é¡ºåºçš„æ•°æ®æ®µï¼Œå®ƒä¼šç«‹å³ç»™å‘é€æœºå‘é€ä¸€ä¸ªé‡å¤ç¡®è®¤ã€‚å¦‚æœå‘é€æœºæ¥æ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤ï¼Œå®ƒä¼šå‡å®šç¡®è®¤ä»¶æŒ‡å‡ºçš„æ•°æ®æ®µä¸¢å¤±äº†ï¼Œå¹¶ç«‹å³é‡ä¼ è¿™äº›ä¸¢å¤±çš„æ•°æ®æ®µã€‚æœ‰äº† FRRï¼Œå°±ä¸ä¼šå› ä¸ºé‡ä¼ æ—¶è¦æ±‚çš„æš‚åœè¢«è€½è¯¯ã€‚ å½“æœ‰å•ç‹¬çš„æ•°æ®åŒ…ä¸¢å¤±æ—¶ï¼Œå¿«é€Ÿé‡ä¼ å’Œæ¢å¤ï¼ˆFRRï¼‰èƒ½æœ€æœ‰æ•ˆåœ°å·¥ä½œã€‚å½“æœ‰å¤šä¸ªæ•°æ®ä¿¡æ¯åŒ…åœ¨æŸä¸€æ®µå¾ˆçŸ­çš„æ—¶é—´å†…ä¸¢å¤±æ—¶ï¼Œå®ƒåˆ™ä¸èƒ½å¾ˆæœ‰æ•ˆåœ°å·¥ä½œã€‚ åº”ç”¨å±‚ DNSï¼š DNS æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œæä¾›äº†ä¸»æœºåå’Œ IP åœ°å€ä¹‹é—´ç›¸äº’è½¬æ¢çš„æœåŠ¡ã€‚è¿™é‡Œçš„åˆ†å¸ƒå¼æ•°æ®åº“æ˜¯æŒ‡ï¼Œæ¯ä¸ªç«™ç‚¹åªä¿ç•™å®ƒè‡ªå·±çš„é‚£éƒ¨åˆ†æ•°æ®ã€‚DNS å¯ä»¥ä½¿ç”¨ UDP æˆ–è€… TCP è¿›è¡Œä¼ è¾“ï¼Œä½¿ç”¨çš„ç«¯å£å·éƒ½ä¸º 53ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ DNS ä½¿ç”¨ UDP è¿›è¡Œä¼ è¾“ï¼Œè¿™å°±è¦æ±‚åŸŸåè§£æå™¨å’ŒåŸŸåæœåŠ¡å™¨éƒ½å¿…é¡»è‡ªå·±å¤„ç†è¶…æ—¶å’Œé‡ä¼ ä»è€Œä¿è¯å¯é æ€§ã€‚åœ¨ä¸‹é¢ä¸¤ç§æƒ…å†µä¸‹ä¼šä½¿ç”¨ TCP è¿›è¡Œä¼ è¾“ï¼š å¦‚æœè¿”å›çš„å“åº”è¶…è¿‡çš„ 512 å­—èŠ‚ï¼ˆUDP æœ€å¤§åªæ”¯æŒ 512 å­—èŠ‚çš„æ•°æ®ï¼‰ã€‚ åŒºåŸŸä¼ é€ï¼ˆåŒºåŸŸä¼ é€æ˜¯ä¸»åŸŸåæœåŠ¡å™¨å‘è¾…åŠ©åŸŸåæœåŠ¡å™¨ä¼ é€å˜åŒ–çš„é‚£éƒ¨åˆ†æ•°æ®ï¼‰ã€‚åŸŸåå…·æœ‰å±‚æ¬¡ç»“æ„ï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡ä¸ºï¼šæ ¹åŸŸåã€é¡¶çº§åŸŸåã€äºŒçº§åŸŸåã€‚ FTPï¼š FTPæ˜¯åŸºäºå®¢æˆ·/æœåŠ¡å™¨(C/S) çš„åè®®ã€‚ç”¨æˆ·é€šè¿‡ä¸€ä¸ªå®¢æˆ·æœºç¨‹åºè¿æ¥è‡³åœ¨è¿œç¨‹è®¡ç®—æœºä¸Šè¿è¡Œçš„æœåŠ¡å™¨ç¨‹åºã€‚ä¾ç…§ FTP åè®®æä¾›æœåŠ¡ï¼Œè¿›è¡Œæ–‡ä»¶ä¼ é€çš„è®¡ç®—æœºå°±æ˜¯ FTP æœåŠ¡å™¨ã€‚ è¿æ¥FTPæœåŠ¡å™¨ï¼Œéµå¾ªFTPåè®®ä¸æœåŠ¡å™¨ä¼ é€æ–‡ä»¶çš„ç”µè„‘å°±æ˜¯FTPå®¢æˆ·ç«¯ã€‚ FTP ä½¿ç”¨ TCP è¿›è¡Œè¿æ¥ï¼Œå®ƒéœ€è¦ä¸¤ä¸ªè¿æ¥æ¥ä¼ é€ä¸€ä¸ªæ–‡ä»¶ï¼š æ§åˆ¶è¿æ¥ï¼šæœåŠ¡å™¨æ‰“å¼€ç«¯å£å· 21 ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œå®¢æˆ·ç«¯ä¸»åŠ¨å»ºç«‹è¿æ¥åï¼Œä½¿ç”¨è¿™ä¸ªè¿æ¥å°†å®¢æˆ·ç«¯çš„å‘½ä»¤ä¼ é€ç»™æœåŠ¡å™¨ï¼Œå¹¶ä¼ å›æœåŠ¡å™¨çš„åº”ç­”ã€‚æ•°æ®è¿æ¥ï¼šç”¨æ¥ä¼ é€ä¸€ä¸ªæ–‡ä»¶æ•°æ®ã€‚ ç”µå­é‚®ä»¶ï¼šç”µå­é‚®ä»¶æŠŠé‚®ä»¶å‘é€åˆ°æ”¶ä»¶äººä½¿ç”¨çš„é‚®ä»¶æœåŠ¡å™¨ï¼Œå¹¶æ”¾åœ¨å…¶ä¸­çš„æ”¶ä»¶äººé‚®ç®±ä¸­ï¼Œæ”¶ä»¶äººå¯éšæ—¶ä¸Šç½‘åˆ°è‡ªå·±ä½¿ç”¨çš„é‚®ä»¶æœåŠ¡å™¨è¯»å–ï¼Œç›¸å½“äºç”µå­é‚®ç®±ã€‚ ä¸€ä¸ªç”µå­é‚®ä»¶ç³»ç»Ÿæœ‰ä¸‰ä¸ªé‡è¦ç»„æˆæ„ä»¶ï¼šç”¨æˆ·ä»£ç†ã€é‚®ä»¶æœåŠ¡å™¨ã€é‚®ä»¶åè®®ï¼ˆåŒ…æ‹¬é‚®ä»¶å‘é€åè®®ï¼Œå¦‚SMTPï¼Œå’Œé‚®ä»¶è¯»å–åè®®ï¼Œå¦‚POP3å’ŒIMAPï¼‰ã€‚ç”¨æˆ·ä»£ç†å’Œé‚®ä»¶æœåŠ¡å™¨éƒ½è¦è¿è¡Œè¿™äº›åè®®ã€‚ é‚®ä»¶åè®®åŒ…å«å‘é€åè®®å’Œè¯»å–åè®®ï¼Œå‘é€åè®®å¸¸ç”¨ SMTPï¼Œè¯»å–åè®®å¸¸ç”¨ POP3 å’Œ IMAPã€‚ HTTPé•¿è¿æ¥ çŸ­è¿æ¥ï¼š åœ¨HTTP/1.0ä¸­é»˜è®¤ä½¿ç”¨çŸ­è¿æ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ¯è¿›è¡Œä¸€æ¬¡HTTPæ“ä½œï¼Œå°±å»ºç«‹ä¸€æ¬¡è¿æ¥ï¼Œä»»åŠ¡ç»“æŸå°±ä¸­æ–­è¿æ¥ã€‚å½“å®¢æˆ·ç«¯æµè§ˆå™¨è®¿é—®çš„æŸä¸ªHTMLæˆ–å…¶ä»–ç±»å‹çš„Webé¡µä¸­åŒ…å«æœ‰å…¶ä»–çš„Webèµ„æºï¼ˆå¦‚JavaScriptæ–‡ä»¶ã€å›¾åƒæ–‡ä»¶ã€CSSæ–‡ä»¶ç­‰ï¼‰ï¼Œæ¯é‡åˆ°è¿™æ ·ä¸€ä¸ªWebèµ„æºï¼Œæµè§ˆå™¨å°±ä¼šé‡æ–°å»ºç«‹ä¸€ä¸ªHTTPä¼šè¯ã€‚ è€Œä»HTTP/1.1èµ·ï¼Œé»˜è®¤ä½¿ç”¨é•¿è¿æ¥ï¼Œç”¨ä»¥ä¿æŒè¿æ¥ç‰¹æ€§ã€‚ä½¿ç”¨é•¿è¿æ¥çš„HTTPåè®®ï¼Œä¼šåœ¨å“åº”å¤´åŠ å…¥è¿™è¡Œä»£ç ï¼š Connection:keep-aliveåœ¨ä½¿ç”¨é•¿è¿æ¥çš„æƒ…å†µä¸‹ï¼Œå½“ä¸€ä¸ªç½‘é¡µæ‰“å¼€å®Œæˆåï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ç”¨äºä¼ è¾“HTTPæ•°æ®çš„TCPè¿æ¥ä¸ä¼šå…³é—­ï¼Œå®¢æˆ·ç«¯å†æ¬¡è®¿é—®è¿™ä¸ªæœåŠ¡å™¨æ—¶ï¼Œä¼šç»§ç»­ä½¿ç”¨è¿™ä¸€æ¡å·²ç»å»ºç«‹çš„è¿æ¥ã€‚Keep-Aliveä¸ä¼šæ°¸ä¹…ä¿æŒè¿æ¥ï¼Œå®ƒæœ‰ä¸€ä¸ªä¿æŒæ—¶é—´ï¼Œå¯ä»¥åœ¨ä¸åŒçš„æœåŠ¡å™¨è½¯ä»¶ï¼ˆå¦‚Apacheï¼‰ä¸­è®¾å®šè¿™ä¸ªæ—¶é—´ã€‚å®ç°é•¿è¿æ¥éœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æ”¯æŒé•¿è¿æ¥ã€‚ HTTPåè®®çš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥ï¼Œå®è´¨ä¸Šæ˜¯TCPåè®®çš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥ã€‚ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥urlåœ°å€ åˆ° æ˜¾ç¤ºä¸»é¡µçš„è¿‡ç¨‹ï¼š DNSè§£æ TCPè¿æ¥ å‘é€HTTPè¯·æ±‚ æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å›HTTPæŠ¥æ–‡ æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢ è¿æ¥ç»“æŸ åœ¨å®ä¹ çš„è¯¾ä½™æ—¶é—´ï¼ŒèŠ±äº†ä¸¤å‘¨æ—¶é—´æ€»ç®—çœ‹å®Œäº†è®¡ç®—æœºç½‘ç»œï¼Œæ·±æœ‰ä½“ä¼šï¼Œå›å¤´è¿˜å¾—å¤šçœ‹çœ‹ï¼Œå…å¾—é—å¿˜ï¼Œæ¨èå‡ ä¸ªå¤§ä½¬çš„åšå®¢ï¼Œæ€»ç»“çš„å¾ˆè¯¦ç»†ï¼Œå¤ä¹ å¯å‚è€ƒï¼š CyC JavaGuideâ€”è®¡ç®—æœºç½‘ç»œ ZXBlog","categories":[{"name":"è®¡ç®—æœºåŸºç¡€","slug":"è®¡ç®—æœºåŸºç¡€","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/è®¡ç®—æœºåŸºç¡€/"}],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/è®¡ç®—æœºç½‘ç»œ/"}]},{"title":"LeetCodeä¸­æœ‰å…³å“ˆå¸Œè¡¨é—®é¢˜","slug":"LeetCodeä¸­æœ‰å…³å“ˆå¸Œè¡¨é—®é¢˜","date":"2019-06-02T10:25:08.000Z","updated":"2019-09-30T14:10:20.000Z","comments":true,"path":"2019/06/02/leetcode-zhong-you-guan-ha-xi-biao-wen-ti/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/06/02/leetcode-zhong-you-guan-ha-xi-biao-wen-ti/","excerpt":"","text":"å¯¹LeetCodeä¸­å‡ é“å…³äºå“ˆå¸Œè¡¨é—®é¢˜è¿›è¡Œæ€»ç»“ï¼š 1.ä¸¤æ•°ä¹‹å’Œé¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚ ç»™å®š nums = [2, 7, 11, 15], target = 9 å› ä¸º nums[0] + nums[1] = 2 + 7 = 9 æ‰€ä»¥è¿”å› [0, 1]è§£é¢˜æ€è·¯ï¼šç»å…¸çš„LeetCodeç¬¬ä¸€é¢˜ï¼Œåˆšåˆ·LeetCodeæ—¶å¼€å§‹åˆ·çš„ç¬¬ä¸€é“!!ï¼Œåˆšå¼€å§‹æ—¶ç”¨ä¸¤ä¸ªforå¾ªç¯æš´åŠ›è§£å†³ï¼Œæ—¶é—´å¤æ‚åº¦å¤§ï¼Œè¿™æ¬¡ç”¨å“ˆå¸Œè¡¨ï¼Œä¸€æ¬¡éå†å³å¯å®Œæˆï¼Œé€Ÿåº¦å’Œç©ºé—´éƒ½æ¯”è¾ƒå¥½ã€‚ä½¿ç”¨HashMapå­˜å‚¨æ•°ç»„å…ƒç´ å’Œç´¢å¼•ï¼Œç„¶åè¿›è¡Œéå†åˆ¤æ–­mapä¸­æ˜¯å¦å­˜åœ¨target-nums[i]ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™è¿”å›å°±æ˜¯ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œåˆ™å¾€mapæ·»åŠ ç›¸åº”çš„é”®å€¼ã€‚æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(N)ã€‚ class Solution { public int[] twoSum(int[] nums, int target) { HashMap&lt;Integer,Integer> map = new HashMap&lt;>(); for (int i = 0; i &lt;nums.length; i++) { if (map.containsKey(target - nums[i])){ return new int[]{map.get(target - nums[i]),i}; } else { map.put(nums[i],i); } } return new int[]{}; } } 217. å­˜åœ¨é‡å¤å…ƒç´ é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ ã€‚ å¦‚æœä»»ä½•å€¼åœ¨æ•°ç»„ä¸­å‡ºç°è‡³å°‘ä¸¤æ¬¡ï¼Œå‡½æ•°è¿”å› trueã€‚å¦‚æœæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ç›¸åŒï¼Œåˆ™è¿”å› falseã€‚ è¾“å…¥: [1,1,1,3,3,4,3,2,4,2] è¾“å‡º: true è¾“å…¥: [1,2,3,4] è¾“å‡º: falseè§£é¢˜æ€è·¯ï¼šæ–¹æ³•ä¸€ï¼šåˆ©ç”¨Seté‡Œé¢åŒ…å«çš„å…ƒç´ ä¸é‡å¤çš„æ€§è´¨æ¥è§£é¢˜ã€‚æ—¶é—´å¤æ‚åº¦ï¼šOï¼ˆNï¼‰ï¼Œç©ºé—´å¤æ‚åº¦ï¼šOï¼ˆNï¼‰ class Solution { public boolean containsDuplicate(int[] nums) { Set&lt;Integer> set = new HashSet&lt;>(); for (int num : nums) { set.add(num); } return set.size() &lt; nums.length; } } æ–¹æ³•äºŒï¼šå¯ä»¥å…ˆå¯¹å…¶è¿›è¡Œæ’åºï¼Œç„¶åå†åˆ¤æ–­ï¼Œè¿™æ ·æ—¶é—´å’Œç©ºé—´éƒ½ç¨å¾®å¿«ç‚¹æ—¶é—´å¤æ‚åº¦ï¼šOï¼ˆN lg Nï¼‰ï¼Œå†…å­˜ï¼šOï¼ˆ1ï¼‰ class Solution { public boolean containsDuplicate(int[] nums) { Arrays.sort(nums); for(int i = 0; i &lt; nums.length - 1; i++) { if (nums[i] == nums[i+1]) { return true; } } return false; } } 594. æœ€é•¿å’Œè°å­åºåˆ—é¢˜ç›®æè¿°ï¼šå’Œè°æ•°ç»„æ˜¯æŒ‡ä¸€ä¸ªæ•°ç»„é‡Œå…ƒç´ çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ä¹‹é—´çš„å·®åˆ«æ­£å¥½æ˜¯1ã€‚ ç°åœ¨ï¼Œç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œä½ éœ€è¦åœ¨æ‰€æœ‰å¯èƒ½çš„å­åºåˆ—ä¸­æ‰¾åˆ°æœ€é•¿çš„å’Œè°å­åºåˆ—çš„é•¿åº¦ã€‚ è¾“å…¥: [1,3,2,2,5,2,3,7] è¾“å‡º: 5 åŸå› : æœ€é•¿çš„å’Œè°æ•°ç»„æ˜¯ï¼š[3,2,2,2,3].è§£é¢˜æ€è·¯ï¼šåˆ©ç”¨map APIä¸­çš„ getOrDefault æ–¹æ³•å¯¹æ¯ä¸ªæ•°å­—å…ˆè¿›è¡Œé¢‘ç‡ç»Ÿè®¡ï¼Œç„¶åå†ç”¨ keySet éå†mapï¼Œè‹¥åŒ…å«i + 1çš„è¯ï¼Œåˆ™æœ‰å’Œè°å­åºåˆ—ã€‚è¦æŒæ¡mapä¸­å¯¹è¿™ä¸‰ä¸ªæ–¹æ³•çš„è¿ç”¨ã€‚ boolean containsKey(Object key) Set keySet() default V getOrDefault(Object key,V defaultValue) è‹¥å­˜åœ¨keyï¼Œåˆ™è¿”å›map.get(key)çš„å€¼ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›defaultValue çš„å€¼ã€‚class Solution { public int findLHS(int[] nums) { Map&lt;Integer,Integer> map = new HashMap&lt;>(); for (int i : nums) { map.put(i,map.getOrDefault(i,0)+1); //ç»Ÿè®¡æ¯ä¸ªæ•°å­—å‡ºç°æ¬¡æ•° } int longest = 0; for (int i : map.keySet()) { if (map.containsKey(i+1)) { //å¦‚æœæœ‰å’Œè°å­åºåˆ— longest = Math.max(longest,map.get(i+1) + map.get(i)); } } return longest; } } å…³äºå“ˆå¸Œè¿™ç±»é¢˜ç›®ï¼Œè¦å¤šç†Ÿæ‚‰HashMap å’Œ HashSet çš„APIï¼Œç†Ÿæ‚‰å„ç§æ–¹æ³•çš„è¿ç”¨ã€‚ä¹Ÿè¦æ³¨æ„æœ‰äº›æ–¹æ³•æ˜¯æœ‰åŒºåˆ«çš„ï¼Œæ¯”å¦‚ Setä¸­çš„contains() å’Œ Map ä¸­çš„ containKeys(); SET å¸¸ç”¨APIï¼šMap å¸¸ç”¨APIï¼š","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/LeetCode/"}],"tags":[{"name":"å“ˆå¸Œè¡¨","slug":"å“ˆå¸Œè¡¨","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/å“ˆå¸Œè¡¨/"}]},{"title":"è¿›ç¨‹è°ƒåº¦ã€åŒæ­¥ã€é€šä¿¡","slug":"è®¡ç®—æœºæ“ä½œç³»ç»Ÿå­¦ä¹ ï¼ˆäºŒï¼‰è¿›ç¨‹çš„è°ƒåº¦ã€åŒæ­¥ã€é€šä¿¡ã€æ­»é”","date":"2019-05-21T10:25:08.000Z","updated":"2019-09-30T13:59:14.000Z","comments":true,"path":"2019/05/21/ji-suan-ji-cao-zuo-xi-tong-xue-xi-er-jin-cheng-de-diao-du-tong-bu-tong-xin-si-suo/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/05/21/ji-suan-ji-cao-zuo-xi-tong-xue-xi-er-jin-cheng-de-diao-du-tong-bu-tong-xin-si-suo/","excerpt":"","text":"è¿›ç¨‹çš„è°ƒåº¦ã€åŒæ­¥ã€é€šä¿¡è¿›ç¨‹çš„ç»„æˆ PCB(è¿›ç¨‹æ§åˆ¶å—): ä¸ºäº†æè¿°æ§åˆ¶è¿›ç¨‹çš„è¿è¡Œï¼Œç³»ç»Ÿä¸­å­˜æ”¾è¿›ç¨‹çš„ç®¡ç†å’Œæ§åˆ¶ä¿¡æ¯çš„æ•°æ®ç»“æ„ç§°ä¸ºè¿›ç¨‹æ§åˆ¶å—ï¼ˆProcess Control Blockï¼‰ã€‚å®ƒæ˜¯è¿›ç¨‹å®ä½“çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯æ“ä½œç³»ç»Ÿä¸­æœ€é‡è¦çš„è®°å½•æ€§æ•°æ®ç»“æ„ã€‚å®ƒæ˜¯è¿›ç¨‹ç®¡ç†å’Œæ§åˆ¶çš„æœ€é‡è¦çš„æ•°æ®ç»“æ„ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹å‡æœ‰ä¸€ä¸ªPCBï¼Œåœ¨åˆ›å»ºè¿›ç¨‹æ—¶ï¼Œå»ºç«‹PCBï¼Œä¼´éšè¿›ç¨‹è¿è¡Œçš„å…¨è¿‡ç¨‹ï¼Œç›´åˆ°è¿›ç¨‹æ’¤æ¶ˆè€Œæ’¤æ¶ˆã€‚PCBæ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡è¯†ï¼Œæ‰€è°“çš„åˆ›å»ºè¿›ç¨‹å’Œæ’¤é”€è¿›ç¨‹ï¼Œéƒ½æ˜¯æŒ‡å¯¹ PCB çš„æ“ä½œã€‚ ç¨‹åºæ®µ: å­˜æ”¾æ‰§è¡Œçš„ä»£ç ï¼› æ•°æ®æ®µ: å­˜æ”¾ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­å¤„ç†çš„å„ç§æ•°æ®ï¼› è¿›ç¨‹çš„ç‰¹å¾ åŠ¨æ€æ€§ï¼šè¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼ŒåŠ¨æ€äº§ç”Ÿã€å˜åŒ–å’Œç­äº¡çš„ã€‚ å¹¶å‘æ€§ï¼šå†…å­˜ä¸­å„è¿›ç¨‹å¯å¹¶å‘æ‰§è¡Œã€‚ ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…ã€è°ƒåº¦çš„ç‹¬ç«‹å•ä½ã€‚ å¼‚æ­¥æ€§ï¼šä¸ªè¿›ç¨‹ä»¥ä¸å¯é¢„çŸ¥é€Ÿåº¦å‘å‰æ¨è¿›ï¼Œå¯¼è‡´è¿è¡Œç»“æœçš„ä¸ç¡®å®šæ€§ã€‚ ç»“æ„æ€§ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªPCBï¼Œè¿›ç¨‹ç”±PCBã€ç¨‹åºæ®µã€æ•°æ®æ®µç»„æˆã€‚ è¿›ç¨‹çš„çŠ¶æ€ä¸è½¬æ¢è¿›ç¨‹ä¸‰ç§åŸºæœ¬çŠ¶æ€ï¼š è¿è¡Œï¼šå æœ‰CPUï¼Œå¹¶åœ¨CPUä¸Šè¿è¡Œ å°±ç»ªï¼šå·²ç»å…·å¤‡è¿è¡Œæ¡ä»¶ï¼Œä½†æ˜¯æ²¡æœ‰ç©ºé—²CPU é˜»å¡ï¼šå› ç­‰å¾…æŸä¸€äº‹ä»¶è€Œæš‚æ—¶ä¸èƒ½è¿è¡Œæ³¨æ„ï¼š åªæœ‰å°±ç»ªæ€å’Œè¿è¡Œæ€å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œå…¶å®ƒçš„éƒ½æ˜¯å•å‘è½¬æ¢ã€‚å°±ç»ªçŠ¶æ€çš„è¿›ç¨‹é€šè¿‡è°ƒåº¦ç®—æ³•ä»è€Œè·å¾— CPU æ—¶é—´ï¼Œè½¬ä¸ºè¿è¡ŒçŠ¶æ€ï¼› è€Œè¿è¡ŒçŠ¶æ€çš„è¿›ç¨‹ï¼Œåœ¨åˆ†é…ç»™å®ƒçš„ CPU æ—¶é—´ç‰‡ç”¨å®Œä¹‹åå°±ä¼šè½¬ä¸ºå°±ç»ªçŠ¶æ€ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡è°ƒåº¦ã€‚é˜»å¡çŠ¶æ€æ˜¯ç¼ºå°‘éœ€è¦çš„èµ„æºä»è€Œç”±è¿è¡ŒçŠ¶æ€è½¬æ¢è€Œæ¥ï¼Œä½†æ˜¯è¯¥èµ„æºä¸åŒ…æ‹¬ CPU æ—¶é—´ï¼Œç¼ºå°‘ CPU æ—¶é—´ä¼šä»è¿è¡Œæ€è½¬æ¢ä¸ºå°±ç»ªæ€ï¼› è¿›ç¨‹åªèƒ½è‡ªå·±é˜»å¡è‡ªå·±ï¼Œå› ä¸ºåªæœ‰è¿›ç¨‹è‡ªèº«æ‰çŸ¥é“ä½•æ—¶éœ€è¦ç­‰å¾…æŸç§äº‹ä»¶çš„å‘ç”Ÿï¼› çº¿ç¨‹æ¦‚å¿µï¼šQQ å’Œæµè§ˆå™¨æ˜¯ä¸¤ä¸ªè¿›ç¨‹ï¼Œæµè§ˆå™¨è¿›ç¨‹é‡Œé¢æœ‰å¾ˆå¤šçº¿ç¨‹ï¼Œçº¿ç¨‹çš„å¹¶å‘æ‰§è¡Œä½¿å¾—åœ¨æµè§ˆå™¨å¯ä»¥æ‰“å¼€ä¸€ä¸ªçª—å£åç»§ç»­å“åº”å…¶ä»–äº‹ä»¶ï¼ŒQQå¯ä»¥åŒæ—¶å‘ä¿¡æ¯å’Œä¸Šä¼ æ–‡ä»¶ã€‚ å®ç°æ–¹å¼ï¼š ç”¨æˆ·çº§çº¿ç¨‹æŠŠæ•´ä¸ªçº¿ç¨‹åŒ…æ”¾åœ¨ç”¨æˆ·ç©ºé—´ä¸­ï¼Œå†…æ ¸å¯¹çº¿ç¨‹åŒ…ä¸€æ— æ‰€çŸ¥ï¼Œçº¿ç¨‹åˆ‡æ¢å¯ä»¥åœ¨ç”¨æˆ·æ€ä¸‹ç›´æ¥å®Œæˆï¼Œæ— éœ€æ“ä½œç³»ç»Ÿå¹²é¢„ã€‚åœ¨ç”¨æˆ·çœ‹æ¥ï¼Œæ˜¯æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œä»å†…æ ¸è§’åº¦è€ƒè™‘ï¼Œæ„è¯†ä¸åˆ°çº¿ç¨‹å­˜åœ¨ã€‚ä¼˜ç‚¹ï¼šç”¨æˆ·çº¿ç¨‹åŒ…å¯ä»¥åœ¨ä¸æ”¯æŒçº¿ç¨‹çš„æ“ä½œç³»ç»Ÿä¸Šå®ç°ã€‚ å†…æ ¸çº§çº¿ç¨‹å†…æ ¸çº§çº¿ç¨‹çš„ç®¡ç†å·¥ä½œç”±æ“ä½œç³»ç»Ÿå†…æ ¸å®Œæˆã€‚çº¿ç¨‹è°ƒåº¦ã€åˆ‡æ¢ç­‰å·¥ä½œéƒ½ç”±å†…æ ¸è´Ÿè´£ï¼Œå› æ­¤ï¼Œå†…æ ¸çº§çº¿ç¨‹çš„åˆ‡æ¢éœ€è¦åœ¨æ ¸å¿ƒæ€æ‰èƒ½å®Œæˆã€‚ä¼˜ç‚¹ï¼šå†…æ ¸çº¿ç¨‹ä¸éœ€è¦ä»»ä½•æ–°çš„ã€éé˜»å¡ç³»ç»Ÿè°ƒç”¨ï¼Œå¦‚æœæŸä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹å¼•èµ·äº†é¡µé¢æ•…éšœï¼Œå†…æ ¸å¯ä»¥å¾ˆæ–¹ä¾¿æ£€æŸ¥è¯¥è¿›ç¨‹æ˜¯å¦æœ‰ä»»ä½•å…¶ä»–å¯è¿è¡Œçš„çº¿ç¨‹ã€‚ç¼ºç‚¹ï¼šç³»ç»Ÿè°ƒç”¨ä»£ä»·æ¯”è¾ƒå¤§ã€‚ ä¸¤è€…æ··åˆåœ¨åŒæ—¶æ”¯æŒç”¨æˆ·çº§çº¿ç¨‹å’Œå†…æ ¸çº§çº¿ç¨‹çš„ç³»ç»Ÿä¸­ï¼Œé‡‡ç”¨ä¸¤è€…ç»„åˆçš„æ–¹å¼ï¼Œå°†nä¸ªç”¨æˆ·çº§çº¿ç¨‹æ˜ å°„åˆ°mä¸ªå†…æ ¸çº§çº¿ç¨‹ä¸Š(n &gt;=m)ï¼Œå¤§å¤§æé«˜äº†çµæ´»åº¦ã€‚åœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œå†…æ ¸åªè¯†åˆ«å†…æ ¸çº§çº¿ç¨‹ï¼Œå¹¶å¯¹å…¶è¿›è¡Œè°ƒåº¦ï¼Œå…¶ä¸­ä¸€äº›å†…æ ¸çº§çº¿ç¨‹ä¼šè¢«å¤šä¸ªç”¨æˆ·çº§çº¿ç¨‹å¤šè·¯å¤ç”¨ï¼Œæ¯ä¸ªå†…æ ¸çº§çº¿ç¨‹æœ‰ä¸€ä¸ªå¯ä»¥è½®æµä½¿ç”¨çš„ç”¨æˆ·åŠçº¿ç¨‹é›†åˆã€‚ è¿›ç¨‹ä¸çº¿ç¨‹çš„å¼‚åŒä¸€ä¸ªçº¿ç¨‹åªèƒ½å±äºä¸€ä¸ªè¿›ç¨‹ï¼Œä½†ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œå®ƒä»¬å…±äº«è¿›ç¨‹èµ„æºã€‚ æ‹¥æœ‰èµ„æº: è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œä½†æ˜¯çº¿ç¨‹ä¸æ‹¥æœ‰èµ„æºï¼Œçº¿ç¨‹å¯ä»¥è®¿é—®éš¶å±è¿›ç¨‹çš„èµ„æºï¼› è°ƒåº¦: çº¿ç¨‹æ˜¯ç‹¬ç«‹è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œåœ¨åŒä¸€è¿›ç¨‹ä¸­ï¼Œçº¿ç¨‹çš„åˆ‡æ¢ä¸ä¼šå¼•èµ·è¿›ç¨‹åˆ‡æ¢ï¼Œä»ä¸€ä¸ªè¿›ç¨‹å†…çš„çº¿ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹æ—¶ï¼Œä¼šå¼•èµ·è¿›ç¨‹åˆ‡æ¢ã€‚ ç³»ç»Ÿå¼€é”€: ç”±äºåˆ›å»ºæˆ–æ’¤é”€è¿›ç¨‹æ—¶ï¼Œç³»ç»Ÿéƒ½è¦ä¸ºä¹‹åˆ†é…æˆ–å›æ”¶èµ„æºï¼Œå¦‚å†…å­˜ç©ºé—´ã€I/O è®¾å¤‡ç­‰ï¼Œæ‰€ä»˜å‡ºçš„å¼€é”€è¿œå¤§äºåˆ›å»ºæˆ–æ’¤é”€çº¿ç¨‹æ—¶çš„å¼€é”€ã€‚ç±»ä¼¼åœ°ï¼Œåœ¨è¿›è¡Œè¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œæ¶‰åŠå½“å‰æ‰§è¡Œè¿›ç¨‹ CPU ç¯å¢ƒçš„ä¿å­˜åŠæ–°è°ƒåº¦è¿›ç¨‹ CPU ç¯å¢ƒçš„è®¾ç½®ï¼Œè€Œçº¿ç¨‹åˆ‡æ¢æ—¶åªéœ€ä¿å­˜å’Œè®¾ç½®å°‘é‡å¯„å­˜å™¨å†…å®¹ï¼Œå¼€é”€å¾ˆå°ã€‚ é€šä¿¡: è¿›ç¨‹é—´é€šä¿¡ (IPC) éœ€è¦è¿›ç¨‹åŒæ­¥å’Œäº’æ–¥æ‰‹æ®µçš„è¾…åŠ©ï¼Œä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚è€Œçº¿ç¨‹é—´å¯ä»¥é€šè¿‡ç›´æ¥è¯»/å†™åŒä¸€è¿›ç¨‹ä¸­çš„æ•°æ®æ®µï¼ˆå¦‚å…¨å±€å˜é‡ï¼‰æ¥è¿›è¡Œé€šä¿¡ã€‚ è¿›ç¨‹è°ƒåº¦ç®—æ³•æ¦‚å¿µï¼šæ“ä½œç³»ç»Ÿç®¡ç†äº†ç³»ç»Ÿçš„æœ‰é™èµ„æºï¼Œå½“æœ‰å¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹åŒæ—¶ç«äº‰CPUæ—¶ï¼Œå› ä¸ºèµ„æºçš„æœ‰é™æ€§ï¼Œå¿…é¡»æŒ‰ç…§ä¸€å®šçš„åŸåˆ™é€‰æ‹©è¿›ç¨‹ï¼ˆè¯·æ±‚ï¼‰æ¥å ç”¨èµ„æºï¼Œåªè¦æœ‰ä¸¤ä¸ªæˆ–æ›´å¤šçš„è¿›ç¨‹å¤„äºå°±ç»ªçŠ¶æ€ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªCPUå¯ç”¨ï¼Œé‚£ä¹ˆå°±å¿…é¡»é€‰æ‹©ä¸‹ä¸€ä¸ªè¦è¿è¡Œçš„è¿›ç¨‹ï¼Œè¿™å°±æ˜¯è°ƒåº¦ï¼Œå…¶ä¸­ä½¿ç”¨çš„ç®—æ³•å°±æ˜¯è°ƒåº¦ç®—æ³•ã€‚ ä¸åŒç¯å¢ƒçš„è°ƒåº¦ç®—æ³•ç›®æ ‡ä¸åŒï¼Œå› æ­¤éœ€è¦é’ˆå¯¹ä¸åŒç¯å¢ƒæ¥è®¨è®ºè°ƒåº¦ç®—æ³•ã€‚ 1. æ‰¹å¤„ç†ç³»ç»Ÿæ‰¹å¤„ç†ç³»ç»Ÿæ²¡æœ‰å¤ªå¤šçš„ç”¨æˆ·æ“ä½œï¼Œåœ¨è¯¥ç³»ç»Ÿä¸­ï¼Œè°ƒåº¦ç®—æ³•ç›®æ ‡æ˜¯ä¿è¯ååé‡å’Œå‘¨è½¬æ—¶é—´ï¼ˆä»æäº¤åˆ°ç»ˆæ­¢çš„æ—¶é—´ï¼‰ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§ï¼š å…ˆæ¥å…ˆæœåŠ¡ first-come first-serverdï¼ˆFCFSï¼‰å³æŒ‰ç…§è¯·æ±‚çš„é¡ºåºè¿›è¡Œè°ƒåº¦ï¼ŒéæŠ¢å å¼ã€‚åˆ†æï¼šæœ‰åˆ©äºé•¿ä½œä¸šï¼Œä½†ä¸åˆ©äºçŸ­ä½œä¸šï¼Œå› ä¸ºçŸ­ä½œä¸šå¿…é¡»ä¸€ç›´ç­‰å¾…å‰é¢çš„é•¿ä½œä¸šæ‰§è¡Œå®Œæ¯•æ‰èƒ½æ‰§è¡Œï¼Œè€Œé•¿ä½œä¸šåˆéœ€è¦æ‰§è¡Œå¾ˆé•¿æ—¶é—´ï¼Œé€ æˆäº†çŸ­ä½œä¸šç­‰å¾…æ—¶é—´è¿‡é•¿ã€‚ çŸ­ä½œä¸šä¼˜å…ˆ shortest job firstï¼ˆSJFï¼‰æŒ‰ä¼°è®¡è¿è¡Œæ—¶é—´æœ€çŸ­çš„é¡ºåºè¿›è¡Œè°ƒåº¦ï¼ŒéæŠ¢å å¼ã€‚åˆ†æï¼šé•¿ä½œä¸šæœ‰å¯èƒ½ä¼šé¥¿æ­»ï¼Œå¤„äºä¸€ç›´ç­‰å¾…çŸ­ä½œä¸šæ‰§è¡Œå®Œæ¯•çš„çŠ¶æ€ã€‚å› ä¸ºå¦‚æœä¸€ç›´æœ‰çŸ­ä½œä¸šåˆ°æ¥ï¼Œé‚£ä¹ˆé•¿ä½œä¸šæ°¸è¿œå¾—ä¸åˆ°è°ƒåº¦ã€‚ æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆ shortest remaining time nextï¼ˆSRTNï¼‰æŒ‰ä¼°è®¡å‰©ä½™æ—¶é—´æœ€çŸ­çš„é¡ºåºè¿›è¡Œè°ƒåº¦ï¼ŒæŠ¢å å¼ã€‚ 2. äº¤äº’å¼ç³»ç»Ÿäº¤äº’å¼ç³»ç»Ÿæœ‰å¤§é‡çš„ç”¨æˆ·äº¤äº’æ“ä½œï¼Œåœ¨è¯¥ç³»ç»Ÿä¸­è°ƒåº¦ç®—æ³•çš„ç›®æ ‡æ˜¯å¿«é€Ÿåœ°è¿›è¡Œå“åº”ã€‚ æ—¶é—´ç‰‡è½®è½¬ å°†æ‰€æœ‰å°±ç»ªè¿›ç¨‹æŒ‰ FCFS çš„åŸåˆ™æ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¯æ¬¡è°ƒåº¦æ—¶ï¼ŒæŠŠ CPU æ—¶é—´åˆ†é…ç»™é˜Ÿé¦–è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹å¯ä»¥æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡ã€‚å½“æ—¶é—´ç‰‡ç”¨å®Œæ—¶ï¼Œç”±è®¡æ—¶å™¨å‘å‡ºæ—¶é’Ÿä¸­æ–­ï¼Œè°ƒåº¦ç¨‹åºä¾¿åœæ­¢è¯¥è¿›ç¨‹çš„æ‰§è¡Œï¼Œå¹¶å°†å®ƒé€å¾€å°±ç»ªé˜Ÿåˆ—çš„æœ«å°¾ï¼ŒåŒæ—¶ç»§ç»­æŠŠ CPU æ—¶é—´åˆ†é…ç»™é˜Ÿé¦–çš„è¿›ç¨‹ï¼ŒæŠ¢å å¼ã€‚ æ—¶é—´ç‰‡è½®è½¬ç®—æ³•çš„æ•ˆç‡å’Œæ—¶é—´ç‰‡çš„å¤§å°æœ‰å¾ˆå¤§å…³ç³»ï¼š å› ä¸ºè¿›ç¨‹åˆ‡æ¢éƒ½è¦ä¿å­˜è¿›ç¨‹çš„ä¿¡æ¯å¹¶ä¸”è½½å…¥æ–°è¿›ç¨‹çš„ä¿¡æ¯ï¼Œå¦‚æœæ—¶é—´ç‰‡å¤ªå°ï¼Œä¼šå¯¼è‡´è¿›ç¨‹åˆ‡æ¢å¾—å¤ªé¢‘ç¹ï¼Œåœ¨è¿›ç¨‹åˆ‡æ¢ä¸Šå°±ä¼šèŠ±è¿‡å¤šæ—¶é—´ã€‚è€Œå¦‚æœæ—¶é—´ç‰‡è¿‡é•¿ï¼Œé‚£ä¹ˆå®æ—¶æ€§å°±ä¸èƒ½å¾—åˆ°ä¿è¯ã€‚ ä¼˜å…ˆçº§è°ƒåº¦ ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€ä¸ªä¼˜å…ˆçº§ï¼ŒæŒ‰ä¼˜å…ˆçº§è¿›è¡Œè°ƒåº¦ï¼ŒæŠ¢å å¼å’ŒéæŠ¢å å¼éƒ½æœ‰ã€‚ ä¸ºäº†é˜²æ­¢ä½ä¼˜å…ˆçº§çš„è¿›ç¨‹æ°¸è¿œç­‰ä¸åˆ°è°ƒåº¦ï¼Œå¯ä»¥éšç€æ—¶é—´çš„æ¨ç§»å¢åŠ ç­‰å¾…è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚ å¤šçº§åé¦ˆé˜Ÿåˆ— å¦‚æœä¸€ä¸ªè¿›ç¨‹éœ€è¦æ‰§è¡Œ 100 ä¸ªæ—¶é—´ç‰‡ï¼Œé‡‡ç”¨æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•ï¼Œé‚£ä¹ˆéœ€è¦äº¤æ¢ 100 æ¬¡ã€‚ å¤šçº§é˜Ÿåˆ—æ˜¯ä¸ºè¿™ç§éœ€è¦è¿ç»­æ‰§è¡Œå¤šä¸ªæ—¶é—´ç‰‡çš„è¿›ç¨‹è€ƒè™‘ï¼Œå®ƒè®¾ç½®äº†å¤šä¸ªé˜Ÿåˆ—ï¼Œä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼Œæ—¶é—´ç‰‡ä»å°åˆ°å¤§ï¼Œæ¯ä¸ªé˜Ÿåˆ—æ—¶é—´ç‰‡å¤§å°éƒ½ä¸åŒï¼Œä¾‹å¦‚ 1,2,4,8,..ã€‚è¿›ç¨‹åœ¨ç¬¬ä¸€ä¸ªé˜Ÿåˆ—æ²¡æ‰§è¡Œå®Œï¼Œå°±ä¼šè¢«ç§»åˆ°ä¸‹ä¸€ä¸ªé˜Ÿåˆ—ã€‚è¿™ç§æ–¹å¼ä¸‹ï¼Œä¹‹å‰çš„è¿›ç¨‹åªéœ€è¦äº¤æ¢ 7 æ¬¡ï¼ŒæŠ¢å å¼ã€‚ æ¯ä¸ªé˜Ÿåˆ—ä¼˜å…ˆæƒä¹Ÿä¸åŒï¼Œæœ€ä¸Šé¢çš„ä¼˜å…ˆæƒæœ€é«˜ã€‚å› æ­¤åªæœ‰ä¸Šä¸€ä¸ªé˜Ÿåˆ—æ²¡æœ‰è¿›ç¨‹åœ¨æ’é˜Ÿï¼Œæ‰èƒ½è°ƒåº¦å½“å‰é˜Ÿåˆ—ä¸Šçš„è¿›ç¨‹ã€‚ å¯ä»¥å°†è¿™ç§è°ƒåº¦ç®—æ³•çœ‹æˆæ˜¯æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•å’Œä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•çš„ç»“åˆã€‚ 3. å®æ—¶ç³»ç»Ÿå®æ—¶ç³»ç»Ÿè¦æ±‚ä¸€ä¸ªè¯·æ±‚åœ¨ä¸€ä¸ªç¡®å®šæ—¶é—´å†…å¾—åˆ°å“åº”ã€‚ åˆ†ä¸ºç¡¬å®æ—¶å’Œè½¯å®æ—¶ï¼Œå‰è€…å¿…é¡»æ»¡è¶³ç»å¯¹çš„æˆªæ­¢æ—¶é—´ï¼Œåè€…å¯ä»¥å®¹å¿ä¸€å®šçš„è¶…æ—¶ã€‚ è¿›ç¨‹åŒæ­¥åŒæ­¥ äº’æ–¥æ¦‚å¿µè¿›ç¨‹åŒæ­¥ï¼šæŒ‡ç›¸äº’åˆä½œå»å®Œæˆç›¸åŒçš„ä»»åŠ¡çš„è¿›ç¨‹é—´ï¼Œç”±åŒæ­¥æœºæ„å¯¹æ‰§è¡Œæ¬¡åºè¿›è¡Œåè°ƒã€‚(åœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œè¿›ç¨‹æ˜¯å¹¶å‘æ‰§è¡Œçš„ï¼Œä¸åŒè¿›ç¨‹ä¹‹é—´å­˜åœ¨ç€ä¸åŒçš„ç›¸äº’åˆ¶çº¦å…³ç³»ã€‚)ï¼›è¿›ç¨‹äº’æ–¥ï¼šæŒ‡å¤šä¸ªè¿›ç¨‹åœ¨å¯¹ä¸´ç•Œèµ„æºè¿›è¡Œè®¿é—®çš„æ—¶å€™ï¼Œåº”é‡‡ç”¨äº’æ–¥æ–¹å¼ï¼›ç®€å•æ¥è¯´ï¼ŒåŒæ­¥ï¼šå¤šä¸ªè¿›ç¨‹æŒ‰ä¸€å®šé¡ºåºæ‰§è¡Œï¼›äº’æ–¥ï¼šå¤šä¸ªè¿›ç¨‹åœ¨åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªè¿›ç¨‹èƒ½è¿›å…¥ä¸´ç•ŒåŒºã€‚ ä¿¡å·é‡ä¿¡å·é‡ï¼ˆSemaphoreï¼‰æ˜¯ä¸€ä¸ªæ•´å‹å˜é‡ï¼Œå¯ä»¥å¯¹å…¶æ‰§è¡Œ down å’Œ up æ“ä½œï¼Œä¹Ÿå°±æ˜¯å¸¸è§çš„ P å’Œ V æ“ä½œã€‚ down : å¦‚æœä¿¡å·é‡å¤§äº 0 ï¼Œæ‰§è¡Œ -1 æ“ä½œï¼›å¦‚æœä¿¡å·é‡ç­‰äº 0ï¼Œè¿›ç¨‹ç¡çœ ï¼Œç­‰å¾…ä¿¡å·é‡å¤§äº 0ï¼› up ï¼šå¯¹ä¿¡å·é‡æ‰§è¡Œ +1 æ“ä½œï¼Œå”¤é†’ç¡çœ çš„è¿›ç¨‹è®©å…¶å®Œæˆ down æ“ä½œã€‚down å’Œ up æ“ä½œéœ€è¦è¢«è®¾è®¡æˆåŸè¯­ï¼Œä¸å¯åˆ†å‰²ï¼Œä¿è¯ä¸€æ—¦ä¸€ä¸ªä¿¡å·é‡æ“ä½œå¼€å§‹ï¼Œåˆ™åœ¨è¯¥æ“ä½œå®Œæˆæˆ–é˜»å¡ä¹‹å‰ï¼Œå…¶ä»–è¿›ç¨‹å‡ä¸å…è®¸è®¿é—®è¯¥ä¿¡å·é‡ï¼Œè¿™ç§åŸå­æ€§å¯¹è§£å†³åŒæ­¥é—®é¢˜å’Œé¿å…ç«äº‰æ¡ä»¶æ˜¯ç»å¯¹å¿…è¦çš„ã€‚é€šå¸¸çš„åšæ³•æ˜¯åœ¨æ‰§è¡Œè¿™äº›æ“ä½œçš„æ—¶å€™å±è”½ä¸­æ–­ã€‚ å¦‚æœä¿¡å·é‡çš„å–å€¼åªèƒ½ä¸º 0 æˆ–è€… 1ï¼Œé‚£ä¹ˆå°±æˆä¸ºäº† äº’æ–¥é‡ï¼ˆMutexï¼‰ ï¼Œ0 è¡¨ç¤ºä¸´ç•ŒåŒºå·²ç»åŠ é”ï¼Œ1 è¡¨ç¤ºä¸´ç•ŒåŒºè§£é”ã€‚ ä½¿ç”¨ä¿¡å·é‡å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜é—®é¢˜æè¿°ï¼šç”Ÿäº§è€…ã€æ¶ˆè´¹è€…å…±äº«ä¸€ä¸ªåˆå§‹ä¸ºç©ºã€å¤§å°ä¸ºnçš„ç¼“å†²åŒºï¼›åªæœ‰ç¼“å†²åŒºæ²¡æ»¡æ—¶ï¼Œç”Ÿäº§è€…æ‰å¯ä»¥æ”¾å…¥ç‰©å“ï¼Œå¦åˆ™å¿…é¡»ç­‰å¾…ï¼›åªæœ‰ç¼“å†²åŒºä¸ä¸ºç©ºï¼Œæ¶ˆè´¹è€…æ‰å¯ä»¥æ‹¿èµ°ç‰©å“ï¼Œå¦åˆ™å¿…é¡»ç­‰å¾…ï¼›ç¼“å†²åŒºå±äºä¸´ç•Œèµ„æºï¼Œå„è¿›ç¨‹å¿…é¡»äº’æ–¥åœ°è®¿é—®ï¼› åˆ†æï¼šç”¨ä¿¡å·é‡æœºåˆ¶ï¼ˆPã€Væ“ä½œï¼‰å®ç°ç”Ÿäº§è€…ã€æ¶ˆè´¹è€…äº’æ–¥ã€åŒæ­¥ï¼š semaphore mutex = 1; //äº’æ–¥ä¿¡å·é‡ mutex æ¥æ§åˆ¶å¯¹ç¼“å†²åŒºçš„äº’æ–¥è®¿é—® semaphore empty= 0; //åŒæ­¥ä¿¡å·é‡ï¼Œè¡¨ç¤ºç©ºé—²ç¼“å†²åŒºçš„æ•°é‡ï¼Œå½“ empty ä¸ä¸º 0 æ—¶ï¼Œç”Ÿäº§è€…æ‰å¯ä»¥æ”¾å…¥ç‰©å“ semaphore full = 0; //åŒæ­¥ä¿¡å·é‡ï¼Œè¡¨ç¤ºäº§å“çš„æ•°é‡ï¼Œå½“ full ä¿¡å·é‡ä¸ä¸º 0 æ—¶ï¼Œæ¶ˆè´¹è€…æ‰å¯ä»¥å–èµ°ç‰©å“#define N 100 /*ç¼“å†²åŒºçš„æ§½æ•°ç›® */ typedef int semaphore; semaphore mutex = 1; /*æ§åˆ¶å¯¹ä¸´ç•ŒåŒºçš„è®¿é—®*/ semaphore empty = N; /*è®¡æ•°ç¼“å†²åŒºçš„ç©ºæ§½æ•°ç›® */ semaphore full = 0; /*è®¡æ•°ç¼“å†²åŒºçš„æ»¡æ§½æ•°ç›®ï¼Œå³äº§å“æ•°é‡ */ void producer() { while(TRUE) { int item = produce_item(); down(&amp;empty); /*å°†ç©ºæ§½æ•°ç›®å‡1 */ down(&amp;mutex); /*è¿›å…¥ä¸´ç•ŒåŒº */ insert_item(item); /*å°†æ–°æ•°æ®é¡¹æ”¾åˆ°ç¼“å†²åŒºä¸­*/ up(&amp;mutex); /*ç¦»å¼€ä¸´ç•ŒåŒº*/ up(&amp;full); /*å°†æ»¡æ§½æ•°ç›®åŠ 1*/ } } void consumer() { while(TRUE) { down(&amp;full); /*å°†æ»¡æ§½æ•°ç›®å‡1 */ down(&amp;mutex); /*è¿›å…¥ä¸´ç•ŒåŒº */ int item = remove_item(); /*ä»ç¼“å†²åŒºä¸­å–å‡ºæ•°æ®é¡¹ */ consume_item(item); /*å¤„ç†æ•°æ®é¡¹*/ up(&amp;mutex); /*ç¦»å¼€ä¸´ç•ŒåŒº*/ up(&amp;empty); /*å°†ç©ºæ§½æ•°ç›®åŠ 1*/ } } æ³¨æ„ï¼šä¸èƒ½å…ˆå¯¹ç¼“å†²åŒºè¿›è¡ŒåŠ é”ï¼Œå†æµ‹è¯•ä¿¡å·é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½å…ˆæ‰§è¡Œ down(mutex) å†æ‰§è¡Œ down(empty)ã€‚å¦‚æœè¿™ä¹ˆåšäº†ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼šç”Ÿäº§è€…å¯¹ç¼“å†²åŒºåŠ é”åï¼Œæ‰§è¡Œ down(empty) æ“ä½œï¼Œå‘ç° empty = 0ï¼Œæ­¤æ—¶ç”Ÿäº§è€…ç¡çœ ã€‚æ¶ˆè´¹è€…ä¸èƒ½è¿›å…¥ä¸´ç•ŒåŒºï¼Œå› ä¸ºç”Ÿäº§è€…å¯¹ç¼“å†²åŒºåŠ é”äº†ï¼Œæ¶ˆè´¹è€…å°±æ— æ³•æ‰§è¡Œ up(empty) æ“ä½œï¼Œempty æ°¸è¿œéƒ½ä¸º 0ï¼Œå¯¼è‡´ç”Ÿäº§è€…æ°¸è¿œç­‰å¾…ä¸‹ï¼Œä¸ä¼šé‡Šæ”¾é”ï¼Œæ¶ˆè´¹è€…å› æ­¤ä¹Ÿä¼šæ°¸è¿œç­‰å¾…ä¸‹å»ï¼Œå‡ºç°â€œæ­»é”â€ç°è±¡ã€‚å› æ­¤ï¼šå®ç°äº’æ–¥çš„downï¼ˆPï¼‰æ“ä½œä¸€å®šè¦åœ¨å®ç°åŒæ­¥çš„downï¼ˆPï¼‰æ“ä½œä¹‹åï¼Œupï¼ˆVï¼‰æ“ä½œä¸ä¼šå¯¼è‡´è¿›ç¨‹é˜»å¡ï¼Œå› æ­¤ä¸¤ä¸ªVæ“ä½œé¡ºåºå¯ä»¥äº¤æ¢ã€‚ ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜åˆ†æï¼š å…³ç³»åˆ†æï¼šæ‰¾å‡ºå„ä¸ªè¿›ç¨‹ï¼Œåˆ†æå®ƒä»¬ä¹‹é—´åŒæ­¥ã€äº’æ–¥å…³ç³»ï¼› æ ¹æ®å„è¿›ç¨‹æ“ä½œæµç¨‹ç¡®å®šPã€Væ“ä½œçš„å¤§è‡´é¡ºåºï¼› è®¾ç½®ä¿¡å·é‡ï¼Œå¹¶ç¡®å®šä¿¡å·é‡åˆå€¼ï¼›é€šå¸¸äº’æ–¥ä¿¡å·é‡åˆå€¼ä¸€èˆ¬ä¸º1ï¼ŒåŒæ­¥ä¿¡å·é‡çš„åˆå§‹å€¼è¦çœ‹å¯¹åº”èµ„æºçš„åˆå§‹å€¼æ˜¯å¤šå°‘ã€‚ ç±»ä¼¼çš„ç»å…¸åŒæ­¥é—®é¢˜è¿˜æœ‰ï¼š 1. è¯»è€…-å†™è€…é—®é¢˜ï¼šå…è®¸å¤šä¸ªè¿›ç¨‹åŒæ—¶å¯¹æ•°æ®è¿›è¡Œè¯»æ“ä½œï¼Œä½†æ˜¯ä¸å…è®¸è¯»å’Œå†™ä»¥åŠå†™å’Œå†™æ“ä½œåŒæ—¶å‘ç”Ÿã€‚äº’æ–¥å…³ç³»ï¼šå†™è¿›ç¨‹â€”â€”å†™è¿›ç¨‹ã€å†™è¿›ç¨‹â€”â€”è¯»è¿›ç¨‹ã€è¯»è¿›ç¨‹ä¸è¯»è¿›ç¨‹ä¸å­˜åœ¨äº’æ–¥é—®é¢˜ã€‚ ä¸€ä¸ªæ•´å‹å˜é‡ count è®°å½•åœ¨å¯¹æ•°æ®è¿›è¡Œè¯»æ“ä½œçš„è¿›ç¨‹æ•°é‡ä¸€ä¸ªäº’æ–¥é‡ count_mutex ç”¨äºå¯¹ count åŠ é”ï¼ˆé˜²æ­¢ä¸¤ä¸ªè¯»è¿›ç¨‹å¹¶å‘æ‰§è¡Œï¼Œè¿™æ ·ä¸¤ä¸ªè¿›ç¨‹å…ˆåæ‰§è¡Œdown(&amp;data_mutex)ï¼Œä»è€Œä½¿ç¬¬äºŒä¸ªçº¿ç¨‹é˜»å¡ï¼‰ä¸€ä¸ªäº’æ–¥é‡ data_mutex ç”¨äºå¯¹è¯»å†™çš„æ•°æ®åŠ é”ï¼Œä¿è¯å¯¹æ–‡ä»¶çš„äº’æ–¥è®¿é—®ã€‚ typedef int semaphore; semaphore count_mutex = 1; semaphore data_mutex = 1; int count = 0; void reader() { while(TRUE) { down(&amp;count_mutex); count++; if(count == 1) down(&amp;data_mutex); // ç¬¬ä¸€ä¸ªè¯»è€…éœ€è¦å¯¹æ•°æ®è¿›è¡ŒåŠ é”ï¼Œé˜²æ­¢å†™è¿›ç¨‹è®¿é—® up(&amp;count_mutex); read(); down(&amp;count_mutex); count--; // è®¿é—®æ–‡ä»¶çš„è¯»è¿›ç¨‹æ•°-1 if(count == 0) up(&amp;data_mutex); // æœ€åä¸€ä¸ªè¿›ç¨‹è´Ÿè´£è§£é” up(&amp;count_mutex); } } void writer() { while(TRUE) { down(&amp;data_mutex); write(); up(&amp;data_mutex); } } ä»¥ä¸Šè¿™ç§ç®—æ³•æ½œåœ¨çš„é—®é¢˜ï¼šåªè¦è¯»è¿›ç¨‹è¿˜åœ¨è¯»ï¼Œå†™è¿›ç¨‹å°±è¦ä¸€ç›´é˜»å¡ç­‰å¾…ï¼Œå¯èƒ½â€œé¥¿æ­»â€ã€‚å› æ­¤ï¼Œè¿™ç§ç®—æ³•ä¸­ï¼Œè¯»è¿›ç¨‹æ˜¯ä¼˜å…ˆçš„ã€‚ é˜²æ­¢å†™è¿›ç¨‹é¥¿æ­»çš„æ–¹æ³•:å³åœ¨ç¬¬ä¸€ä¸ªè¯»è€…åˆ°è¾¾ï¼Œä¸”ä¸€ä¸ªå†™è€…åœ¨ç­‰å¾…æ—¶ï¼Œè¯»è€…åœ¨å†™è€…ä¹‹åè¢«æŒ‚èµ·ï¼Œè€Œä¸æ˜¯ç«‹å³å…è®¸è¿›å…¥ã€‚ç”¨è¿™ç§æ–¹å¼ï¼Œåœ¨ä¸€ä¸ªå†™è€…åˆ°è¾¾æ—¶å¦‚æœæœ‰æ­£åœ¨å·¥ä½œçš„è¯»è€…ï¼Œé‚£ä¹ˆè¯¥å†™è€…åªè¦ç­‰å¾…è¿™ä¸ªè¯»è€…å®Œæˆï¼Œè€Œä¸ç”¨ç­‰å€™å…¶åé¢åˆ°æ¥çš„è¯»è€…ã€‚ä½†æ˜¯è¯¥æ–¹æ¡ˆå¹¶å‘åº¦å’Œæ•ˆç‡è¾ƒä½ã€‚ å›¾ç‰‡æ¥è‡ªzxzxzx0119çš„åšå®¢ 2. å“²å­¦å®¶è¿›é¤é—®é¢˜ï¼š äº”ä¸ªå“²å­¦å®¶å›´ç€ä¸€å¼ åœ†æ¡Œï¼Œæ¯ä¸ªå“²å­¦å®¶é¢å‰æ”¾ç€é£Ÿç‰©ã€‚å“²å­¦å®¶çš„ç”Ÿæ´»æœ‰ä¸¤ç§äº¤æ›¿æ´»åŠ¨ï¼šåƒé¥­ä»¥åŠæ€è€ƒã€‚å½“ä¸€ä¸ªå“²å­¦å®¶åƒé¥­æ—¶ï¼Œéœ€è¦å…ˆæ‹¿èµ·è‡ªå·±å·¦å³ä¸¤è¾¹çš„ä¸¤æ ¹ç­·å­ï¼ˆä¸€è¾¹ä¸€æ ¹ï¼‰ï¼Œå¹¶ä¸”ä¸€æ¬¡åªèƒ½æ‹¿èµ·ä¸€æ ¹ç­·å­ã€‚ ä¸‹é¢æ˜¯ä¸€ç§é”™è¯¯çš„è§£æ³•ï¼Œè€ƒè™‘åˆ°å¦‚æœæ‰€æœ‰å“²å­¦å®¶åŒæ—¶æ‹¿èµ·å·¦æ‰‹è¾¹çš„ç­·å­ï¼Œé‚£ä¹ˆå°±æ— æ³•æ‹¿èµ·å³æ‰‹è¾¹çš„ç­·å­ï¼Œé€ æˆæ­»é”ã€‚ #define N 5 // å“²å­¦å®¶ä¸ªæ•° void philosopher(int i) // å“²å­¦å®¶ç¼–å·ï¼š0 ï¼ 4 { while(TRUE) { think(); // å“²å­¦å®¶åœ¨æ€è€ƒ take_fork(i); // å»æ‹¿å·¦è¾¹çš„å‰å­ take_fork((i + 1) % N); // å»æ‹¿å³è¾¹çš„å‰å­ eat(); // åƒé¥­ put_fork(i); // æ”¾ä¸‹å·¦è¾¹çš„å‰å­ put_fork((i + 1) % N); // æ”¾ä¸‹å³è¾¹çš„å‰å­ } } ä¸ºäº†é˜²æ­¢æ­»é”çš„å‘ç”Ÿï¼Œå¯ä»¥è®¾ç½®ä¸¤ä¸ªæ¡ä»¶ï¼ˆä¸´ç•Œèµ„æºï¼‰ï¼š å¿…é¡»åŒæ—¶æ‹¿èµ·å·¦å³ä¸¤æ ¹ç­·å­ï¼› åªæœ‰åœ¨ä¸¤ä¸ªé‚»å±…éƒ½æ²¡æœ‰è¿›é¤çš„æƒ…å†µä¸‹æ‰å…è®¸è¿›é¤ã€‚#define N 5 #define LEFT (i + N - 1) % N // å·¦é‚»å±… #define RIGHT (i + 1) % N // å³é‚»å±… #define THINKING 0 #define HUNGRY 1 #define EATING 2 typedef int semaphore; int state[N]; // è·Ÿè¸ªæ¯ä¸ªå“²å­¦å®¶çš„çŠ¶æ€ semaphore mutex = 1; // ä¸´ç•ŒåŒºçš„äº’æ–¥ semaphore s[N]; // æ¯ä¸ªå“²å­¦å®¶ä¸€ä¸ªä¿¡å·é‡ void philosopher(int i) { while(TRUE) { think(); // æ€è€ƒ take_two(i); // æ‹¿èµ·ä¸¤ä¸ªç­·å­ eat(); put_two(i); }} void take_two(int i) { down(&amp;mutex); // è¿›å…¥ä¸´ç•ŒåŒº state[i] = HUNGRY; // æˆ‘é¥¿äº† test(i); // è¯•å›¾æ‹¿ä¸¤åªç­·å­ up(&amp;mutex); // é€€å‡ºä¸´ç•ŒåŒº down(&amp;s[i]); // æ²¡æœ‰ç­·å­ä¾¿é˜»å¡} void put_two(i) { down(&amp;mutex); state[i] = THINKING; test(LEFT); // å·¦è¾¹çš„äººå°è¯• test(RIGHT); //å³è¾¹çš„äººå°è¯• up(&amp;mutex);} void test(i) { // å°è¯•æ‹¿èµ·ä¸¤æŠŠç­·å­ if(state[i] == HUNGRY &amp;&amp; state[LEFT] != EATING &amp;&amp; state[RIGHT] !=EATING) { state[i] = EATING; up(&amp;s[i]); // é€šçŸ¥ç¬¬iä¸ªäººå¯ä»¥åƒé¥­äº† }} å“²å­¦å®¶é—®é¢˜å…³é”®åœ¨äºè§£å†³è¿›ç¨‹æ­»é”ï¼› è¿™äº›è¿›ç¨‹ä¹‹é—´åªå­˜åœ¨äº’æ–¥å…³ç³»ï¼Œä½†æ˜¯å’Œä¹‹å‰çš„äº’æ–¥å…³ç³»ä¸åŒçš„æ˜¯: æ¯ä¸ªè¿›ç¨‹éƒ½éœ€è¦åŒæ—¶æŒæœ‰ä¸¤ä¸ªä¸´ç•Œèµ„æºï¼Œå› æ­¤æœ‰æ­»é”çš„å¯èƒ½ï¼› #### ç®¡ç¨‹ ç®¡ç¨‹æ˜¯ä¸€ä¸ªç”±è¿‡ç¨‹ã€å˜é‡åŠæ•°æ®ç»“æ„ç­‰ç»„æˆçš„ä¸€ä¸ªé›†åˆï¼Œä»–ä»¬ç»„æˆä¸€ä¸ªç‰¹æ®Šçš„æ¨¡å—æˆ–è½¯ä»¶åŒ…ã€‚ ä½¿ç”¨ç”¨ä¿¡å·é‡æœºåˆ¶å®ç°çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜éœ€è¦å®¢æˆ·ç«¯ä»£ç åšå¾ˆå¤šæ§åˆ¶è€Œä¸”ç¼–ç¨‹éº»çƒ¦ï¼Œè€Œç®¡ç¨‹æŠŠæ§åˆ¶çš„ä»£ç ç‹¬ç«‹å‡ºæ¥ï¼Œä¸ä»…ä¸å®¹æ˜“å‡ºé”™ï¼Œä¹Ÿä½¿å¾—å®¢æˆ·ç«¯ä»£ç è°ƒç”¨æ›´å®¹æ˜“ã€‚ c è¯­è¨€ä¸æ”¯æŒç®¡ç¨‹ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç ä½¿ç”¨äº†ç±» Pascal è¯­è¨€æ¥æè¿°ç®¡ç¨‹ã€‚ç¤ºä¾‹ä»£ç çš„ç®¡ç¨‹æä¾›äº† insert() å’Œ remove() æ–¹æ³•ï¼Œå®¢æˆ·ç«¯ä»£ç é€šè¿‡è°ƒç”¨è¿™ä¸¤ä¸ªæ–¹æ³•æ¥è§£å†³ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ã€‚ ~~~ pascal monitor ProducerConsumer integer i; condition c; procedure insert(); begin // ... end; procedure remove(); begin // ... end; end monitor;ç®¡ç¨‹æœ‰åŸºæœ¬ç‰¹æ€§ï¼š æ¯æ¬¡åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ç®¡ç¨‹ã€‚è¿™ä¸€ç‰¹æ€§ä½¿ç®¡ç¨‹èƒ½æœ‰æ•ˆå®Œæˆäº’æ–¥ã€‚è¿›ç¨‹åœ¨æ— æ³•ç»§ç»­æ‰§è¡Œçš„æ—¶å€™ä¸èƒ½ä¸€ç›´å ç”¨ç®¡ç¨‹ï¼Œå¦åˆ™å…¶å®ƒè¿›ç¨‹æ°¸è¿œä¸èƒ½ä½¿ç”¨ç®¡ç¨‹ã€‚ å„å¤–éƒ¨è¿›ç¨‹/çº¿ç¨‹åªèƒ½é€šè¿‡ç®¡ç¨‹æä¾›çš„ç‰¹å®šâ€œå…¥å£â€æ‰èƒ½è®¿é—®å…±äº«æ•°æ®ã€‚ ç®¡ç¨‹å¼•å…¥äº† æ¡ä»¶å˜é‡ ä»¥åŠç›¸å…³çš„æ“ä½œï¼šwait() å’Œ signal() æ¥å®ç°åŒæ­¥æ“ä½œã€‚ å¯¹æ¡ä»¶å˜é‡æ‰§è¡Œ wait() æ“ä½œä¼šå¯¼è‡´è°ƒç”¨è¿›ç¨‹é˜»å¡ï¼ŒæŠŠç®¡ç¨‹è®©å‡ºæ¥ç»™å¦ä¸€ä¸ªè¿›ç¨‹æŒæœ‰ï¼Œæ¯”å¦‚ç”Ÿäº§è€…å‘ç°ç¼“å†²åŒºå·²æ»¡ï¼Œå®ƒä¼šåœ¨æŸä¸ªæ¡ä»¶å˜é‡ä¸Šå¦‚ï¼ˆfullï¼‰æ‰§è¡Œwaitæ“ä½œã€‚ signal() æ“ä½œç”¨äºå”¤é†’è¢«é˜»å¡çš„è¿›ç¨‹ã€‚ ä½¿ç”¨ç®¡ç¨‹å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ ï¼šä¸€æ¬¡åªèƒ½æœ‰ä¸€ä¸ªç®¡ç¨‹è¿‡ç¨‹æ´»è·ƒ // ç®¡ç¨‹ monitor ProducerConsumer condition full, empty; integer count := 0; condition c; procedure insert(item: integer); begin if count = N then wait(full); insert_item(item); count := count + 1; if count = 1 then signal(empty); end; function remove: integer; begin if count = 0 then wait(empty); remove = remove_item; count := count - 1; if count = N -1 then signal(full); end; end monitor; // ç”Ÿäº§è€…å®¢æˆ·ç«¯ procedure producer begin while true do begin item = produce_item; ProducerConsumer.insert(item); end end; // æ¶ˆè´¹è€…å®¢æˆ·ç«¯ procedure consumer begin while true do begin item = ProducerConsumer.remove; consume_item(item); end end; è¿›ç¨‹çš„é€šä¿¡å¯ä»¥å‚è€ƒ è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼ŒInterProcess Communicationï¼‰æ˜¯æŒ‡åœ¨ä¸åŒè¿›ç¨‹ä¹‹é—´ä¼ æ’­æˆ–äº¤æ¢ä¿¡æ¯ã€‚ IPCçš„æ–¹å¼é€šå¸¸æœ‰ç®¡é“ï¼ˆåŒ…æ‹¬æ— åç®¡é“å’Œå‘½åç®¡é“ï¼‰ã€æ¶ˆæ¯é˜Ÿåˆ—ã€ä¿¡å·é‡ã€å…±äº«å­˜å‚¨ã€Socketã€Streamsç­‰ã€‚å…¶ä¸­ Socketå’ŒStreamsæ”¯æŒä¸åŒä¸»æœºä¸Šçš„ä¸¤ä¸ªè¿›ç¨‹IPCã€‚ 1.ç®¡é“ï¼šç®¡é“ï¼Œé€šå¸¸æŒ‡æ— åç®¡é“ï¼Œæ˜¯ UNIX ç³»ç»ŸIPCæœ€å¤è€çš„å½¢å¼ã€‚ ç‰¹ç‚¹ï¼š å®ƒæ˜¯åŠåŒå·¥çš„ï¼ˆå³æ•°æ®åªèƒ½åœ¨ä¸€ä¸ªæ–¹å‘ä¸ŠæµåŠ¨ï¼‰ï¼Œå…·æœ‰å›ºå®šçš„è¯»ç«¯å’Œå†™ç«¯ã€‚ å®ƒåªèƒ½ç”¨äºçˆ¶å­è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚ å½“ä¸€ä¸ªç®¡é“å»ºç«‹æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼šfd[0]ä¸ºè¯»è€Œæ‰“å¼€ï¼Œfd[1]ä¸ºå†™è€Œæ‰“å¼€ï¼Œè¦å…³é—­ç®¡é“åªéœ€å°†è¿™ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦å…³é—­å³å¯ã€‚ 1 #include &lt;unistd.h> 2 int pipe(int fd[2]); // è¿”å›å€¼ï¼šè‹¥æˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›-1 2.FIFOï¼šFIFOï¼Œä¹Ÿç§°ä¸ºå‘½åç®¡é“ï¼Œå®ƒæ˜¯ä¸€ç§æ–‡ä»¶ç±»å‹ï¼Œå»é™¤äº†ç®¡é“åªèƒ½åœ¨çˆ¶å­è¿›ç¨‹ä¸­ä½¿ç”¨çš„é™åˆ¶ï¼ŒFIFOå¯ä»¥åœ¨æ— å…³çš„è¿›ç¨‹ä¹‹é—´äº¤æ¢æ•°æ®ã€‚ FIFO å¸¸ç”¨äºå®¢æˆ·-æœåŠ¡å™¨åº”ç”¨ç¨‹åºä¸­ï¼ŒFIFO ç”¨ä½œæ±‡èšç‚¹ï¼Œåœ¨å®¢æˆ·è¿›ç¨‹å’ŒæœåŠ¡å™¨è¿›ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚ 3. æ¶ˆæ¯é˜Ÿåˆ—ï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ˜¯æ¶ˆæ¯çš„é“¾æ¥è¡¨ï¼Œå­˜æ”¾åœ¨å†…æ ¸ä¸­ã€‚ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ç”±ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼ˆå³é˜Ÿåˆ—IDï¼‰æ¥æ ‡è¯†ã€‚ 1ã€ç‰¹ç‚¹æ¶ˆæ¯é˜Ÿåˆ—æ˜¯é¢å‘è®°å½•çš„ï¼Œå…¶ä¸­çš„æ¶ˆæ¯å…·æœ‰ç‰¹å®šçš„æ ¼å¼ä»¥åŠç‰¹å®šçš„ä¼˜å…ˆçº§ã€‚ æ¶ˆæ¯é˜Ÿåˆ—ç‹¬ç«‹äºå‘é€ä¸æ¥æ”¶è¿›ç¨‹ã€‚è¿›ç¨‹ç»ˆæ­¢æ—¶ï¼Œæ¶ˆæ¯é˜Ÿåˆ—åŠå…¶å†…å®¹å¹¶ä¸ä¼šè¢«åˆ é™¤ã€‚ æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥å®ç°æ¶ˆæ¯çš„éšæœºæŸ¥è¯¢,æ¶ˆæ¯ä¸ä¸€å®šè¦ä»¥å…ˆè¿›å…ˆå‡ºçš„æ¬¡åºè¯»å–,ä¹Ÿå¯ä»¥æŒ‰æ¶ˆæ¯çš„ç±»å‹è¯»å–ã€‚ 4. ä¿¡å·é‡ï¼šä¿¡å·é‡ï¼ˆsemaphoreï¼‰ä¸å·²ç»ä»‹ç»è¿‡çš„ IPC ç»“æ„ä¸åŒï¼Œå®ƒæ˜¯ä¸€ä¸ªè®¡æ•°å™¨ã€‚ä¿¡å·é‡ç”¨äºå®ç°è¿›ç¨‹é—´çš„äº’æ–¥ä¸åŒæ­¥ï¼Œè€Œä¸æ˜¯ç”¨äºå­˜å‚¨è¿›ç¨‹é—´é€šä¿¡æ•°æ®ã€‚ ç‰¹ç‚¹ï¼š ä¿¡å·é‡ç”¨äºè¿›ç¨‹é—´åŒæ­¥ï¼Œè‹¥è¦åœ¨è¿›ç¨‹é—´ä¼ é€’æ•°æ®éœ€è¦ç»“åˆå…±äº«å†…å­˜ã€‚ ä¿¡å·é‡åŸºäºæ“ä½œç³»ç»Ÿçš„ PV æ“ä½œï¼Œç¨‹åºå¯¹ä¿¡å·é‡çš„æ“ä½œéƒ½æ˜¯åŸå­æ“ä½œã€‚ æ¯æ¬¡å¯¹ä¿¡å·é‡çš„ PV æ“ä½œä¸ä»…é™äºå¯¹ä¿¡å·é‡å€¼åŠ  1 æˆ–å‡ 1ï¼Œè€Œä¸”å¯ä»¥åŠ å‡ä»»æ„æ­£æ•´æ•°ã€‚ æ”¯æŒä¿¡å·é‡ç»„ã€‚ 5. å…±äº«å­˜å‚¨ï¼šç‰¹ç‚¹ï¼š å…±äº«å†…å­˜æ˜¯æœ€å¿«çš„ä¸€ç§ IPCï¼Œå› ä¸ºè¿›ç¨‹æ˜¯ç›´æ¥å¯¹å†…å­˜è¿›è¡Œå­˜å–ã€‚ å› ä¸ºå¤šä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶æ“ä½œï¼Œæ‰€ä»¥éœ€è¦è¿›è¡ŒåŒæ­¥ã€‚ ä¿¡å·é‡+å…±äº«å†…å­˜é€šå¸¸ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ï¼Œä¿¡å·é‡ç”¨æ¥åŒæ­¥å¯¹å…±äº«å†…å­˜çš„è®¿é—®ã€‚ æ€»ç»“ï¼š ç®¡é“ï¼šé€Ÿåº¦æ…¢ï¼Œå®¹é‡æœ‰é™ï¼Œåªæœ‰çˆ¶å­è¿›ç¨‹èƒ½é€šè®¯ FIFOï¼šä»»ä½•è¿›ç¨‹é—´éƒ½èƒ½é€šè®¯ï¼Œä½†é€Ÿåº¦æ…¢ æ¶ˆæ¯é˜Ÿåˆ—ï¼šå®¹é‡å—åˆ°ç³»ç»Ÿé™åˆ¶ï¼Œä¸”è¦æ³¨æ„ç¬¬ä¸€æ¬¡è¯»çš„æ—¶å€™ï¼Œè¦è€ƒè™‘ä¸Šä¸€æ¬¡æ²¡æœ‰è¯»å®Œæ•°æ®çš„é—®é¢˜ ä¿¡å·é‡ï¼šä¸èƒ½ä¼ é€’å¤æ‚æ¶ˆæ¯ï¼Œåªèƒ½ç”¨æ¥åŒæ­¥ å…±äº«å†…å­˜ï¼šèƒ½å¤Ÿå¾ˆå®¹æ˜“æ§åˆ¶å®¹é‡ï¼Œé€Ÿåº¦å¿«ï¼Œä½†è¦ä¿æŒåŒæ­¥ï¼Œæ¯”å¦‚ä¸€ä¸ªè¿›ç¨‹åœ¨å†™çš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹è¦æ³¨æ„è¯»å†™çš„é—®é¢˜ï¼Œç›¸å½“äºçº¿ç¨‹ä¸­çš„çº¿ç¨‹å®‰å…¨ï¼Œå½“ç„¶ï¼Œå…±äº«å†…å­˜åŒºåŒæ ·å¯ä»¥ç”¨ä½œçº¿ç¨‹é—´é€šè®¯ï¼Œä¸è¿‡æ²¡è¿™ä¸ªå¿…è¦ï¼Œçº¿ç¨‹é—´æœ¬æ¥å°±å·²ç»å…±äº«äº†åŒä¸€è¿›ç¨‹å†…çš„ä¸€å—å†…å­˜ æ­»é”ï¼šå¯å‚è€ƒä¹¦æœ¬æˆ–è€…cycæ­»é”: å¦‚æœä¸€ä¸ªè¿›ç¨‹é›†åˆé‡Œé¢çš„æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨ç­‰å¾…åªèƒ½ç”±è¿™ä¸ªè¿›ç¨‹é›†åˆä¸­çš„å…¶ä»–ä¸€ä¸ªè¿›ç¨‹ï¼ˆåŒ…æ‹¬ä»–è‡ªèº«ï¼‰æ‰èƒ½å¼•å‘çš„äº‹ä»¶ï¼Œé‚£ä¹ˆè¯¥è¿›ç¨‹é›†åˆå°±æ˜¯æ­»é”çš„ã€‚ å¿…è¦æ¡ä»¶ï¼š äº’æ–¥ï¼šæ¯ä¸ªèµ„æºè¦ä¹ˆå·²ç»åˆ†é…ç»™äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œè¦ä¹ˆå°±æ˜¯å¯ç”¨çš„ã€‚ å æœ‰å’Œç­‰å¾…ï¼šå·²ç»å¾—åˆ°äº†æŸä¸ªèµ„æºçš„è¿›ç¨‹å¯ä»¥å†è¯·æ±‚æ–°çš„èµ„æºã€‚ ä¸å¯æŠ¢å ï¼šå·²ç»åˆ†é…ç»™ä¸€ä¸ªè¿›ç¨‹çš„èµ„æºä¸èƒ½å¼ºåˆ¶æ€§åœ°è¢«æŠ¢å ï¼Œå®ƒåªèƒ½è¢«å æœ‰å®ƒçš„è¿›ç¨‹æ˜¾å¼åœ°é‡Šæ”¾ã€‚ ç¯è·¯ç­‰å¾…ï¼šæœ‰ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹ç»„æˆä¸€æ¡ç¯è·¯ï¼Œè¯¥ç¯è·¯ä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨ç­‰å¾…ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰€å æœ‰çš„èµ„æºã€‚ æ­»é”å‘ç”Ÿæ—¶ï¼Œä»¥ä¸Šå››ä¸ªæ¡ä»¶ä¸€å®šæ˜¯åŒæ—¶æ»¡è¶³çš„ï¼Œç¼ºä¸€ä¸å¯ã€‚ å››ç§å¤„ç†æ­»é”ç­–ç•¥ï¼š é¸µé¸Ÿç­–ç•¥ æ£€æµ‹æ­»é”å¹¶æ¢å¤ åŠ¨æ€é¿å…æ­»é” é¢„é˜²æ­»é”äº§ç”Ÿ é¸µé¸Ÿç­–ç•¥å¿½ç•¥è¯¥é—®é¢˜ï¼ŒæŠŠå¤´åŸ‹åœ¨æ²™å­é‡Œï¼Œå‡è£…æ ¹æœ¬æ²¡å‘ç”Ÿé—®é¢˜ã€‚ å› ä¸ºè§£å†³æ­»é”é—®é¢˜çš„ä»£ä»·å¾ˆé«˜ï¼Œå› æ­¤é¸µé¸Ÿç­–ç•¥è¿™ç§ä¸é‡‡å–ä»»åŠ¡æªæ–½çš„æ–¹æ¡ˆä¼šè·å¾—æ›´é«˜çš„æ€§èƒ½ã€‚ å½“å‘ç”Ÿæ­»é”æ—¶ä¸ä¼šå¯¹ç”¨æˆ·é€ æˆå¤šå¤§å½±å“ï¼Œæˆ–å‘ç”Ÿæ­»é”çš„æ¦‚ç‡å¾ˆä½ï¼Œå¯ä»¥é‡‡ç”¨é¸µé¸Ÿç­–ç•¥ã€‚ æ£€æµ‹æ­»é”å¹¶æ¢å¤ç³»ç»Ÿå¹¶ä¸è¯•å›¾é˜»æ­¢æ­»é”çš„äº§ç”Ÿï¼Œè€Œæ˜¯å…è®¸æ­»é”å‘ç”Ÿï¼Œå½“æ£€æµ‹åˆ°æ­»é”å‘ç”Ÿæ—¶ï¼Œé‡‡å–æªæ–½è¿›è¡Œæ¢å¤ã€‚ æ¯ç§ç±»å‹ä¸€ä¸ªèµ„æºçš„æ­»é”æ£€æµ‹ æ¯ç§ç±»å‹å¤šä¸ªèµ„æºçš„æ­»é”æ£€æµ‹ æ­»é”æ¢å¤ï¼š åˆ©ç”¨æŠ¢å æ¢å¤ï¼ˆå°†æŸä¸ªèµ„æºä»å®ƒçš„å½“å‰æ‰€æœ‰è€…é‚£é‡Œè½¬ç§»ç»™å¦ä¸€ä¸ªè¿›ç¨‹ï¼‰ åˆ©ç”¨å›æ»šæ¢å¤ï¼ˆå°†è¿›ç¨‹å¤ä½åˆ°ä¸€ä¸ªæ›´æ—©çš„çŠ¶æ€ï¼‰ é€šè¿‡æ€æ­»è¿›ç¨‹æ¢å¤ï¼ˆæœ€ç®€å•è§£å†³æ­»é”æ–¹æ³•ï¼Œå¯ä»¥æ€æ‰ç¯ä¸­çš„ä¸€ä¸ªè¿›ç¨‹ï¼‰ æ­»é”é¿å…å®‰å…¨çŠ¶æ€ï¼šå¦‚æœæ²¡æœ‰æ­»é”å‘ç”Ÿï¼Œå¹¶ä¸”å³ä½¿æ‰€æœ‰è¿›ç¨‹çªç„¶è¯·æ±‚å¯¹èµ„æºçš„æœ€å¤§éœ€æ±‚ï¼Œä¹Ÿä»ç„¶å­˜åœ¨æŸç§è°ƒåº¦æ¬¡åºèƒ½å¤Ÿä½¿å¾—æ¯ä¸€ä¸ªè¿›ç¨‹è¿è¡Œå®Œæ¯•ï¼Œåˆ™ç§°è¯¥çŠ¶æ€æ˜¯å®‰å…¨çš„ã€‚ å•ä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³•ï¼šè¯¥æ¨¡å‹åŸºäºä¸€ä¸ªå°åŸé•‡çš„é“¶è¡Œå®¶ï¼Œä»–å‘ä¸€ç¾¤å®¢æˆ·åˆ†åˆ«æ‰¿è¯ºäº†ä¸€å®šçš„è´·æ¬¾é¢åº¦ï¼Œç®—æ³•è¦åšçš„æ˜¯åˆ¤æ–­å¯¹è¯·æ±‚çš„æ»¡è¶³æ˜¯å¦ä¼šè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ï¼Œå¦‚æœæ˜¯ï¼Œå°±æ‹’ç»è¯·æ±‚ï¼›å¦åˆ™äºˆä»¥åˆ†é…ã€‚ å¤šä¸ªèµ„æºçš„é“¶è¡Œå®¶ç®—æ³•ï¼š é¢„é˜²æ­»é”äº§ç”Ÿç ´åæ­»é”äº§ç”Ÿå¿…è¦æ¡ä»¶ï¼Œä½¿æ­»é”ä¸ä¼šäº§ç”Ÿã€‚1. ç ´åäº’æ–¥æ¡ä»¶ï¼šå°†ä¸´ç•Œèµ„æºæ”¹é€ ä¸ºå¯å…±äº«ä½¿ç”¨çš„èµ„æºï¼ˆå¦‚SPOOLingæŠ€æœ¯ï¼‰ç¼ºç‚¹ï¼šå¯è¡Œæ€§ä¸é«˜ï¼Œå¾ˆå¤šæ—¶å€™æ— æ³•ç ´åäº’æ–¥æ¡ä»¶ 2. ç ´åå æœ‰å’Œç­‰å¾…æ¡ä»¶ï¼šä¸€ç§å®ç°æ–¹å¼æ˜¯è§„å®šæ‰€æœ‰è¿›ç¨‹åœ¨å¼€å§‹æ‰§è¡Œå‰è¯·æ±‚æ‰€éœ€è¦çš„å…¨éƒ¨èµ„æºï¼Œä¹‹åä¸€ç›´ä¿æŒã€‚ ç¼ºç‚¹ï¼šèµ„æºåˆ©ç”¨ç‡ä½ï¼›å¯èƒ½å¯¼è‡´é¥¥é¥¿ 3. ç ´åä¸å¯æŠ¢å æ¡ä»¶ï¼šä¸€ç§å®ç°æ–¹å¼æ˜¯ç”³è¯·çš„èµ„æºå¾—ä¸åˆ°æ»¡è¶³æ—¶ï¼Œç«‹å³é‡Šæ”¾æ‹¥æœ‰çš„æ‰€æœ‰èµ„æºç¼ºç‚¹ï¼šå®ç°å¤æ‚ï¼Œåå¤ç”³è¯·å’Œé‡Šæ”¾å¯¼è‡´ç³»ç»Ÿå¼€é”€å¤§ 4. ç ´åç¯è·¯ç­‰å¾…æ¡ä»¶ï¼šç»™èµ„æºç¼–å·ï¼Œè¿›ç¨‹å¿…é¡»æŒ‰ç…§ç¼–å·çš„é¡ºåºç”³è¯·èµ„æºç¼ºç‚¹ï¼šä¸æ–¹ä¾¿å¢åŠ æ–°è®¾å¤‡ï¼›ä¼šå¯¼è‡´èµ„æºæµªè´¹ï¼›ç”¨æˆ·ç¼–ç¨‹éº»çƒ¦ å‚è€ƒä¹¦ç±ï¼šã€Šç°ä»£æ“ä½œç³»ç»Ÿã€‹","categories":[{"name":"è®¡ç®—æœºåŸºç¡€","slug":"è®¡ç®—æœºåŸºç¡€","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/è®¡ç®—æœºåŸºç¡€/"}],"tags":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/æ“ä½œç³»ç»Ÿ/"}]},{"title":"æ“ä½œç³»ç»ŸåŸºæœ¬æ¦‚å¿µ","slug":"è®¡ç®—æœºæ“ä½œç³»ç»Ÿå­¦ä¹ ï¼ˆä¸€ï¼‰æ“ä½œç³»ç»ŸåŸºæœ¬æ¦‚å¿µ","date":"2019-05-16T10:25:08.000Z","updated":"2019-09-30T13:58:32.000Z","comments":true,"path":"2019/05/16/ji-suan-ji-cao-zuo-xi-tong-xue-xi-yi-cao-zuo-xi-tong-ji-ben-gai-nian/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/05/16/ji-suan-ji-cao-zuo-xi-tong-xue-xi-yi-cao-zuo-xi-tong-ji-ben-gai-nian/","excerpt":"","text":"### æ¦‚å¿µã€ç‰¹å¾ã€ç³»ç»Ÿè°ƒç”¨ã€ä¸­æ–­ æ“ä½œç³»ç»ŸåŸºæœ¬æ¦‚å¿µ æ“ä½œç³»ç»Ÿæ˜¯æŒ‡æ§åˆ¶å’Œç®¡ç†æ•´ä¸ªè®¡ç®—æœºç³»ç»Ÿçš„ç¡¬ä»¶å’Œè½¯ä»¶èµ„æºï¼Œå¹¶åˆç†çš„ç»„ç»‡è°ƒåº¦è®¡ç®—æœºçš„å·¥ä½œå’Œèµ„æºçš„åˆ†é…ï¼Œä»¥æä¾›ç»™ç”¨æˆ·å’Œå…¶ä»–è½¯ä»¶æ–¹ä¾¿çš„æ¥å£å’Œç¯å¢ƒã€‚å®ƒæ˜¯è®¡ç®—æœºç³»ç»Ÿçš„æœ€åŸºæœ¬çš„ç³»ç»Ÿè½¯ä»¶ã€‚ ä¹Ÿæ˜¯ç³»ç»Ÿè½¯ç¡¬èµ„æºçš„ç®¡ç†æ§åˆ¶ä¸­å¿ƒï¼Œå®ƒä»¥å°½é‡åˆç†æœ‰æ•ˆçš„æ–¹æ³•ç»„ç»‡å¤šä¸ªç”¨æˆ·ï¼ˆè¿›ç¨‹ï¼‰å…±äº«è®¡ç®—æœºçš„å„ç§èµ„æºå¹¶æä¾›ä½¿ç”¨æ¥å£ã€‚æ“ä½œç³»ç»Ÿçš„å››ä¸ªç‰¹å¾ï¼š1. å¹¶å‘ï¼šå¹¶å‘æ˜¯æŒ‡å®è§‚ä¸Šåœ¨ä¸€æ®µæ—¶é—´å†…èƒ½åŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºï¼Œè€Œå¹¶è¡Œåˆ™æŒ‡åŒä¸€æ—¶åˆ»èƒ½è¿è¡Œå¤šä¸ªæŒ‡ä»¤ã€‚å¹¶è¡Œéœ€è¦ç¡¬ä»¶æ”¯æŒï¼Œå¦‚å¤šæµæ°´çº¿ã€å¤šæ ¸å¤„ç†å™¨æˆ–è€…åˆ†å¸ƒå¼è®¡ç®—ç³»ç»Ÿï¼›æ“ä½œç³»ç»Ÿé€šè¿‡å¼•å…¥è¿›ç¨‹å’Œçº¿ç¨‹ï¼Œä½¿å¾—ç¨‹åºèƒ½å¤Ÿå¹¶å‘è¿è¡Œã€‚2. è™šæ‹Ÿï¼šè™šæ‹ŸæŠ€æœ¯æŠŠä¸€ä¸ªç‰©ç†å®ä½“è½¬æ¢ä¸ºå¤šä¸ªé€»è¾‘å®ä½“ã€‚ä¸»è¦æœ‰ä¸¤ç§è™šæ‹ŸæŠ€æœ¯ï¼šæ—¶åˆ†å¤ç”¨æŠ€æœ¯å’Œç©ºåˆ†å¤ç”¨æŠ€æœ¯ã€‚3. å…±äº«ï¼šå…±äº«æ˜¯æŒ‡ç³»ç»Ÿä¸­çš„èµ„æºå¯ä»¥è¢«å¤šä¸ªå¹¶å‘è¿›ç¨‹å…±åŒä½¿ç”¨ï¼›æœ‰ä¸¤ç§å…±äº«æ–¹å¼ï¼šäº’æ–¥å…±äº«å’ŒåŒæ—¶å…±äº«ã€‚äº’æ–¥å…±äº«çš„èµ„æºç§°ä¸ºä¸´ç•Œèµ„æºï¼Œä¾‹å¦‚æ‰“å°æœºç­‰ï¼Œåœ¨åŒä¸€æ—¶é—´åªå…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®ï¼Œéœ€è¦ç”¨åŒæ­¥æœºåˆ¶æ¥å®ç°å¯¹ä¸´ç•Œèµ„æºçš„è®¿é—®ã€‚4. å¼‚æ­¥ï¼šå¼‚æ­¥æŒ‡è¿›ç¨‹ä¸æ˜¯ä¸€æ¬¡æ€§æ‰§è¡Œå®Œæ¯•ï¼Œè€Œæ˜¯èµ°èµ°åœåœï¼Œä»¥ä¸å¯çŸ¥çš„é€Ÿåº¦å‘å‰æ¨è¿›æ“ä½œç³»ç»Ÿçš„åŸºæœ¬åŠŸèƒ½ï¼š è¿›ç¨‹ç®¡ç†(è¿›ç¨‹æ§åˆ¶ã€è¿›ç¨‹åŒæ­¥ã€è¿›ç¨‹é€šä¿¡ã€æ­»é”å¤„ç†ã€å¤„ç†æœºè°ƒåº¦ç­‰) å†…å­˜ç®¡ç†(å†…å­˜åˆ†é…ã€åœ°å€æ˜ å°„ã€å†…å­˜ä¿æŠ¤ä¸å…±äº«ã€è™šæ‹Ÿå†…å­˜ç­‰) æ–‡ä»¶ç®¡ç†(æ–‡ä»¶å­˜å‚¨ç©ºé—´çš„ç®¡ç†ã€ç›®å½•ç®¡ç†ã€æ–‡ä»¶è¯»å†™ç®¡ç†å’Œä¿æŠ¤ç­‰) è®¾å¤‡ç®¡ç†(ç¼“å†²ç®¡ç†ã€è®¾å¤‡åˆ†é…ã€è®¾å¤‡å¤„ç†ã€è™›æ‹Ÿè®¾å¤‡ç­‰)ç³»ç»Ÿè°ƒç”¨ï¼šå¦‚æœä¸€ä¸ªè¿›ç¨‹åœ¨ç”¨æˆ·æ€éœ€è¦ä½¿ç”¨å†…æ ¸æ€çš„åŠŸèƒ½ï¼Œå°±è¿›è¡Œç³»ç»Ÿè°ƒç”¨ä»è€Œé™·å…¥å†…æ ¸ï¼Œç”±æ“ä½œç³»ç»Ÿä»£ä¸ºå®Œæˆã€‚Linux çš„ç³»ç»Ÿè°ƒç”¨ä¸»è¦æœ‰ä»¥ä¸‹è¿™äº›ï¼š Task Commands è¿›ç¨‹æ§åˆ¶ fork(); exit(); wait(); è¿›ç¨‹é€šä¿¡ pipe(); shmget(); mmap(); æ–‡ä»¶æ“ä½œ open(); read(); write(); è®¾å¤‡æ“ä½œ ioctl(); read(); write(); ä¿¡æ¯ç»´æŠ¤ getpid(); alarm(); sleep(); å®‰å…¨ chmod(); umask(); chown(); #### æ“ä½œç³»ç»Ÿçš„è¿è¡Œæœºåˆ¶ï¼š ä¸¤ç§æŒ‡ä»¤ï¼šç‰¹æƒæŒ‡ä»¤å’Œéç‰¹æƒæŒ‡ä»¤ ä¸¤ç§å¤„ç†çŠ¶æ€ï¼šæ ¸å¿ƒæ€ï¼ˆç®¡æ€ï¼‰å’Œç”¨æˆ·æ€ï¼ˆç›®æ€ï¼‰ ä¸¤ç§ç¨‹åºï¼šå†…æ ¸ç¨‹åºï¼ˆè¿è¡Œåœ¨æ ¸å¿ƒæ€ï¼‰å’Œåº”ç”¨ç¨‹åºï¼ˆè¿è¡Œåœ¨ç”¨æˆ·æ€ï¼‰ ç‰¹æƒæŒ‡ä»¤ï¼šåªèƒ½ç”±æ“ä½œç³»ç»Ÿä½¿ç”¨ã€ç”¨æˆ·ç¨‹åºä¸èƒ½ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼šå¯åŠ¨I/Oï¼Œå†…å­˜æ¸…é›¶ï¼Œä¿®æ”¹ç¨‹åºçŠ¶æ€å­—ï¼Œè®¾ç½®æ—¶é’Ÿï¼Œå…è®¸ï¼ç¦æ­¢ä¸­æ–­ï¼Œåœæœº éç‰¹æƒæŒ‡ä»¤ï¼šç”¨æˆ·ç¨‹åºå¯ä»¥ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼šæ§åˆ¶è½¬ç§»ï¼Œç®—æœ¯è¿ç®—ï¼Œè®¿ç®¡æŒ‡ä»¤ï¼Œå–æ•°æŒ‡ä»¤ ç‰¹æƒæŒ‡ä»¤åªèƒ½åœ¨æ ¸å¿ƒæ€ä¸‹è¿è¡Œï¼Œå†…æ ¸ç¨‹åºåªèƒ½åœ¨æ ¸å¿ƒæ€ä¸‹è¿è¡Œã€‚ å†…æ ¸ï¼š å¤§å†…æ ¸ï¼šå°†æ“ä½œç³»ç»Ÿçš„ä¸»è¦åŠŸèƒ½éƒ½ä½œä¸ºç³»ç»Ÿå†…æ ¸ï¼Œè¿è¡Œåœ¨æ ¸å¿ƒæ€ã€‚ç¼ºç‚¹ï¼šç”±äºå„æ¨¡å—å…±äº«ä¿¡æ¯ï¼Œå› æ­¤æœ‰å¾ˆé«˜çš„æ€§èƒ½ï¼Œä½†æ˜¯ç»“æ„æ··ä¹±ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚ å¾®å†…æ ¸ï¼šç”±äºæ“ä½œç³»ç»Ÿä¸æ–­å¤æ‚ï¼Œå› æ­¤å°†ä¸€éƒ¨åˆ†æ“ä½œç³»ç»ŸåŠŸèƒ½ç§»å‡ºå†…æ ¸ï¼Œä»è€Œé™ä½å†…æ ¸çš„å¤æ‚æ€§ã€‚ç§»å‡ºçš„éƒ¨åˆ†æ ¹æ®åˆ†å±‚çš„åŸåˆ™åˆ’åˆ†æˆè‹¥å¹²æœåŠ¡ï¼Œç›¸äº’ç‹¬ç«‹ã€‚åœ¨å¾®å†…æ ¸ç»“æ„ä¸‹ï¼Œæ“ä½œç³»ç»Ÿè¢«åˆ’åˆ†æˆå°çš„ã€å®šä¹‰è‰¯å¥½çš„æ¨¡å—ï¼Œåªæœ‰å¾®å†…æ ¸è¿™ä¸€ä¸ªæ¨¡å—è¿è¡Œåœ¨å†…æ ¸æ€ï¼Œå…¶ä½™æ¨¡å—è¿è¡Œåœ¨ç”¨æˆ·æ€ã€‚å› ä¸ºéœ€è¦é¢‘ç¹åœ°åœ¨ç”¨æˆ·æ€å’Œæ ¸å¿ƒæ€ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€å®šçš„æ€§èƒ½æŸå¤±ã€‚ ä¸­æ–­ï¼šåˆ†ç±»ï¼š å¤–ä¸­æ–­: ç”± CPU æ‰§è¡ŒæŒ‡ä»¤ä»¥å¤–çš„äº‹ä»¶å¼•èµ·ï¼Œå¦‚I/Oå®Œæˆä¸­æ–­ï¼Œè¡¨ç¤ºè®¾å¤‡è¾“å…¥/è¾“å‡ºå¤„ç†å·²ç»å®Œæˆï¼Œå¤„ç†å™¨èƒ½å¤Ÿå‘é€ä¸‹ä¸€ä¸ªè¾“å…¥/è¾“å‡ºè¯·æ±‚ã€‚æ­¤å¤–è¿˜æœ‰æ—¶é’Ÿä¸­æ–­ã€æ§åˆ¶å°ä¸­æ–­ç­‰ã€‚ å†…ä¸­æ–­: â‘ å¼‚å¸¸: ç”± CPU æ‰§è¡ŒæŒ‡ä»¤çš„å†…éƒ¨äº‹ä»¶å¼•èµ·ï¼Œå¦‚éæ³•æ“ä½œç ã€åœ°å€è¶Šç•Œã€ç®—æœ¯æº¢å‡ºç­‰ã€‚â‘¡é™·å…¥: åœ¨ç”¨æˆ·ç¨‹åºä¸­ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ã€‚ ç”¨æˆ·æ€ä¸æ ¸å¿ƒæ€çš„è½¬æ¢ï¼š ä¸­æ–­æ˜¯å®ç°ç”¨æˆ·æ€åˆ°æ ¸å¿ƒæ€çš„å”¯ä¸€é€”å¾„ã€‚ æ ¸å¿ƒæ€åˆ°ç”¨æˆ·æ€çš„åˆ‡æ¢æ˜¯é€šè¿‡æ‰§è¡Œä¸€ä¸ªç‰¹æƒæŒ‡ä»¤ï¼Œå°†ç¨‹åºçŠ¶æ€å­—(PSW)çš„æ ‡å¿—ä½è®¾ä¸º â€œç”¨æˆ·æ€â€ã€‚","categories":[{"name":"è®¡ç®—æœºåŸºç¡€","slug":"è®¡ç®—æœºåŸºç¡€","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/è®¡ç®—æœºåŸºç¡€/"}],"tags":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/æ“ä½œç³»ç»Ÿ/"}]},{"title":"23ç§è®¾è®¡æ¨¡å¼","slug":"23ç§è®¾è®¡æ¨¡å¼å…¨","date":"2019-05-12T10:25:08.000Z","updated":"2019-09-30T13:56:46.000Z","comments":true,"path":"2019/05/12/23-chong-she-ji-mo-shi-quan/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/05/12/23-chong-she-ji-mo-shi-quan/","excerpt":"","text":"åˆå­¦è®¾è®¡æ¨¡å¼ï¼Œå»ºè®®å¯ä»¥å‚è€ƒèœé¸Ÿæ•™ç¨‹ï¼Œé‡Œé¢è®²çš„å¾ˆè¯¦ç»†ï¼Œåæ¥å‘ç°é‚£é‡Œä¹Ÿæ˜¯ä»å›½å¤–çš„ç¿»è¯‘è¿‡æ¥çš„hhhï¼Œè¿™é‡Œæˆ‘æ€»ç»“ä¸€ä¸‹å¸¸è§çš„23ç§è®¾è®¡æ¨¡å¼ã€‚ ä¸€ã€è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™ï¼š1ã€å¼€é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰ å¼€é—­åŸåˆ™å°±æ˜¯è¯´å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½å»ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œè€Œæ˜¯è¦æ‰©å±•åŸæœ‰ä»£ç ï¼Œå®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚æ‰€ä»¥ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼šä¸ºäº†ä½¿ç¨‹åºçš„æ‰©å±•æ€§å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§ã€‚æƒ³è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»ç­‰ã€‚ 2ã€é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰ é¢å‘å¯¹è±¡è®¾è®¡çš„åŸºæœ¬åŸåˆ™ä¹‹ä¸€ï¼Œæ˜¯å¯¹â€œå¼€-é—­â€åŸåˆ™çš„è¡¥å……ã€‚å®ç°â€œå¼€-é—­â€åŸåˆ™çš„å…³é”®æ­¥éª¤å°±æ˜¯æŠ½è±¡åŒ–ã€‚åœ¨è¿›è¡Œè®¾è®¡çš„æ—¶å€™,æˆ‘ä»¬åº”è¯¥å°½é‡ä»æŠ½è±¡ç±»ç»§æ‰¿,è€Œä¸æ˜¯ä»å…·ä½“ç±»ç»§æ‰¿.å¦‚æœä»ç»§æ‰¿ç­‰æ ‘æ¥çœ‹,æ‰€æœ‰å¶å­èŠ‚ç‚¹åº”å½“æ˜¯å…·ä½“ç±»,è€Œæ‰€æœ‰çš„æ ‘æèŠ‚ç‚¹åº”å½“æ˜¯æŠ½è±¡ç±»æˆ–è€…æ¥å£.å½“ç„¶è¿™åªæ˜¯ä¸€ä¸ªä¸€èˆ¬æ€§çš„æŒ‡å¯¼åŸåˆ™,ä½¿ç”¨çš„æ—¶å€™è¿˜è¦å…·ä½“æƒ…å†µå…·ä½“åˆ†æã€‚ 3ã€ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰ è¿™ä¸ªæ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„æ ¸å¿ƒåŸåˆ™ï¼Œå…·ä½“å†…å®¹ï¼šé’ˆå¯¹æ¥å£ç¼–ç¨‹,ä¸é’ˆå¯¹å®ç°ç¼–ç¨‹ã€‚ä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚å†™ä»£ç ç”¨åˆ°å…·ä½“ç±»æ—¶ï¼Œä¸ä¸å…·ä½“ç±»äº¤äº’ï¼Œè€Œä¸å…·ä½“ç±»çš„ä¸Šå±‚æ¥å£äº¤äº’ã€‚ 4ã€æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰ æ¯ä¸ªæ¥å£ä¸­ä¸å­˜åœ¨å­ç±»ç”¨ä¸åˆ°å´å¿…é¡»å®ç°çš„æ–¹æ³•ï¼Œå¦‚æœä¸ç„¶ï¼Œå°±è¦å°†æ¥å£æ‹†åˆ†ã€‚ä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£ï¼ˆå¤šä¸ªæ¥å£æ–¹æ³•é›†åˆåˆ°ä¸€ä¸ªçš„æ¥å£ï¼‰è¦å¥½ã€‚ 5ã€è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰ï¼ˆDemeter Principleï¼‰ ä¸€ä¸ªç±»å¯¹è‡ªå·±ä¾èµ–çš„ç±»çŸ¥é“çš„è¶Šå°‘è¶Šå¥½ã€‚ä¹Ÿå°±æ˜¯è¯´æ— è®ºè¢«ä¾èµ–çš„ç±»å¤šä¹ˆå¤æ‚ï¼Œéƒ½åº”è¯¥å°†é€»è¾‘å°è£…åœ¨æ–¹æ³•çš„å†…éƒ¨ï¼Œé€šè¿‡publicæ–¹æ³•æä¾›ç»™å¤–éƒ¨ã€‚è¿™æ ·å½“è¢«ä¾èµ–çš„ç±»å˜åŒ–æ—¶ï¼Œæ‰èƒ½æœ€å°çš„å½±å“è¯¥ç±»ã€‚å³ä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å°½å¯èƒ½å°‘åœ°ä¸å…¶ä»–å®ä½“å‘ç”Ÿç›¸äº’ä½œç”¨ï¼Œé€šè¿‡ä¸­é—´ç±»å»ºç«‹è”ç³»ã€‚ 6ã€åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite Reuse Principleï¼‰ åŸåˆ™ä¸€å¥è¯:æ˜¯å°½é‡é¦–å…ˆä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚ äºŒã€åˆ›å»ºå‹æ¨¡å¼(5ç§)ç®€å•å·¥å‚æ¨¡å¼ï¼šç®€å•å·¥å‚æ¨¡å¼æ˜¯å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œåˆå«åšé™æ€å·¥å‚æ–¹æ³•ï¼ˆStatic Factory Methodï¼‰æ¨¡å¼ï¼Œå®ƒä¸å±äº23ç§GOFè®¾è®¡æ¨¡å¼ï¼Œä½†æ˜¯å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ç§ç‰¹æ®Šçš„å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œåœ¨ç®€å•å·¥å‚æ¨¡å¼ä¸­ï¼Œå¯ä»¥æ ¹æ®å‚æ•°çš„ä¸åŒè¿”å›ä¸åŒç±»çš„å®ä¾‹ã€‚ç®€å•å·¥å‚æ¨¡å¼ä¸“é—¨å®šä¹‰ä¸€ä¸ªç±»æ¥è´Ÿè´£åˆ›å»ºå…¶ä»–ç±»çš„å®ä¾‹ï¼Œè¢«åˆ›å»ºçš„å®ä¾‹é€šå¸¸éƒ½å…·æœ‰ç›¸åŒçš„çˆ¶ç±»ã€‚ åº”ç”¨ï¼š java.text.DateFormat å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šç®€å•å·¥å‚æ¨¡å¼æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œç±»çš„åˆ›å»ºä¾èµ–å·¥å‚ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæƒ³è¦æ‹“å±•ç¨‹åºï¼Œå¿…é¡»å¯¹å·¥å‚ç±»è¿›è¡Œä¿®æ”¹ï¼Œè¿™è¿èƒŒäº†é—­åŒ…åŸåˆ™ï¼Œæ‰€ä»¥ï¼Œä»è®¾è®¡è§’åº¦è€ƒè™‘ï¼Œæœ‰ä¸€å®šçš„é—®é¢˜ï¼Œå¦‚ä½•è§£å†³ï¼Ÿå°±ç”¨åˆ°å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œåœ¨ç®€å•å·¥å‚ä¸­ï¼Œåˆ›å»ºå¯¹è±¡çš„æ˜¯å¦ä¸€ä¸ªç±»ï¼Œè€Œåœ¨å·¥å‚æ–¹æ³•ä¸­ï¼Œå·¥å‚çˆ¶ç±»è´Ÿè´£åˆ›å»ºå¯¹è±¡çš„å…¬å…±æ¥å£ï¼Œå·¥å‚å­ç±»æ¥åˆ›å»ºå…·ä½“çš„å¯¹è±¡ã€‚é€‚ç”¨åœºæ™¯ï¼š å®¢æˆ·ä¸éœ€è¦çŸ¥é“è¦ä½¿ç”¨çš„å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ å®¢æˆ·ä½¿ç”¨çš„å¯¹è±¡å­˜åœ¨å˜åŠ¨çš„å¯èƒ½ï¼Œæˆ–è€…æ ¹æœ¬å°±ä¸çŸ¥é“ä½¿ç”¨å“ªä¸€ä¸ªå…·ä½“å¯¹è±¡ ä¼˜ç¼ºç‚¹ï¼š ä¸€æ—¦éœ€è¦å¢åŠ æ–°çš„åŠŸèƒ½ï¼Œç›´æ¥å¢åŠ å…·ä½“å·¥å‚å’Œå…·ä½“äº§å“å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦ä¿®æ”¹ä¹‹å‰çš„ä»£ç ã€‚ å¢åŠ æ–°äº§å“çš„åŒæ—¶éœ€è¦å¢åŠ æ–°çš„å·¥å‚ï¼Œå¯¼è‡´ç³»ç»Ÿç±»çš„ä¸ªæ•°æˆå¯¹å¢åŠ ï¼Œä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿå¤æ‚æ€§ã€‚ åº”ç”¨ï¼š java.util.Calendar java.text.NumberFormat æŠ½è±¡å·¥å‚æ¨¡å¼ï¼š å¤šä¸ªæŠ½è±¡äº§å“ç±»ï¼Œæ¯ä¸ªæŠ½è±¡äº§å“ç±»å¯ä»¥æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“äº§å“ç±»ã€‚ ä¸€ä¸ªæŠ½è±¡å·¥å‚ç±»ï¼Œå¯ä»¥æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“å·¥å‚ç±»ã€‚ æ¯ä¸ªå…·ä½“å·¥å‚ç±»å¯ä»¥åˆ›å»ºå¤šä¸ªå…·ä½“äº§å“ç±»çš„å®ä¾‹ã€‚ å·¥å‚æ–¹æ³•æ¨¡å¼åªæœ‰ä¸€ä¸ªæŠ½è±¡äº§å“ç±»ï¼Œè€ŒæŠ½è±¡å·¥å‚æ¨¡å¼æœ‰å¤šä¸ªã€‚ å·¥å‚æ–¹æ³•æ¨¡å¼çš„å…·ä½“å·¥å‚ç±»åªèƒ½åˆ›å»ºä¸€ä¸ªå…·ä½“äº§å“ç±»çš„å®ä¾‹ï¼Œè€ŒæŠ½è±¡å·¥å‚æ¨¡å¼å¯ä»¥åˆ›å»ºå¤šä¸ªã€‚ é€‚ç”¨åœºæ™¯ï¼š ç³»ç»Ÿä¸­æœ‰å¤šä¸ªäº§å“æ—ï¼Œè€Œç³»ç»Ÿä¸€æ¬¡åªèƒ½æ¶ˆè´¹å…¶ä¸­ä¸€æ—äº§å“ åŒå±äºåŒä¸€ä¸ªäº§å“æ—çš„äº§å“ä¸€èµ·ä½¿ç”¨ ä¼˜ç¼ºç‚¹ï¼š æ–°å¢äº§å“æ—å¾ˆæ–¹ä¾¿ï¼Œåªéœ€è¦å¢åŠ ä¸€ä¸ªå…·ä½“å·¥å‚å³å¯ã€‚ ä½†å¦‚æœè¦å¢åŠ æ–°äº§å“ç­‰çº§ç»“æ„ï¼Œå°±éœ€è¦ä¿®æ”¹æŠ½è±¡å·¥å‚å’Œæ‰€æœ‰å…·ä½“å·¥å‚ç±»ï¼Œè¿™ç§æ€§è´¨è¢«ç§°ä¸º å¼€é—­åŸåˆ™ çš„å€¾æ–œæ€§ã€‚ å•ä¾‹æ¨¡å¼ï¼šåœ¨Javaåº”ç”¨ä¸­ï¼Œå•ä¾‹å¯¹è±¡èƒ½ä¿è¯åœ¨ä¸€ä¸ªJVMä¸­ï¼Œè¯¥å¯¹è±¡åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚ å•ä¾‹æ¨¡å¼çš„å®ç°æœ‰æ‡’æ±‰å¼(çº¿ç¨‹ä¸å®‰å…¨)ã€é¥¿æ±‰å¼(çº¿ç¨‹å®‰å…¨ï¼Œä¸€å¼€å§‹å°±ç›´æ¥å®ä¾‹åŒ–)ï¼Œé™æ€å†…éƒ¨ç±»å®ç°ç­‰ã€‚ é™æ€å†…éƒ¨ç±»å®ç°ï¼šä½¿ç”¨å†…éƒ¨ç±»æ¥ç»´æŠ¤å•ä¾‹çš„å®ç°ï¼ŒJVMå†…éƒ¨çš„æœºåˆ¶èƒ½å¤Ÿä¿è¯å½“ä¸€ä¸ªç±»è¢«åŠ è½½çš„æ—¶å€™ï¼Œè¿™ä¸ªç±»çš„åŠ è½½è¿‡ç¨‹æ˜¯çº¿ç¨‹äº’æ–¥çš„ã€‚è¿™æ ·å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡è°ƒç”¨getInstanceçš„æ—¶å€™ï¼ŒJVMèƒ½å¤Ÿå¸®æˆ‘ä»¬ä¿è¯instanceåªè¢«åˆ›å»ºä¸€æ¬¡ï¼Œå¹¶ä¸”ä¼šä¿è¯æŠŠèµ‹å€¼ç»™instanceçš„å†…å­˜åˆå§‹åŒ–å®Œæ¯•ï¼Œé¿å…å‡ºç° JVM å…·æœ‰æŒ‡ä»¤é‡æ’çš„ç‰¹æ€§ã€‚ public class Singleton { /* ç§æœ‰æ„é€ æ–¹æ³•ï¼Œé˜²æ­¢è¢«å®ä¾‹åŒ– */ private Singleton() { } /* æ­¤å¤„ä½¿ç”¨ä¸€ä¸ªå†…éƒ¨ç±»æ¥ç»´æŠ¤å•ä¾‹ */ private static class SingletonFactory { private static Singleton instance = new Singleton(); } /* è·å–å®ä¾‹ */ public static Singleton getInstance() { return SingletonFactory.instance; } /* å¦‚æœè¯¥å¯¹è±¡è¢«ç”¨äºåºåˆ—åŒ–ï¼Œå¯ä»¥ä¿è¯å¯¹è±¡åœ¨åºåˆ—åŒ–å‰åä¿æŒä¸€è‡´ */ public Object readResolve() { return getInstance(); } å»ºé€ è€…æ¨¡å¼ï¼šå»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰ä½¿ç”¨å¤šä¸ªç®€å•çš„å¯¹è±¡ä¸€æ­¥ä¸€æ­¥æ„å»ºæˆä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ã€‚ä¸»è¦è§£å†³åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œæœ‰æ—¶å€™é¢ä¸´ç€â€ä¸€ä¸ªå¤æ‚å¯¹è±¡â€çš„åˆ›å»ºå·¥ä½œï¼Œå…¶é€šå¸¸ç”±å„ä¸ªéƒ¨åˆ†çš„å­å¯¹è±¡ç”¨ä¸€å®šçš„ç®—æ³•æ„æˆï¼›ç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œè¿™ä¸ªå¤æ‚å¯¹è±¡çš„å„ä¸ªéƒ¨åˆ†ç»å¸¸é¢ä¸´ç€å‰§çƒˆçš„å˜åŒ–ï¼Œä½†æ˜¯å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·çš„ç®—æ³•å´ç›¸å¯¹ç¨³å®šã€‚ å¦‚Javaä¸­çš„StringBuilderç±»çš„å®ç°å°±æ˜¯åº”ç”¨è¿™ç§æ¨¡å¼ã€‚ åŸå‹æ¨¡å¼ï¼šåŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰æ˜¯ç”¨äºåˆ›å»ºé‡å¤çš„å¯¹è±¡ï¼ŒåŒæ—¶åˆèƒ½ä¿è¯æ€§èƒ½ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ï¼Œç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ å…³é”®ä»£ç ï¼šå®ç°å…‹éš†æ“ä½œï¼Œåœ¨ JAVA å®ç° Cloneableï¼Œé‡å†™ clone()ï¼› ä¼˜ç‚¹ï¼š æ€§èƒ½æé«˜ã€‚ é€ƒé¿æ„é€ å‡½æ•°çš„çº¦æŸã€‚ ç¼ºç‚¹ï¼š é…å¤‡å…‹éš†æ–¹æ³•éœ€è¦å¯¹ç±»çš„åŠŸèƒ½è¿›è¡Œé€šç›˜è€ƒè™‘ï¼Œè¿™å¯¹äºå…¨æ–°çš„ç±»ä¸æ˜¯å¾ˆéš¾ï¼Œä½†å¯¹äºå·²æœ‰çš„ç±»ä¸ä¸€å®šå¾ˆå®¹æ˜“ï¼Œç‰¹åˆ«å½“ä¸€ä¸ªç±»å¼•ç”¨ä¸æ”¯æŒä¸²è¡ŒåŒ–çš„é—´æ¥å¯¹è±¡ï¼Œæˆ–è€…å¼•ç”¨å«æœ‰å¾ªç¯ç»“æ„çš„æ—¶å€™ã€‚ å¿…é¡»å®ç° Cloneable æ¥å£ã€‚ ä¸‰ã€ç»“æ„å‹æ¨¡å¼(7ç§)é€‚é…å™¨æ¨¡å¼ï¼šé€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ˜¯ä½œä¸ºä¸¤ä¸ªä¸å…¼å®¹çš„æ¥å£ä¹‹é—´çš„æ¡¥æ¢ï¼Œå®ƒç»“åˆäº†ä¸¤ä¸ªç‹¬ç«‹æ¥å£çš„åŠŸèƒ½ã€‚å¦‚è¯»å¡å™¨æ˜¯ä½œä¸ºå†…å­˜å¡å’Œç¬”è®°æœ¬ä¹‹é—´çš„é€‚é…å™¨ã€‚æ‚¨å°†å†…å­˜å¡æ’å…¥è¯»å¡å™¨ï¼Œå†å°†è¯»å¡å™¨æ’å…¥ç¬”è®°æœ¬ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ç¬”è®°æœ¬æ¥è¯»å–å†…å­˜å¡ã€‚ æ–¹æ³•ï¼šé€‚é…å™¨ç»§æ‰¿æˆ–ä¾èµ–å·²æœ‰çš„å¯¹è±¡ï¼Œå®ç°æƒ³è¦çš„ç›®æ ‡æ¥å£ã€‚ ä¼˜ç‚¹ï¼š å¯ä»¥è®©ä»»ä½•ä¸¤ä¸ªæ²¡æœ‰å…³è”çš„ç±»ä¸€èµ·è¿è¡Œã€‚ æé«˜äº†ç±»çš„å¤ç”¨ã€‚ å¢åŠ äº†ç±»çš„é€æ˜åº¦ã€‚ ç¼ºç‚¹ï¼š è¿‡å¤šåœ°ä½¿ç”¨é€‚é…å™¨ï¼Œä¼šè®©ç³»ç»Ÿéå¸¸é›¶ä¹±ï¼Œä¸æ˜“æ•´ä½“è¿›è¡ŒæŠŠæ¡ã€‚ å›  JAVA è‡³å¤šç»§æ‰¿ä¸€ä¸ªç±»ï¼Œæ‰€ä»¥è‡³å¤šåªèƒ½é€‚é…ä¸€ä¸ªé€‚é…è€…ç±»ï¼Œè€Œä¸”ç›®æ ‡ç±»å¿…é¡»æ˜¯æŠ½è±¡ç±»ã€‚ åº”ç”¨ï¼šjava.util.Arrays#asList() æ¡¥æ¥æ¨¡å¼ï¼šå°†æŠ½è±¡å’Œå®ç°æ”¾åœ¨ä¸¤ä¸ªä¸åŒçš„ç±»å±‚æ¬¡ä¸­ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚â€”â€”ã€ŠHead First è®¾è®¡æ¨¡å¼ã€‹ å°†ç±»çš„åŠŸèƒ½å±‚æ¬¡ç»“æ„å’Œå®ç°å±‚æ¬¡ç»“æ„ç›¸åˆ†ç¦»ï¼Œä½¿äºŒè€…èƒ½å¤Ÿç‹¬ç«‹åœ°å˜åŒ–ï¼Œå¹¶åœ¨ä¸¤è€…ä¹‹é—´æ­å»ºæ¡¥æ¢ï¼Œå®ç°æ¡¥æ¥ã€‚â€”â€” ã€Šå›¾è§£è®¾è®¡æ¨¡å¼ã€‹ æˆ‘ä»¬å¸¸ç”¨çš„JDBCæ¡¥DriverManagerå°±æ˜¯å¦‚æ­¤ï¼ŒJDBCè¿›è¡Œè¿æ¥æ•°æ®åº“çš„æ—¶å€™ï¼Œåœ¨å„ä¸ªæ•°æ®åº“ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼ŒåŸºæœ¬ä¸éœ€è¦åŠ¨å¤ªå¤šçš„ä»£ç ï¼Œç”šè‡³ä¸æ¯«ä¸ç”¨åŠ¨ï¼ŒåŸå› å°±æ˜¯JDBCæä¾›ç»Ÿä¸€æ¥å£ï¼Œæ¯ä¸ªæ•°æ®åº“æä¾›å„è‡ªçš„å®ç°ï¼Œç”¨ä¸€ä¸ªå«åšæ•°æ®åº“é©±åŠ¨çš„ç¨‹åºæ¥æ¡¥æ¥å°±è¡Œäº†ã€‚ ç»„åˆæ¨¡å¼ï¼šç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰ï¼Œæ˜¯ç”¨äºæŠŠä¸€ç»„ç›¸ä¼¼çš„å¯¹è±¡å½“ä½œä¸€ä¸ªå•ä¸€çš„å¯¹è±¡ã€‚å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„æ¥è¡¨ç¤ºâ€œæ•´ä½“/éƒ¨åˆ†â€å±‚æ¬¡å…³ç³»ï¼Œå…è®¸ç”¨æˆ·ä»¥ç›¸åŒçš„æ–¹å¼å¤„ç†å•ç‹¬å¯¹è±¡å’Œç»„åˆå¯¹è±¡ã€‚ ä¼˜ç‚¹ï¼š é«˜å±‚æ¨¡å—è°ƒç”¨ç®€å•ã€‚ èŠ‚ç‚¹è‡ªç”±å¢åŠ ã€‚ ç¼ºç‚¹ï¼š åœ¨ä½¿ç”¨ç»„åˆæ¨¡å¼æ—¶ï¼Œå…¶å¶å­å’Œæ ‘æçš„å£°æ˜éƒ½æ˜¯å®ç°ç±»ï¼Œè€Œä¸æ˜¯æ¥å£ï¼Œè¿åäº†ä¾èµ–å€’ç½®åŸåˆ™ã€‚ åº”ç”¨ï¼š(ç»„åˆæ¨¡å¼çš„ä½¿ç”¨åœºæ™¯å°±æ˜¯å‡ºç°æ ‘å½¢ç»“æ„çš„åœ°æ–¹) æ–‡ä»¶ç›®å½•æ˜¾ç¤ºï¼Œå¤šåŠç›®å½•å‘ˆç°ç­‰æ ‘å½¢ç»“æ„æ•°æ®çš„æ“ä½œ java.util.Map#putAll(Map) java.util.List#addAll(Collection) java.util.Set#addAll(Collection) è£…é¥°è€…æ¨¡å¼ï¼šè£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰å…è®¸å‘ä¸€ä¸ªç°æœ‰çš„å¯¹è±¡æ·»åŠ æ–°çš„åŠŸèƒ½ï¼ŒåŒæ—¶åˆä¸æ”¹å˜å…¶ç»“æ„ã€‚è¿™ç§å®ƒæ˜¯ä½œä¸ºç°æœ‰çš„ç±»çš„ä¸€ä¸ªåŒ…è£…ã€‚è¿™ç§æ¨¡å¼åˆ›å»ºäº†ä¸€ä¸ªè£…é¥°ç±»ï¼Œç”¨æ¥åŒ…è£…åŸæœ‰çš„ç±»ï¼Œå¹¶åœ¨ä¿æŒç±»æ–¹æ³•ç­¾åå®Œæ•´æ€§çš„å‰æä¸‹ï¼Œæä¾›äº†é¢å¤–çš„åŠŸèƒ½ã€‚è¦æ±‚è£…é¥°å¯¹è±¡å’Œè¢«è£…é¥°å¯¹è±¡å®ç°åŒä¸€ä¸ªæ¥å£ã€‚ ä¼˜ç‚¹ï¼šè£…é¥°ç±»å’Œè¢«è£…é¥°ç±»å¯ä»¥ç‹¬ç«‹å‘å±•ï¼Œä¸ä¼šç›¸äº’è€¦åˆï¼Œè£…é¥°æ¨¡å¼æ˜¯ç»§æ‰¿çš„ä¸€ä¸ªæ›¿ä»£æ¨¡å¼ï¼Œè£…é¥°æ¨¡å¼å¯ä»¥åŠ¨æ€æ‰©å±•ä¸€ä¸ªå®ç°ç±»çš„åŠŸèƒ½ã€‚ ç¼ºç‚¹ï¼šå¤šå±‚è£…é¥°æ¯”è¾ƒå¤æ‚ã€‚ ä½¿ç”¨åœºæ™¯ï¼š æ‰©å±•ä¸€ä¸ªç±»çš„åŠŸèƒ½ã€‚ åŠ¨æ€çš„ä¸ºä¸€ä¸ªå¯¹è±¡å¢åŠ åŠŸèƒ½ï¼Œè€Œä¸”è¿˜èƒ½åŠ¨æ€æ’¤é”€ã€‚ï¼ˆç»§æ‰¿ä¸èƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼Œç»§æ‰¿çš„åŠŸèƒ½æ˜¯é™æ€çš„ï¼Œä¸èƒ½åŠ¨æ€å¢åˆ ã€‚ï¼‰ å¤–è§‚æ¨¡å¼ï¼šå¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰éšè—ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œå¹¶å‘å®¢æˆ·ç«¯æä¾›äº†ä¸€ä¸ªå®¢æˆ·ç«¯å¯ä»¥è®¿é—®ç³»ç»Ÿçš„æ¥å£ï¼Œç”¨æ¥è®¿é—®å­ç³»ç»Ÿä¸­çš„ä¸€ç¾¤æ¥å£ï¼Œä»è€Œè®©å­ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨ã€‚ ä¼˜ç‚¹ï¼š å‡å°‘ç³»ç»Ÿç›¸äº’ä¾èµ–ã€‚ æé«˜çµæ´»æ€§ã€‚ æé«˜äº†å®‰å…¨æ€§ã€‚ ç¼ºç‚¹ï¼š ä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œå¦‚æœè¦æ”¹ä¸œè¥¿å¾ˆéº»çƒ¦ï¼Œç»§æ‰¿é‡å†™éƒ½ä¸åˆé€‚ã€‚ ä½¿ç”¨åœºæ™¯ï¼š JAVA çš„ä¸‰å±‚å¼€å‘æ¨¡å¼ã€‚ å‡è®¾ä¸€å°ç”µè„‘ï¼Œå®ƒåŒ…å«äº† CPUï¼ŒMemory ï¼ŒDiskï¼‰è¿™å‡ ä¸ªéƒ¨ä»¶ï¼Œè‹¥æƒ³è¦å¯åŠ¨ç”µè„‘ï¼Œåˆ™å…ˆåå¿…é¡»å¯åŠ¨ CPUã€Memoryã€Diskã€‚å…³é—­ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬åœ¨ç”µè„‘å¼€/å…³æœºæ—¶æ ¹æœ¬ä¸éœ€è¦å»æ“ä½œè¿™äº›ç»„ä»¶ï¼Œå› ä¸ºç”µè„‘å·²ç»å¸®æˆ‘ä»¬éƒ½å¤„ç†å¥½äº†ï¼Œå¹¶éšè—äº†è¿™äº›ä¸œè¥¿ã€‚è¿™äº›ç»„ä»¶å¥½æ¯”å­ç³»ç»Ÿè§’è‰²(ä¸€ä¸ªç³»ç»Ÿçš„å­ç³»ç»Ÿæˆ–æ¨¡å—)ï¼Œè€Œç”µè„‘å°±æ˜¯ä¸€ä¸ªå¤–è§‚è§’è‰²(å®¢æˆ·ç«¯é€šè¿‡æ“ä½œå¤–è§‚è§’è‰²ä»è€Œè¾¾åˆ°æ§åˆ¶å­ç³»ç»Ÿè§’è‰²çš„ç›®çš„)ã€‚ äº«å…ƒæ¨¡å¼ï¼šäº«å…ƒæ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯å®ç°å¯¹è±¡çš„å…±äº«ï¼Œå³å…±äº«æ± ï¼Œå½“ç³»ç»Ÿä¸­å¯¹è±¡å¤šçš„æ—¶å€™å¯ä»¥å‡å°‘å†…å­˜çš„å¼€é”€ï¼Œé€šå¸¸ä¸å·¥å‚æ¨¡å¼ä¸€èµ·ä½¿ç”¨ã€‚äº«å…ƒæ¨¡å¼å°è¯•é‡ç”¨ç°æœ‰çš„åŒç±»å¯¹è±¡ï¼Œå¦‚æœæœªæ‰¾åˆ°åŒ¹é…çš„å¯¹è±¡ï¼Œåˆ™åˆ›å»ºæ–°å¯¹è±¡ã€‚ FlyWeightFactoryè´Ÿè´£åˆ›å»ºå’Œç®¡ç†äº«å…ƒå•å…ƒï¼Œå½“ä¸€ä¸ªå®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå·¥å‚éœ€è¦æ£€æŸ¥å½“å‰å¯¹è±¡æ± ä¸­æ˜¯å¦æœ‰ç¬¦åˆæ¡ä»¶çš„å¯¹è±¡ï¼Œå¦‚æœæœ‰ï¼Œå°±è¿”å›å·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚ ä¼˜ç‚¹ï¼šå¤§å¤§å‡å°‘å¯¹è±¡çš„åˆ›å»ºï¼Œé™ä½ç³»ç»Ÿçš„å†…å­˜ï¼Œä½¿æ•ˆç‡æé«˜ã€‚ ç¼ºç‚¹ï¼šæé«˜äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œéœ€è¦åˆ†ç¦»å‡ºå¤–éƒ¨çŠ¶æ€å’Œå†…éƒ¨çŠ¶æ€ï¼Œè€Œä¸”å¤–éƒ¨çŠ¶æ€å…·æœ‰å›ºæœ‰åŒ–çš„æ€§è´¨ï¼Œä¸åº”è¯¥éšç€å†…éƒ¨çŠ¶æ€çš„å˜åŒ–è€Œå˜åŒ–ï¼Œå¦åˆ™ä¼šé€ æˆç³»ç»Ÿçš„æ··ä¹±ã€‚ åº”ç”¨ï¼š 1ã€JAVA ä¸­çš„ Stringï¼Œå¦‚æœæœ‰åˆ™è¿”å›ï¼Œå¦‚æœæ²¡æœ‰åˆ™åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ä¿å­˜åœ¨å­—ç¬¦ä¸²ç¼“å­˜æ± é‡Œé¢ã€‚ 2ã€æ•°æ®åº“è¿æ¥æ± ï¼Œä¸éœ€è¦æ¯ä¸€æ¬¡éƒ½é‡æ–°åˆ›å»ºè¿æ¥ï¼ŒèŠ‚çœäº†æ•°æ®åº“é‡æ–°åˆ›å»ºçš„å¼€é”€ã€‚ java.lang.Integer.valueOf() ä»£ç†æ¨¡å¼ï¼šåœ¨ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰ä¸­ï¼Œä¸€ä¸ªç±»ä»£è¡¨å¦ä¸€ä¸ªç±»çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬åˆ›å»ºå…·æœ‰ç°æœ‰å¯¹è±¡çš„å¯¹è±¡ï¼Œä»¥ä¾¿å‘å¤–ç•Œæä¾›åŠŸèƒ½æ¥å£ï¼Œä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨ç§Ÿæˆ¿å­çš„æ—¶å€™å›å»æ‰¾ä¸­ä»‹ï¼Œå› ä¸ºä½ å¯¹è¯¥åœ°åŒºæˆ¿å±‹çš„ä¿¡æ¯æŒæ¡çš„ä¸å¤Ÿå…¨é¢ï¼Œå¸Œæœ›æ‰¾ä¸€ä¸ªæ›´ç†Ÿæ‚‰çš„äººå»å¸®ä½ åšï¼Œæ­¤å¤„çš„ä»£ç†å°±æ˜¯è¿™ä¸ªæ„æ€ã€‚å†å¦‚æˆ‘ä»¬æœ‰çš„æ—¶å€™æ‰“å®˜å¸ï¼Œæˆ‘ä»¬éœ€è¦è¯·å¾‹å¸ˆï¼Œå› ä¸ºå¾‹å¸ˆåœ¨æ³•å¾‹æ–¹é¢æœ‰ä¸“é•¿ï¼Œå¯ä»¥æ›¿æˆ‘ä»¬è¿›è¡Œæ“ä½œï¼Œè¡¨è¾¾æˆ‘ä»¬çš„æƒ³æ³•ã€‚ ä¼˜ç‚¹ï¼š èŒè´£æ¸…æ™°ã€‚ é«˜æ‰©å±•æ€§ã€‚ æ™ºèƒ½åŒ–ã€‚ ç¼ºç‚¹ï¼š 1ã€å®¢æˆ·ç«¯å’ŒçœŸå®ä¸»é¢˜ä¹‹é—´å¢åŠ äº†ä»£ç†å¯¹è±¡ï¼Œå› æ­¤æœ‰äº›ç±»å‹çš„ä»£ç†æ¨¡å¼å¯èƒ½ä¼šé€ æˆè¯·æ±‚çš„å¤„ç†é€Ÿåº¦å˜æ…¢ã€‚ 2ã€å®ç°ä»£ç†æ¨¡å¼éœ€è¦é¢å¤–çš„å·¥ä½œï¼Œæœ‰äº›ä»£ç†æ¨¡å¼çš„å®ç°éå¸¸å¤æ‚ã€‚ åº”ç”¨ï¼š java.lang.reflect.Proxy Spring Aop æ³¨æ„ï¼š åŒºåˆ«é€‚é…å™¨æ¨¡å¼ï¼šé€‚é…å™¨æ¨¡å¼ä¸»è¦æ”¹å˜æ‰€è€ƒè™‘å¯¹è±¡çš„æ¥å£ï¼Œè€Œä»£ç†æ¨¡å¼ä¸èƒ½æ”¹å˜æ‰€ä»£ç†ç±»çš„æ¥å£ã€‚ åŒºåˆ«è£…é¥°å™¨æ¨¡å¼ï¼šè£…é¥°å™¨æ¨¡å¼ä¸ºäº†å¢å¼ºåŠŸèƒ½ï¼Œè€Œä»£ç†æ¨¡å¼æ˜¯ä¸ºäº†åŠ ä»¥æ§åˆ¶ã€‚ å››ã€è¡Œä¸ºå‹æ¨¡å¼(11ç§)è´£ä»»é“¾æ¨¡å¼ï¼šè´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ï¼Œä¸ºè¯·æ±‚åˆ›å»ºäº†ä¸€ä¸ªæ¥æ”¶è€…å¯¹è±¡çš„é“¾ã€‚æœ‰å¤šä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡æŒæœ‰å¯¹ä¸‹ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™æ ·å°±ä¼šå½¢æˆä¸€æ¡é“¾ï¼Œè¯·æ±‚åœ¨è¿™æ¡é“¾ä¸Šä¼ é€’ï¼Œç›´åˆ°æŸä¸€å¯¹è±¡å†³å®šå¤„ç†è¯¥è¯·æ±‚ã€‚ä½†æ˜¯å‘å‡ºè€…å¹¶ä¸æ¸…æ¥šåˆ°åº•æœ€ç»ˆé‚£ä¸ªå¯¹è±¡ä¼šå¤„ç†è¯¥è¯·æ±‚ã€‚ ä¼˜ç‚¹ï¼š é™ä½è€¦åˆåº¦ã€‚å®ƒå°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ã€‚ ç®€åŒ–äº†å¯¹è±¡ã€‚ä½¿å¾—å¯¹è±¡ä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„ã€‚ å¢å¼ºç»™å¯¹è±¡æŒ‡æ´¾èŒè´£çš„çµæ´»æ€§ã€‚é€šè¿‡æ”¹å˜é“¾å†…çš„æˆå‘˜æˆ–è€…è°ƒåŠ¨å®ƒä»¬çš„æ¬¡åºï¼Œå…è®¸åŠ¨æ€åœ°æ–°å¢æˆ–è€…åˆ é™¤è´£ä»»ã€‚ å¢åŠ æ–°çš„è¯·æ±‚å¤„ç†ç±»å¾ˆæ–¹ä¾¿ã€‚ ç¼ºç‚¹ï¼š ä¸èƒ½ä¿è¯è¯·æ±‚ä¸€å®šè¢«æ¥æ”¶ã€‚ ç³»ç»Ÿæ€§èƒ½å°†å—åˆ°ä¸€å®šå½±å“ï¼Œè€Œä¸”åœ¨è¿›è¡Œä»£ç è°ƒè¯•æ—¶ä¸å¤ªæ–¹ä¾¿ï¼Œå¯èƒ½ä¼šé€ æˆå¾ªç¯è°ƒç”¨ã€‚ å¯èƒ½ä¸å®¹æ˜“è§‚å¯Ÿè¿è¡Œæ—¶çš„ç‰¹å¾ï¼Œæœ‰ç¢äºé™¤é”™ã€‚ åº”ç”¨ï¼š java.util.logging.Logger.log() Apache Commons Chain javax.servlet.Filter.doFilter() Java Web ä¸­ Apache Tomcat å¯¹ Encoding çš„å¤„ç† å‘½ä»¤æ¨¡å¼ï¼šå‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰æŠŠä¸€ä¸ªè¯·æ±‚æˆ–è€…æ“ä½œå°è£…åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼ŒæŠŠå‘å‡ºå‘½ä»¤çš„è´£ä»»å’Œæ‰§è¡Œå‘½ä»¤çš„è´£ä»»åˆ†å‰²å¼€ï¼Œå§”æ´¾ç»™ä¸åŒçš„å¯¹è±¡ï¼Œä»ä½¿ç”¨è§’åº¦æ¥çœ‹å°±æ˜¯è¯·æ±‚è€…æŠŠæ¥å£å®ç°ç±»ä½œä¸ºå‚æ•°ä¼ ç»™ä½¿ç”¨è€…ï¼Œä½¿ç”¨è€…ç›´æ¥è°ƒç”¨è¿™ä¸ªæ¥å£çš„æ–¹æ³•ï¼Œè€Œä¸ç”¨å…³å¿ƒå…·ä½“æ‰§è¡Œçš„é‚£ä¸ªå‘½ä»¤ã€‚ä¼˜ç‚¹ï¼š é™ä½äº†ç³»ç»Ÿè€¦åˆåº¦ã€‚ æ–°çš„å‘½ä»¤å¯ä»¥å¾ˆå®¹æ˜“æ·»åŠ åˆ°ç³»ç»Ÿä¸­å»ã€‚ ç¼ºç‚¹ï¼š ä½¿ç”¨å‘½ä»¤æ¨¡å¼å¯èƒ½ä¼šå¯¼è‡´æŸäº›ç³»ç»Ÿæœ‰è¿‡å¤šçš„å…·ä½“å‘½ä»¤ç±»ã€‚ åº”ç”¨ï¼šjava.lang.Runnable è§£é‡Šå™¨æ¨¡å¼ï¼šè§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰å®ç°äº†ä¸€ä¸ªè¡¨è¾¾å¼æ¥å£ï¼Œè¯¥æ¥å£è§£é‡Šä¸€ä¸ªç‰¹å®šçš„ä¸Šä¸‹æ–‡ã€‚ç»™å®šä¸€ä¸ªè¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥æ ‡è¯†æ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚ä¼˜ç‚¹ï¼š å¯æ‰©å±•æ€§æ¯”è¾ƒå¥½ï¼Œçµæ´»ã€‚ å¢åŠ äº†æ–°çš„è§£é‡Šè¡¨è¾¾å¼çš„æ–¹å¼ã€‚ æ˜“äºå®ç°ç®€å•æ–‡æ³•ã€‚ ç¼ºç‚¹ï¼š å¯åˆ©ç”¨åœºæ™¯æ¯”è¾ƒå°‘ã€‚ å¯¹äºå¤æ‚çš„æ–‡æ³•æ¯”è¾ƒéš¾ç»´æŠ¤ã€‚ è§£é‡Šå™¨æ¨¡å¼ä¼šå¼•èµ·ç±»è†¨èƒ€ã€‚ è§£é‡Šå™¨æ¨¡å¼é‡‡ç”¨é€’å½’è°ƒç”¨æ–¹æ³•ã€‚ ä½¿ç”¨åœºæ™¯ï¼š å¯ä»¥å°†ä¸€ä¸ªéœ€è¦è§£é‡Šæ‰§è¡Œçš„è¯­è¨€ä¸­çš„å¥å­è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘ã€‚ ä¸€äº›é‡å¤å‡ºç°çš„é—®é¢˜å¯ä»¥ç”¨ä¸€ç§ç®€å•çš„è¯­è¨€æ¥è¿›è¡Œè¡¨è¾¾ã€‚ ä¸€ä¸ªç®€å•è¯­æ³•éœ€è¦è§£é‡Šçš„åœºæ™¯ã€‚ è¿­ä»£å™¨æ¨¡å¼ï¼šè¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­å„ä¸ªå…ƒç´ , è€Œåˆæ— é¡»æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚ ä¼˜ç‚¹ï¼š å®ƒæ”¯æŒä»¥ä¸åŒçš„æ–¹å¼éå†ä¸€ä¸ªèšåˆå¯¹è±¡ã€‚ è¿­ä»£å™¨ç®€åŒ–äº†èšåˆç±»ã€‚ åœ¨åŒä¸€ä¸ªèšåˆä¸Šå¯ä»¥æœ‰å¤šä¸ªéå†ã€‚ åœ¨è¿­ä»£å™¨æ¨¡å¼ä¸­ï¼Œå¢åŠ æ–°çš„èšåˆç±»å’Œè¿­ä»£å™¨ç±»éƒ½å¾ˆæ–¹ä¾¿ï¼Œæ— é¡»ä¿®æ”¹åŸæœ‰ä»£ç ã€‚ ç¼ºç‚¹ï¼š ç”±äºè¿­ä»£å™¨æ¨¡å¼å°†å­˜å‚¨æ•°æ®å’Œéå†æ•°æ®çš„èŒè´£åˆ†ç¦»ï¼Œå¢åŠ æ–°çš„èšåˆç±»éœ€è¦å¯¹åº”å¢åŠ æ–°çš„è¿­ä»£å™¨ç±»ï¼Œç±»çš„ä¸ªæ•°æˆå¯¹å¢åŠ ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚ åº”ç”¨ï¼šJava.util.Iterator ä¸­ä»‹è€…æ¨¡å¼ï¼šä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰æ˜¯ç”¨æ¥é™ä½å¤šä¸ªå¯¹è±¡å’Œç±»ä¹‹é—´çš„é€šä¿¡å¤æ‚æ€§ã€‚ç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚ä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾ç¤ºåœ°ç›¸äº’ä½œç”¨ï¼Œä»è€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚ ä¼˜ç‚¹ï¼š é™ä½äº†ç±»çš„å¤æ‚åº¦ï¼Œå°†ä¸€å¯¹å¤šè½¬åŒ–æˆäº†ä¸€å¯¹ä¸€ã€‚ å„ä¸ªç±»ä¹‹é—´çš„è§£è€¦ã€‚ ç¬¦åˆè¿ªç±³ç‰¹åŸåˆ™ã€‚ ç¼ºç‚¹ï¼š ä¸­ä»‹è€…ä¼šåºå¤§ï¼Œå˜å¾—å¤æ‚éš¾ä»¥ç»´æŠ¤ã€‚ åº”ç”¨ï¼š ç³»ç»Ÿä¸­å¯¹è±¡ä¹‹é—´å­˜åœ¨æ¯”è¾ƒå¤æ‚çš„å¼•ç”¨å…³ç³»ï¼Œå¯¼è‡´å®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ç»“æ„æ··ä¹±è€Œä¸”éš¾ä»¥å¤ç”¨è¯¥å¯¹è±¡ã€‚ æƒ³é€šè¿‡ä¸€ä¸ªä¸­é—´ç±»æ¥å°è£…å¤šä¸ªç±»ä¸­çš„è¡Œä¸ºï¼Œè€Œåˆä¸æƒ³ç”Ÿæˆå¤ªå¤šçš„å­ç±»ã€‚ MVC æ¡†æ¶ï¼Œå…¶ä¸­Cï¼ˆæ§åˆ¶å™¨ï¼‰å°±æ˜¯ Mï¼ˆæ¨¡å‹ï¼‰å’Œ Vï¼ˆè§†å›¾ï¼‰çš„ä¸­ä»‹è€…ã€‚ java.lang.reflect.Method.invoke()ã€‚ å¤‡å¿˜å½•æ¨¡å¼ï¼šå¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ï¼Œä¿å­˜ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªçŠ¶æ€ï¼Œä»¥ä¾¿åœ¨é€‚å½“çš„æ—¶å€™æ¢å¤å¯¹è±¡ã€‚åœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ã€‚ ä¼˜ç‚¹ï¼š 1ã€ç»™ç”¨æˆ·æä¾›äº†ä¸€ç§å¯ä»¥æ¢å¤çŠ¶æ€çš„æœºåˆ¶ï¼Œå¯ä»¥ä½¿ç”¨æˆ·èƒ½å¤Ÿæ¯”è¾ƒæ–¹ä¾¿åœ°å›åˆ°æŸä¸ªå†å²çš„çŠ¶æ€ã€‚ 2ã€å®ç°äº†ä¿¡æ¯çš„å°è£…ï¼Œä½¿å¾—ç”¨æˆ·ä¸éœ€è¦å…³å¿ƒçŠ¶æ€çš„ä¿å­˜ç»†èŠ‚ã€‚ ç¼ºç‚¹ï¼š æ¶ˆè€—èµ„æºã€‚å¦‚æœç±»çš„æˆå‘˜å˜é‡è¿‡å¤šï¼ŒåŠ¿å¿…ä¼šå ç”¨æ¯”è¾ƒå¤§çš„èµ„æºï¼Œè€Œä¸”æ¯ä¸€æ¬¡ä¿å­˜éƒ½ä¼šæ¶ˆè€—ä¸€å®šçš„å†…å­˜ã€‚ åº”ç”¨ï¼š éœ€è¦ä¿å­˜/æ¢å¤æ•°æ®çš„ç›¸å…³çŠ¶æ€åœºæ™¯ã€‚ æ•°æ®åº“äº‹åŠ¡å›æ»šã€‚ è§‚å¯Ÿè€…æ¨¡å¼ï¼šå½“å¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šå…³ç³»æ—¶ï¼Œåˆ™ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ï¼Œåˆå«å‘å¸ƒ-è®¢é˜…æ¨¡å¼, å®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œè®©å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡åŒæ—¶ç›‘å¬æŸä¸€ä¸ªä¸»é¢˜å¯¹è±¡ã€‚è¿™ä¸ªä¸»é¢˜å¯¹è±¡åœ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä½¿å®ƒä»¬èƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°è‡ªå·±ã€‚ç±»ä¼¼äºé‚®ä»¶è®¢é˜…ï¼Œå½“ä½ è®¢é˜…äº†è¯¥æ–‡ç« ï¼Œå¦‚æœåç»­æœ‰æ›´æ–°ï¼Œä¼šåŠæ—¶é€šçŸ¥ä½ ã€‚ ä¼˜ç‚¹ï¼š è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…æ˜¯æŠ½è±¡è€¦åˆçš„ã€‚ å»ºç«‹ä¸€å¥—è§¦å‘æœºåˆ¶ã€‚ ç¼ºç‚¹ï¼š å¦‚æœä¸€ä¸ªè¢«è§‚å¯Ÿè€…å¯¹è±¡æœ‰å¾ˆå¤šçš„ç›´æ¥å’Œé—´æ¥çš„è§‚å¯Ÿè€…çš„è¯ï¼Œå°†æ‰€æœ‰çš„è§‚å¯Ÿè€…éƒ½é€šçŸ¥åˆ°ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚ å¦‚æœåœ¨è§‚å¯Ÿè€…å’Œè§‚å¯Ÿç›®æ ‡ä¹‹é—´æœ‰å¾ªç¯ä¾èµ–çš„è¯ï¼Œè§‚å¯Ÿç›®æ ‡ä¼šè§¦å‘å®ƒä»¬ä¹‹é—´è¿›è¡Œå¾ªç¯è°ƒç”¨ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚ è§‚å¯Ÿè€…æ¨¡å¼æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶è®©è§‚å¯Ÿè€…çŸ¥é“æ‰€è§‚å¯Ÿçš„ç›®æ ‡å¯¹è±¡æ˜¯æ€ä¹ˆå‘ç”Ÿå˜åŒ–çš„ï¼Œè€Œä»…ä»…åªæ˜¯çŸ¥é“è§‚å¯Ÿç›®æ ‡å‘ç”Ÿäº†å˜åŒ–ã€‚ çŠ¶æ€æ¨¡å¼ï¼šåœ¨çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ä¸­ï¼Œç±»çš„è¡Œä¸ºæ˜¯åŸºäºå®ƒçš„çŠ¶æ€æ”¹å˜çš„ï¼Œå½“å¯¹è±¡çš„çŠ¶æ€æ”¹å˜æ—¶ï¼ŒåŒæ—¶æ”¹å˜å…¶è¡Œä¸ºï¼Œå°±æ‹¿QQæ¥è¯´ï¼Œæœ‰å‡ ç§çŠ¶æ€ï¼Œåœ¨çº¿ã€éšèº«ã€å¿™ç¢Œç­‰ï¼Œæ¯ä¸ªçŠ¶æ€å¯¹åº”ä¸åŒçš„æ“ä½œï¼Œè€Œä¸”ä½ çš„å¥½å‹ä¹Ÿèƒ½çœ‹åˆ°ä½ çš„çŠ¶æ€ã€‚ ä¼˜ç‚¹ï¼š å°è£…äº†è½¬æ¢è§„åˆ™ã€‚ æšä¸¾å¯èƒ½çš„çŠ¶æ€ï¼Œåœ¨æšä¸¾çŠ¶æ€ä¹‹å‰éœ€è¦ç¡®å®šçŠ¶æ€ç§ç±»ã€‚ å°†æ‰€æœ‰ä¸æŸä¸ªçŠ¶æ€æœ‰å…³çš„è¡Œä¸ºæ”¾åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œå¹¶ä¸”å¯ä»¥æ–¹ä¾¿åœ°å¢åŠ æ–°çš„çŠ¶æ€ï¼Œåªéœ€è¦æ”¹å˜å¯¹è±¡çŠ¶æ€å³å¯æ”¹å˜å¯¹è±¡çš„è¡Œä¸ºã€‚ å…è®¸çŠ¶æ€è½¬æ¢é€»è¾‘ä¸çŠ¶æ€å¯¹è±¡åˆæˆä¸€ä½“ï¼Œè€Œä¸æ˜¯æŸä¸€ä¸ªå·¨å¤§çš„æ¡ä»¶è¯­å¥å—ã€‚ å¯ä»¥è®©å¤šä¸ªç¯å¢ƒå¯¹è±¡å…±äº«ä¸€ä¸ªçŠ¶æ€å¯¹è±¡ï¼Œä»è€Œå‡å°‘ç³»ç»Ÿä¸­å¯¹è±¡çš„ä¸ªæ•°ã€‚ ç¼ºç‚¹ï¼š çŠ¶æ€æ¨¡å¼çš„ä½¿ç”¨å¿…ç„¶ä¼šå¢åŠ ç³»ç»Ÿç±»å’Œå¯¹è±¡çš„ä¸ªæ•°ã€‚ çŠ¶æ€æ¨¡å¼çš„ç»“æ„ä¸å®ç°éƒ½è¾ƒä¸ºå¤æ‚ï¼Œå¦‚æœä½¿ç”¨ä¸å½“å°†å¯¼è‡´ç¨‹åºç»“æ„å’Œä»£ç çš„æ··ä¹±ã€‚ çŠ¶æ€æ¨¡å¼å¯¹â€å¼€é—­åŸåˆ™â€çš„æ”¯æŒå¹¶ä¸å¤ªå¥½ã€‚ ä½¿ç”¨åœºæ™¯ï¼š è¡Œä¸ºéšçŠ¶æ€æ”¹å˜è€Œæ”¹å˜çš„åœºæ™¯ã€‚ æ¡ä»¶ã€åˆ†æ”¯è¯­å¥çš„ä»£æ›¿è€…ã€‚ ç­–ç•¥æ¨¡å¼ï¼šåœ¨ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ä¸­ï¼Œä¸€ä¸ªç±»çš„è¡Œä¸ºæˆ–å…¶ç®—æ³•å¯ä»¥åœ¨è¿è¡Œæ—¶æ›´æ”¹ã€‚éœ€è¦å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•,æŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥, å¹¶ä¸”ä½¿å®ƒä»¬å¯ç›¸äº’æ›¿æ¢ã€‚ ä¼˜ç‚¹ï¼š ç®—æ³•å¯ä»¥è‡ªç”±åˆ‡æ¢ã€‚ é¿å…ä½¿ç”¨å¤šé‡æ¡ä»¶åˆ¤æ–­ã€‚ æ‰©å±•æ€§è‰¯å¥½ã€‚ ç¼ºç‚¹ï¼š ç­–ç•¥ç±»ä¼šå¢å¤šã€‚ æ‰€æœ‰ç­–ç•¥ç±»éƒ½éœ€è¦å¯¹å¤–æš´éœ²ã€‚ åŒºåˆ†çŠ¶æ€æ¨¡å¼ï¼šçŠ¶æ€æ¨¡å¼çš„ç±»å›¾å’Œç­–ç•¥æ¨¡å¼ç±»ä¼¼ï¼Œå¹¶ä¸”éƒ½æ˜¯èƒ½å¤ŸåŠ¨æ€æ”¹å˜å¯¹è±¡çš„è¡Œä¸ºã€‚ä½†æ˜¯çŠ¶æ€æ¨¡å¼æ˜¯é€šè¿‡çŠ¶æ€è½¬ç§»æ¥æ”¹å˜ Context æ‰€ç»„åˆçš„ State å¯¹è±¡ï¼Œè€Œç­–ç•¥æ¨¡å¼æ˜¯é€šè¿‡ Context æœ¬èº«çš„å†³ç­–æ¥æ”¹å˜ç»„åˆçš„ Strategy å¯¹è±¡ã€‚æ‰€è°“çš„çŠ¶æ€è½¬ç§»ï¼Œæ˜¯æŒ‡ Context åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ç”±äºä¸€äº›æ¡ä»¶å‘ç”Ÿæ”¹å˜è€Œä½¿å¾— State å¯¹è±¡å‘ç”Ÿæ”¹å˜ï¼Œæ³¨æ„å¿…é¡»è¦æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ã€‚ çŠ¶æ€æ¨¡å¼ä¸»è¦æ˜¯ç”¨æ¥è§£å†³çŠ¶æ€è½¬ç§»çš„é—®é¢˜ï¼Œå½“çŠ¶æ€å‘ç”Ÿè½¬ç§»äº†ï¼Œé‚£ä¹ˆ Context å¯¹è±¡å°±ä¼šæ”¹å˜å®ƒçš„è¡Œä¸ºï¼›è€Œç­–ç•¥æ¨¡å¼ä¸»è¦æ˜¯ç”¨æ¥å°è£…ä¸€ç»„å¯ä»¥äº’ç›¸æ›¿ä»£çš„ç®—æ³•æ—ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®éœ€è¦åŠ¨æ€åœ°å»æ›¿æ¢ Context ä½¿ç”¨çš„ç®—æ³•ã€‚ åº”ç”¨ï¼šjava.util.Comparator.compare()javax.servlet.http.HttpServletjavax.servlet.Filter.doFilter() æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼šåœ¨æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰ä¸­ï¼Œä¸€ä¸ªæŠ½è±¡ç±»å…¬å¼€å®šä¹‰äº†æ‰§è¡Œå®ƒçš„æ–¹æ³•çš„æ–¹å¼/æ¨¡æ¿ã€‚å®ƒçš„å­ç±»å¯ä»¥æŒ‰éœ€è¦é‡å†™æ–¹æ³•å®ç°ï¼Œä½†è°ƒç”¨å°†ä»¥æŠ½è±¡ç±»ä¸­å®šä¹‰çš„æ–¹å¼è¿›è¡Œï¼Œæ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ ä¼˜ç‚¹ï¼š å°è£…ä¸å˜éƒ¨åˆ†ï¼Œæ‰©å±•å¯å˜éƒ¨åˆ†ã€‚ æå–å…¬å…±ä»£ç ï¼Œä¾¿äºç»´æŠ¤ã€‚ è¡Œä¸ºç”±çˆ¶ç±»æ§åˆ¶ï¼Œå­ç±»å®ç°ã€‚ ç¼ºç‚¹ï¼š æ¯ä¸€ä¸ªä¸åŒçš„å®ç°éƒ½éœ€è¦ä¸€ä¸ªå­ç±»æ¥å®ç°ï¼Œå¯¼è‡´ç±»çš„ä¸ªæ•°å¢åŠ ï¼Œä½¿å¾—ç³»ç»Ÿæ›´åŠ åºå¤§ã€‚ åº”ç”¨ï¼š æœ‰å¤šä¸ªå­ç±»å…±æœ‰çš„æ–¹æ³•ï¼Œä¸”é€»è¾‘ç›¸åŒã€‚ java.util.Collections.sort()ã€‚ è®¿é—®è€…æ¨¡å¼ï¼šåœ¨è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªè®¿é—®è€…ç±»ï¼Œå®ƒæ”¹å˜äº†å…ƒç´ ç±»çš„æ‰§è¡Œç®—æ³•ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå…ƒç´ çš„æ‰§è¡Œç®—æ³•å¯ä»¥éšç€è®¿é—®è€…æ”¹å˜è€Œæ”¹å˜ã€‚æ ¹æ®æ¨¡å¼ï¼Œå…ƒç´ å¯¹è±¡å·²æ¥å—è®¿é—®è€…å¯¹è±¡ï¼Œè¿™æ ·è®¿é—®è€…å¯¹è±¡å°±å¯ä»¥å¤„ç†å…ƒç´ å¯¹è±¡ä¸Šçš„æ“ä½œã€‚ ä¼˜ç‚¹ï¼š ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚ ä¼˜ç§€çš„æ‰©å±•æ€§ã€‚ çµæ´»æ€§ã€‚ ç¼ºç‚¹ï¼š å…·ä½“å…ƒç´ å¯¹è®¿é—®è€…å…¬å¸ƒç»†èŠ‚ï¼Œè¿åäº†è¿ªç±³ç‰¹åŸåˆ™ã€‚ å…·ä½“å…ƒç´ å˜æ›´æ¯”è¾ƒå›°éš¾ã€‚ è¿åäº†ä¾èµ–å€’ç½®åŸåˆ™ï¼Œä¾èµ–äº†å…·ä½“ç±»ï¼Œæ²¡æœ‰ä¾èµ–æŠ½è±¡ã€‚ åº”ç”¨ï¼šéœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒçš„å¹¶ä¸”ä¸ç›¸å…³çš„æ“ä½œï¼Œè€Œéœ€è¦é¿å…è®©è¿™äº›æ“ä½œâ€æ±¡æŸ“â€è¿™äº›å¯¹è±¡çš„ç±»ï¼Œä½¿ç”¨è®¿é—®è€…æ¨¡å¼å°†è¿™äº›å°è£…åˆ°ç±»ä¸­ã€‚ è¡¥å……ï¼š æƒ³æ›´æ¸…æ¥šäº†è§£UMLå›¾çš„è¯å¯ä»¥å‚è€ƒè®¾è®¡æ¨¡å¼ä¸­çš„ç±»å›¾å®ä¾‹ JDKä¸­çš„è®¾è®¡æ¨¡å¼ Springä¸­æ¶‰åŠåˆ°çš„è®¾è®¡æ¨¡å¼ Mybatisä½¿ç”¨çš„è®¾è®¡æ¨¡å¼ å‚è€ƒèµ„æ–™ï¼š ã€Šè®¾è®¡æ¨¡å¼ã€‹æ¸…åå¤§å­¦å‡ºç‰ˆç¤¾åˆ˜ä¼Ÿä¸»ç¼– èœé¸Ÿæ•™ç¨‹","categories":[{"name":"è®¡ç®—æœºåŸºç¡€","slug":"è®¡ç®—æœºåŸºç¡€","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/è®¡ç®—æœºåŸºç¡€/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/è®¾è®¡æ¨¡å¼/"}]},{"title":"LeetCodeä¸­çš„æ•°å­¦é—®é¢˜","slug":"LeetCodeä¸­æ•°å­¦é—®é¢˜","date":"2019-05-08T10:25:08.000Z","updated":"2019-09-30T13:52:46.000Z","comments":true,"path":"2019/05/08/leetcode-zhong-shu-xue-wen-ti/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/05/08/leetcode-zhong-shu-xue-wen-ti/","excerpt":"","text":"å¯¹LeetCodeä¸­çš„æœ‰å…³æ•°å­¦é—®é¢˜è¿›è¡Œäº†åˆ·é¢˜æ€»ç»“ï¼š ç´ æ•°ï¼š204. Count Primes é¢˜ç›®æè¿°ï¼šç»Ÿè®¡æ‰€æœ‰å°äºéè´Ÿæ•´æ•° n çš„è´¨æ•°çš„æ•°é‡ã€‚ç¤ºä¾‹: è¾“å…¥: 10è¾“å‡º: 4è§£é‡Š: å°äº 10 çš„è´¨æ•°ä¸€å…±æœ‰ 4 ä¸ª, å®ƒä»¬æ˜¯ 2, 3, 5, 7 ã€‚ è§£é¢˜æ€è·¯ï¼šæœ¬é¢˜è¦ä½¿ç”¨åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•ï¼Œè¿™æ ·è¿è¡Œä¸ä¼šè¶…æ—¶ã€‚ è¦å¾—åˆ°è‡ªç„¶æ•°nä»¥å†…çš„å…¨éƒ¨ç´ æ•°ï¼Œå¿…é¡»æŠŠä¸å¤§äºæ ¹å·nçš„æ‰€æœ‰ç´ æ•°çš„å€æ•°å‰”é™¤ï¼Œå‰©ä¸‹çš„å°±æ˜¯ç´ æ•°ã€‚ç»™å‡ºè¦ç­›æ•°å€¼çš„èŒƒå›´nï¼Œæ‰¾å‡ºä»¥å†…çš„ç´ æ•°ã€‚å…ˆç”¨2å»ç­›ï¼Œå³æŠŠ2ç•™ä¸‹ï¼ŒæŠŠ2çš„å€æ•°å‰”é™¤æ‰ï¼›å†ç”¨ä¸‹ä¸€ä¸ªè´¨æ•°ï¼Œä¹Ÿå°±æ˜¯3ç­›ï¼ŒæŠŠ3ç•™ä¸‹ï¼ŒæŠŠ3çš„å€æ•°å‰”é™¤æ‰ï¼›æ¥ä¸‹å»ç”¨ä¸‹ä¸€ä¸ªè´¨æ•°5ç­›ï¼ŒæŠŠ5ç•™ä¸‹ï¼ŒæŠŠ5çš„å€æ•°å‰”é™¤æ‰ï¼›ä¸æ–­é‡å¤ä¸‹å»â€¦â€¦ã€‚ class Solution { public int countPrimes(int n) { boolean [] notPrim = new boolean[n]; int count = 0; for (int i = 2; i &lt; n; i++){ if (notPrim[i] == false) { count++; for (int j = 2; j*i &lt; n; j++) { notPrim[j*i] = true; } } } return count; } } åå…­è¿›åˆ¶405. Convert a Number to Hexadecimal é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªæ•´æ•°ï¼Œç¼–å†™ä¸€ä¸ªç®—æ³•å°†è¿™ä¸ªæ•°è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ•°ã€‚å¯¹äºè´Ÿæ•´æ•°ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ è¡¥ç è¿ç®— æ–¹æ³•ã€‚ æ³¨æ„: åå…­è¿›åˆ¶ä¸­æ‰€æœ‰å­—æ¯(a-f)éƒ½å¿…é¡»æ˜¯å°å†™ã€‚ åå…­è¿›åˆ¶å­—ç¬¦ä¸²ä¸­ä¸èƒ½åŒ…å«å¤šä½™çš„å‰å¯¼é›¶ã€‚å¦‚æœè¦è½¬åŒ–çš„æ•°ä¸º0ï¼Œé‚£ä¹ˆä»¥å•ä¸ªå­—ç¬¦â€™0â€™æ¥è¡¨ç¤ºï¼›å¯¹äºå…¶ä»–æƒ…å†µï¼Œåå…­è¿›åˆ¶å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å°†ä¸ä¼šæ˜¯0å­—ç¬¦ã€‚ ç»™å®šçš„æ•°ç¡®ä¿åœ¨32ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´å†…ã€‚ ä¸èƒ½ä½¿ç”¨ä»»ä½•ç”±åº“æä¾›çš„å°†æ•°å­—ç›´æ¥è½¬æ¢æˆ–æ ¼å¼åŒ–ä¸ºåå…­è¿›åˆ¶çš„æ–¹æ³•ã€‚ Example 1: Input: 26 Output: &quot;1a&quot; Example 2: Input: -1 Output: &quot;ffffffff&quot;è§£é¢˜æ€è·¯ï¼š ä½¿ç”¨ä½è¿ç®—ï¼Œæ¯4ä½ï¼Œå¯¹åº”1ä½16è¿›åˆ¶æ•°å­—ã€‚ å°†è¾“å…¥å³ç§»4ä½ï¼Œå†åšä¸€æ¬¡ï¼Œç›´åˆ°è¾“å…¥å˜ä¸º0 è¿™é‡Œä¸¤ä¸ªæ¦‚å¿µäº†è§£ä¸‹ï¼š ä½ä¸(&amp;)ï¼šç¬¬ä¸€ä¸ªæ“ä½œæ•°çš„çš„ç¬¬nä½äºç¬¬äºŒä¸ªæ“ä½œæ•°çš„ç¬¬nä½å¦‚æœéƒ½æ˜¯1ï¼Œé‚£ä¹ˆç»“æœçš„ç¬¬nä¸ºä¹Ÿä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚ æ— ç¬¦å·å³ç§»ï¼šä½è¿ç®—ç¬¦ï¼ˆ&gt;&gt;&gt;ï¼‰ï¼Œå®ƒä½¿ç”¨äº†â€œé›¶æ‰©å±•â€ï¼šæ— è®ºæ­£è´Ÿï¼Œéƒ½åœ¨é«˜ä½æ’å…¥0ã€‚class Solution { public String toHex(int num) { char [] array = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'}; if (num == 0) { return \"0\"; } StringBuilder sb = new StringBuilder(); while (num != 0) { sb.append(array[num &amp; 15]);//ä½¿ç”¨ä½ä¸ num = num >>> 4; //æ— ç¬¦å·å³ç§»ï¼Œå·¦è¾¹å¡«0 } return sb.reverse().toString(); } } é˜¶ä¹˜é—®é¢˜172. Factorial Trailing Zeroesé¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œè¿”å› n! ç»“æœå°¾æ•°ä¸­é›¶çš„æ•°é‡ã€‚Example 1: Input: 3Output: 0Explanation: 3! = 6, no trailing zero. Example 2: Input: 5Output: 1Explanation: 5! = 120, one trailing zero. ##### è§£é¢˜æ€è·¯ï¼š é¦–å…ˆé¢˜ç›®çš„æ„æ€æ˜¯æœ«å°¾æœ‰å‡ ä¸ª0 æ¯”å¦‚6! = ã€1* 2* 3* 4* 5* 6ã€‘ï¼Œ å…¶ä¸­åªæœ‰2*5æœ«å°¾æ‰æœ‰0ï¼Œæ‰€ä»¥å°±å¯ä»¥æŠ›å»å…¶ä»–æ•°æ® ä¸“é—¨çœ‹2å’Œ5ä»¥åŠå…¶å€æ•°ï¼Œæ¯•ç«Ÿ 4 * 25æœ«å°¾ä¹Ÿæ˜¯0 2è‚¯å®šæ¯”5å¤š æ‰€ä»¥åªç®—5çš„ä¸ªæ•°å°±è¡Œäº†ã€‚ å¯¹äºä¸€ä¸ªæ•° Nï¼Œå®ƒæ‰€åŒ…å« 5 çš„ä¸ªæ•°ä¸ºï¼šN/5 + N/25 + N/75 + ...ã€‚ ~~~ java class Solution { public int trailingZeroes(int n) { return n == 0 ? 0 : n / 5 + (trailingZeroes(n / 5)); } }å­—ç¬¦ä¸²åŠ æ³•å‡æ³•ï¼šå³ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŠ é—®é¢˜ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥è½¬æˆIntegerè§£å†³ï¼Œè§£å†³æ­¤ç±»é—®é¢˜ä¸€èˆ¬æ€è·¯æ˜¯ä»å³åˆ°å·¦å¼€å§‹éå†ä¸¤ä¸ªæ•°ï¼Œå¦‚æœè¿›ä½å°±åŠ ä¸€ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦å®šä¹‰ä¸€ä¸ªä¸“é—¨å­˜å‚¨è¿›ä½çš„å˜é‡countã€‚ 1ã€å­—ç¬¦ä¸²åŠ æ³•ï¼š415. Add Strings é¢˜ç›®æè¿°ï¼šç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„éè´Ÿæ•´æ•° num1 å’Œnum2 ï¼Œè®¡ç®—å®ƒä»¬çš„å’Œã€‚ æ³¨æ„ï¼š num1 å’Œnum2 çš„é•¿åº¦éƒ½å°äº 5100.num1 å’Œnum2 éƒ½åªåŒ…å«æ•°å­— 0-9.num1 å’Œnum2 éƒ½ä¸åŒ…å«ä»»ä½•å‰å¯¼é›¶ã€‚ä½ ä¸èƒ½ä½¿ç”¨ä»»ä½•å…§å»º BigInteger åº“ï¼Œ ä¹Ÿä¸èƒ½ç›´æ¥å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°å½¢å¼ã€‚ è§£é¢˜æ€è·¯ï¼šclass Solution { public String addStrings(String num1, String num2) { StringBuilder sb = new StringBuilder(); int n1 = num1.length() - 1; int n2 = num2.length() - 1; int count = 0; //è¡¨ç¤ºè¿›ä½æ•° while (count == 1 || n1 >= 0 || n2 >= 0) { int x = n1 &lt; 0 ? 0 : num1.charAt(n1--) - '0'; int y = n2 &lt; 0 ? 0 : num2.charAt(n2--) - '0'; sb.append((x + y + count) % 10); count = (x + y + count) / 10; } return sb.reverse().toString(); } } 2ã€äºŒè¿›åˆ¶åŠ æ³•ï¼š 67. Add Binary é¢˜ç›®æè¿°ï¼šç»™å®šä¸¤ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œè¿”å›ä»–ä»¬çš„å’Œï¼ˆç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼‰ã€‚ è¾“å…¥ä¸ºéç©ºå­—ç¬¦ä¸²ä¸”åªåŒ…å«æ•°å­— 1 å’Œ 0ã€‚ Example 1: Input: a = &quot;11&quot;, b = &quot;1&quot; Output: &quot;100&quot; Example 2: Input: a = &quot;1010&quot;, b = &quot;1011&quot; Output: &quot;10101&quot;è§£é¢˜æ€è·¯ï¼šå°†ä¸¤ä¸ªæ•°ä»å³å¾€å·¦è¿›è¡Œç›¸åŠ ï¼Œç”¨å˜é‡countæ¥åˆ¤æ–­æ˜¯ä¸æ˜¯å¾€å‰é¢è¿›ä¸€ä½ï¼Œå³è¿›ä½ã€‚ class Solution { public String addBinary(String a, String b) { int aNum = a.length() - 1; int bNum = b.length() - 1; int count = 0; StringBuilder sb = new StringBuilder(); // æ³¨æ„è¿™é‡Œcount==1ä¹Ÿæ˜¯æ¡ä»¶ï¼Œå³å½“aNumå’ŒbNuméƒ½ä¸º0æ—¶å‘å‰è¿›ä¸€æ—¶ while (count == 1 || aNum >= 0 || bNum >= 0) { if (aNum >= 0 &amp;&amp; a.charAt(aNum) == '1') { count++; } if (bNum >= 0 &amp;&amp; b.charAt(bNum) == '1') { count++; } //æ¯æ¬¡éƒ½è¦å¾€å‰ç§»ä¸€ä½ aNum--; bNum--; sb.append(count % 2); count = count / 2; } return sb.reverse().toString(); } } æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°å¤šäº n / 2 çš„å…ƒç´ ï¼š169. Majority Element é¢˜ç›®æè¿°ï¼šç»™å®šå¤§å°ä¸ºnçš„æ•°ç»„ï¼Œæ‰¾åˆ°å¤šæ•°å…ƒç´ ã€‚ å¤šæ•°å…ƒç´ æ˜¯å‡ºç°è¶…è¿‡âŒŠn /2âŒ‹å€çš„å…ƒç´ ã€‚æ‚¨å¯ä»¥å‡è®¾è¯¥æ•°ç»„éç©ºï¼Œå¹¶ä¸”å¤šæ•°å…ƒç´ å§‹ç»ˆå­˜åœ¨äºæ•°ç»„ä¸­ã€‚ Example 1: Input: [3,2,3] Output: 3 Example 2: Input: [2,2,1,1,1,2,2] Output: 2è§£é¢˜æ€è·¯ï¼š1ã€å¯ä»¥å…ˆå¯¹æ•°ç»„æ’åºï¼Œæœ€ä¸­é—´é‚£ä¸ªæ•°å‡ºç°æ¬¡æ•°ä¸€å®šå¤šäº n / 2ã€‚ class Solution { public int majorityElement(int[] nums) { Arrays.sort(nums); return (nums[nums.length / 2]); } } 2ã€ä½¿ç”¨ æ‘©å°”æŠ•ç¥¨ç®—æ³•ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å…ˆä»æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œå‡å®šå®ƒä»£è¡¨çš„ç¾¤ä½“çš„äººæ•°æ˜¯æœ€å¤šçš„ï¼Œé‚£ä¹ˆæ ¹æ®æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°åªæœ‰ä¸€ä¸ªçš„ç‰¹è´¨ï¼Œå¦‚æœæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªè®¡æ•°å™¨countï¼Œåœ¨éå†æ—¶é‡åˆ°ä¸åŒäºè¿™ä¸ªç¾¤ä½“çš„äººæ—¶å°±å°†è®¡æ•°å™¨-1ï¼Œé‡åˆ°åŒä¸ªç¾¤ä½“çš„äººæ—¶å°±+1ï¼Œåªè¦åœ¨è®¡æ•°å™¨å½’0æ—¶å°±é‡æ–°å‡å®šå½“å‰å…ƒç´ ä»£è¡¨çš„ç¾¤ä½“ä¸ºäººæ•°æœ€å¤šçš„ç¾¤ä½“å†ç»§ç»­éå†ï¼Œé‚£ä¹ˆåˆ°äº†æœ€åï¼Œè®¡æ•°å™¨è®°å½•çš„é‚£ä¸ªç¾¤ä½“å¿…å®šæ˜¯äººæœ€å¤šçš„é‚£ä¸ªç¾¤ä½“ã€‚è¿™é‡Œå°±ä½¿å¾—å…ƒç´ æ’åºæ˜¯ä¸ä¼šé€ æˆä»»ä½•å½±å“çš„ï¼Œåªå…³å¿ƒå…ƒç´ çš„ä¸ªæ•°æ‰€å¸¦æ¥çš„å¯¹äºè®¡æ•°å™¨+1æˆ–-1çš„å½±å“ã€‚ class Solution { public int majorityElement(int[] nums) { int count = 0, majority = 0; for (int num : nums) { if (count == 0) { majority = num; } if (num != majority) { count--; } else { count++; } } return majority; } } ç›¸é‡é—®é¢˜ï¼š462. Minimum Moves to Equal Array Elements II é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºä½¿æ‰€æœ‰æ•°ç»„å…ƒç´ ç›¸ç­‰æ‰€éœ€çš„æœ€å°ç§»åŠ¨æ•°ï¼Œå…¶ä¸­ç§»åŠ¨ä½¿é€‰å®šçš„å…ƒç´ é€’å¢1æˆ–é€’å‡1ã€‚æ‚¨å¯ä»¥å‡è®¾æ•°ç»„çš„é•¿åº¦æœ€å¤šä¸º10,000ã€‚ Input: [1,2,3] Output: 2 Explanation: Only two moves are needed (remember each move increments or decrements one element): [1,2,3] =&gt; [2,2,3] =&gt; [2,2,2]è§£é¢˜æ€è·¯ï¼šå…¸å‹ç›¸é‡é—®é¢˜ï¼Œç§»åŠ¨è·ç¦»æœ€å°çš„æ–¹å¼æ˜¯æ‰€æœ‰å…ƒç´ éƒ½ç§»åŠ¨åˆ°ä¸­ä½æ•°ã€‚å¦å¤–æœ¬é¢˜ä¹Ÿå±äºæ±‚TopKé—®é¢˜ï¼Œä¹Ÿå¯ä»¥ç”¨åŸºäºåˆ‡åˆ†çš„å¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨ä¼˜å…ˆé˜Ÿåˆ—æ¥è§£å†³ï¼Œæœ€é‡è¦æ˜¯è¦çŸ¥é“ä»€ä¹ˆæƒ…å†µä¸‹ç§»åŠ¨è·ç¦»æ‰æ˜¯æœ€å°çš„ã€‚ class Solution { public int minMoves2(int[] nums) { Arrays.sort(nums); int move = 0; int l = 0, h = nums.length - 1; while (l &lt;= h) { move = move + nums[h] - nums[l]; l++; h--; } return move; } }","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/LeetCode/"}],"tags":[]},{"title":"LeetCodeä¸­BFS&DFS","slug":"BFS","date":"2019-05-02T10:25:08.000Z","updated":"2019-09-10T09:52:32.000Z","comments":true,"path":"2019/05/02/bfs/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/05/02/bfs/","excerpt":"","text":"æ·±åº¦ä¼˜å…ˆéå†DFSï¼š å‡è®¾åˆå§‹çŠ¶æ€æ˜¯å›¾ä¸­æ‰€æœ‰é¡¶ç‚¹å‡æœªè¢«è®¿é—®ï¼Œåˆ™ä»æŸä¸ªé¡¶ç‚¹vå‡ºå‘ï¼Œé¦–å…ˆè®¿é—®è¯¥é¡¶ç‚¹ï¼Œç„¶åä¾æ¬¡ä»å®ƒçš„å„ä¸ªæœªè¢«è®¿é—®çš„é‚»æ¥ç‚¹å‡ºå‘æ·±åº¦ä¼˜å…ˆæœç´¢éå†å›¾ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰å’Œvæœ‰è·¯å¾„ç›¸é€šçš„é¡¶ç‚¹éƒ½è¢«è®¿é—®åˆ°ã€‚ è‹¥æ­¤æ—¶å°šæœ‰å…¶ä»–é¡¶ç‚¹æœªè¢«è®¿é—®åˆ°ï¼Œåˆ™å¦é€‰ä¸€ä¸ªæœªè¢«è®¿é—®çš„é¡¶ç‚¹ä½œèµ·å§‹ç‚¹ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰é¡¶ç‚¹éƒ½è¢«è®¿é—®åˆ°ä¸ºæ­¢ã€‚ DFSåº”ç”¨ï¼šä½¿ç”¨ DFS å¯¹ä¸€ä¸ªå›¾è¿›è¡Œéå†æ—¶ï¼Œèƒ½å¤Ÿéå†åˆ°çš„èŠ‚ç‚¹éƒ½æ˜¯ä»åˆå§‹èŠ‚ç‚¹å¯è¾¾çš„ï¼ŒDFS å¸¸ç”¨æ¥æ±‚è§£ å•ç‚¹è¿é€šæ€§ã€å•ç‚¹å¯è¾¾æ€§ã€å•ç‚¹è·¯å¾„ç­‰ã€‚ å®ç°ï¼šä½¿ç”¨æ ˆæ¥ä¿å­˜å½“å‰èŠ‚ç‚¹ä¿¡æ¯ï¼Œå½“éå†æ–°èŠ‚ç‚¹è¿”å›æ—¶èƒ½å¤Ÿç»§ç»­éå†å½“å‰èŠ‚ç‚¹ã€‚ä¹Ÿå¯ä»¥ç”¨é€’å½’ã€‚ LeetCodeç›¸å…³é¢˜è§£ï¼š695. Max Area of Islandç»™å®šä¸€ä¸ªåŒ…å«äº†ä¸€äº› 0 å’Œ 1çš„éç©ºäºŒç»´æ•°ç»„ grid , ä¸€ä¸ª å²›å±¿ æ˜¯ç”±å››ä¸ªæ–¹å‘ (æ°´å¹³æˆ–å‚ç›´) çš„ 1 (ä»£è¡¨åœŸåœ°) æ„æˆçš„ç»„åˆã€‚ä½ å¯ä»¥å‡è®¾äºŒç»´çŸ©é˜µçš„å››ä¸ªè¾¹ç¼˜éƒ½è¢«æ°´åŒ…å›´ç€ã€‚æ‰¾åˆ°ç»™å®šçš„äºŒç»´æ•°ç»„ä¸­æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚(å¦‚æœæ²¡æœ‰å²›å±¿ï¼Œåˆ™è¿”å›é¢ç§¯ä¸º0ã€‚) ç¤ºä¾‹ 1: [[0,0,1,0,0,0,0,1,0,0,0,0,0], [0,0,0,0,0,0,0,1,1,1,0,0,0], [0,1,1,0,1,0,0,0,0,0,0,0,0], [0,1,0,0,1,1,0,0,1,0,1,0,0], [0,1,0,0,1,1,0,0,1,1,1,0,0], [0,0,0,0,0,0,0,0,0,0,1,0,0], [0,0,0,0,0,0,0,1,1,1,0,0,0], [0,0,0,0,0,0,0,1,1,0,0,0,0]] å¯¹äºä¸Šé¢è¿™ä¸ªç»™å®šçŸ©é˜µåº”è¿”å› 6ã€‚æ³¨æ„ç­”æ¡ˆä¸åº”è¯¥æ˜¯11ï¼Œå› ä¸ºå²›å±¿åªèƒ½åŒ…å«æ°´å¹³æˆ–å‚ç›´çš„å››ä¸ªæ–¹å‘çš„â€˜1â€™ã€‚ ç¤ºä¾‹ 2: [[0,0,0,0,0,0,0,0]]å¯¹äºä¸Šé¢è¿™ä¸ªç»™å®šçš„çŸ©é˜µ, è¿”å› 0ã€‚ æ³¨æ„: ç»™å®šçš„çŸ©é˜µgrid çš„é•¿åº¦å’Œå®½åº¦éƒ½ä¸è¶…è¿‡ 50ã€‚ è§£é¢˜æ€è·¯:ä½¿ç”¨dfsè®¡ç®—æ¯ä¸ªå²›å±¿çš„é¢ç§¯ï¼Œåœ¨dfsæœŸé—´ï¼Œå°†å²›ä¸­æ¯ä¸ªç‚¹çš„å€¼è®¾ç½®ä¸º0ï¼Œè¡¨ç¤ºä¸ºå·²æ ‡è®°ã€‚ /* *ä½¿ç”¨DFSï¼Œå…ˆç”¨äºŒç»´æ•°ç»„å­˜å‚¨å››ä¸ªæ–¹å‘ï¼Œç„¶ååˆ†åˆ«é€’å½’éå†æ¯ä¸ªç‚¹ *éå†è¿‡çš„ç‚¹å°†å…¶ç½®ä¸º0ï¼Œä¸å†éå† */ class Solution { private int m, n; private int[][] direction = {{0, 1}, {0, -1}, {1, 0}, {-1, 0}};//å››ä¸ªæ–¹å‘ public int maxAreaOfIsland(int[][] grid) { m = grid.length;//è¡Œ n = grid[0].length;//åˆ— int maxArea = 0; if (m == 0 || grid == null) { return 0; } for (int i = 0;i &lt; m;i++) { for (int j = 0;j &lt; n;j++) { maxArea = Math.max(maxArea,dfs(grid,i,j)); } } return maxArea; } private int dfs(int [][] grid,int i,int j){ if (i &lt; 0 || i >= m || j &lt; 0 || j >= n || grid[i][j] == 0) { return 0; } grid[i][j] = 0;//è®¾ä¸ºå·²æ ‡è®° int area = 1; for (int [] d : direction) { area += dfs(grid,i + d[0],j + d[1]); } return area; } } 200. Number of Islands ç»™å®šä¸€ä¸ªç”± â€˜1â€™ï¼ˆé™†åœ°ï¼‰å’Œ â€˜0â€™ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè®¡ç®—å²›å±¿çš„æ•°é‡ã€‚ä¸€ä¸ªå²›è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”å®ƒæ˜¯é€šè¿‡æ°´å¹³æ–¹å‘æˆ–å‚ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥è€Œæˆçš„ã€‚ä½ å¯ä»¥å‡è®¾ç½‘æ ¼çš„å››ä¸ªè¾¹å‡è¢«æ°´åŒ…å›´ã€‚ Example 1: Input: 11110 11010 11000 00000 Output: 1 Example 2: Input: 11000 11000 00100 00011 Output: 3è§£é¢˜æ€è·¯ï¼šæœ¬é¢˜è·Ÿä¸Šé¢leetcode695æœ‰ç‚¹ç±»ä¼¼ï¼Œéƒ½æ˜¯å²›å±¿é—®é¢˜ï¼Œå¯ä»¥å°†çŸ©é˜µè¡¨ç¤ºçœ‹æˆä¸€å¼ æœ‰å‘å›¾ï¼ŒæŠŠé—®é¢˜è½¬æ¢ä¸ºå¯¹æ¯ä¸ªç‚¹è¿›è¡ŒDFSéå†ï¼Œå¦‚æœæœ‰éå†å®Œä¸€ä¸ªï¼Œé‚£ä¹ˆå²›å±¿æ•°é‡+1 class Solution { private int directions[][] = {{0,1},{0,-1},{1,0},{-1,0}}; private int m , n; public int numIslands(char[][] grid) { if (grid == null || grid.length == 0) { return 0; } m = grid.length; n = grid[0].length; int num = 0;//å²›å±¿æ•°é‡ for (int i = 0;i &lt; m;i++) { for (int j = 0;j &lt; n;j++) { if (grid[i][j] != '0') { dfs(grid,i,j); num++; } } } return num; } private void dfs(char [][] grid,int i,int j){ if(i >= m || i &lt; 0 || j >= n || j &lt; 0 || grid[i][j] =='0'){ return; } grid[i][j] = '0';//éå†è¿‡çš„ä¸å†éå† for(int d[] : directions){ dfs(grid,i + d[0],j + d[1]); } } } 547. Friend Circlesç­ä¸Šæœ‰ N åå­¦ç”Ÿã€‚å…¶ä¸­æœ‰äº›äººæ˜¯æœ‹å‹ï¼Œæœ‰äº›åˆ™ä¸æ˜¯ã€‚ä»–ä»¬çš„å‹è°Šå…·æœ‰æ˜¯ä¼ é€’æ€§ã€‚å¦‚æœå·²çŸ¥ A æ˜¯ B çš„æœ‹å‹ï¼ŒB æ˜¯ C çš„æœ‹å‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è®¤ä¸º A ä¹Ÿæ˜¯ C çš„æœ‹å‹ã€‚æ‰€è°“çš„æœ‹å‹åœˆï¼Œæ˜¯æŒ‡æ‰€æœ‰æœ‹å‹çš„é›†åˆã€‚ ç»™å®šä¸€ä¸ª N * N çš„çŸ©é˜µ Mï¼Œè¡¨ç¤ºç­çº§ä¸­å­¦ç”Ÿä¹‹é—´çš„æœ‹å‹å…³ç³»ã€‚å¦‚æœM[i][j] = 1ï¼Œè¡¨ç¤ºå·²çŸ¥ç¬¬ i ä¸ªå’Œ j ä¸ªå­¦ç”Ÿäº’ä¸ºæœ‹å‹å…³ç³»ï¼Œå¦åˆ™ä¸ºä¸çŸ¥é“ã€‚ä½ å¿…é¡»è¾“å‡ºæ‰€æœ‰å­¦ç”Ÿä¸­çš„å·²çŸ¥çš„æœ‹å‹åœˆæ€»æ•°ã€‚ Input: [[1,1,0], [1,1,0], [0,0,1]] Output: 2 Input: [[1,1,0], [1,1,1], [0,1,1]] Output: 1è§£é¢˜æ€è·¯ï¼š DFSä¸­çš„æœ‹å‹åœˆé—®é¢˜ï¼Œæ³¨æ„è¿™æ˜¯ä¸ªN*NçŸ©é˜µï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªhasVisitedæ•°ç»„, ä¾æ¬¡åˆ¤æ–­æ¯ä¸ªèŠ‚ç‚¹, å¦‚æœå…¶æœªè®¿é—®, æœ‹å‹åœˆæ•°åŠ 1å¹¶å¯¹è¯¥èŠ‚ç‚¹è¿›è¡Œdfsæœç´¢æ ‡è®°æ‰€æœ‰è®¿é—®åˆ°çš„èŠ‚ç‚¹ã€‚ class Solution { private int m; //N*NçŸ©é˜µ public int findCircleNum(int[][] M) { if (M.length == 0 || M == null) { return -1; } m = M.length; boolean [] hasVisited = new boolean[m]; //æ˜¯å¦è®¿é—® int circleNum = 0; for (int i = 0; i &lt; m; i++) { if (!hasVisited[i]) { dfs(M,i,hasVisited); circleNum++; } } return circleNum; } private void dfs(int [][] M,int i,boolean [] hasVisited) { hasVisited[i] = true; for (int k = 0; k &lt; m; k++) { if (M[i][k] == 1 &amp;&amp; !hasVisited[k]) dfs(M,k,hasVisited); } } } 207. Course Scheduleç°åœ¨ä½ æ€»å…±æœ‰ n é—¨è¯¾éœ€è¦é€‰ï¼Œè®°ä¸º 0 åˆ° n-1ã€‚ åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬: [0,1] ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œåˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿ è¾“å…¥: 2, [[1,0]] è¾“å‡º: true è§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å®Œæˆè¯¾ç¨‹ 0ã€‚æ‰€ä»¥è¿™æ˜¯å¯èƒ½çš„ã€‚ è¾“å…¥: 2, [[1,0],[0,1]] è¾“å‡º: false è§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå®Œæˆâ€‹è¯¾ç¨‹ 0ï¼›å¹¶ä¸”å­¦ä¹ è¯¾ç¨‹ 0 ä¹‹å‰ï¼Œä½ è¿˜åº”å…ˆå®Œæˆè¯¾ç¨‹ 1ã€‚è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚è§£é¢˜æ€è·¯ï¼šæ„å»ºé€†é‚»æ¥è¡¨ï¼Œå®ç°æ·±åº¦ä¼˜å…ˆéå†ï¼Œå…¶å®å°±æ˜¯æ£€æµ‹è¿™ä¸ªæœ‰å‘å›¾ä¸­æœ‰æ²¡æœ‰ç¯ï¼Œåªè¦å­˜åœ¨ç¯ï¼Œè¯¾ç¨‹å°±ä¸èƒ½å®Œæˆã€‚å¦å¤–ï¼Œå½“è®¿é—®ä¸€ä¸ªç»“ç‚¹çš„æ—¶å€™ï¼Œåº”è¯¥é€’å½’è®¿é—®å®ƒçš„å‰é©±ç»“ç‚¹ï¼Œç›´è‡³å‰é©±ç»“ç‚¹æ²¡æœ‰å‰é©±ç»“ç‚¹ä¸ºæ­¢ã€‚ /** *é‡‡ç”¨æ·±åº¦ä¼˜å…ˆéå†è§£å†³æœ‰æ— ç¯ *å¦‚æœé‡‡ç”¨BFSä¼šæ›´å¿« **/ class Solution { public boolean canFinish(int numCourses, int[][] prerequisites) { List&lt;Integer> [] graphic = new List[numCourses]; boolean [] marked = new boolean[numCourses];//åˆ¤æ–­é‚£ä¸ªæ•°æ˜¯å¦è¢«æ ‡è®° for (int i = 0;i &lt; numCourses;i++){ graphic[i] = new ArrayList();//å¯¹æ¯ä¸ªæ•°å­—ç”Ÿæˆä¸€ä¸ªé“¾è¡¨ } for (int [] pre : prerequisites){ graphic[pre[0]].add(pre[1]); } for (int i = 0;i &lt; numCourses;i++){ if(hasCycle(graphic,marked,i)){ return false; } } return true; } //åˆ¤æ–­æ˜¯å¦å«ç¯ private boolean hasCycle(List&lt;Integer> [] graphic,boolean [] marked,int cur){ if (marked[cur]){ return true;//å¦‚æœè¢«æ ‡è®°ï¼Œåˆ™ç›´æ¥è¿”å›true } marked[cur] = true; for (int next : graphic[cur]){ if (hasCycle(graphic,marked,next)){ return true; } } marked[cur] = false; return false; } } 130. Surrounded Regionsç»™å®šä¸€ä¸ªäºŒç»´çš„çŸ©é˜µï¼ŒåŒ…å« â€˜Xâ€™ å’Œ â€˜Oâ€™ï¼ˆå­—æ¯ Oï¼‰ã€‚ æ‰¾åˆ°æ‰€æœ‰è¢« â€˜Xâ€™ å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ â€˜Oâ€™ ç”¨ â€˜Xâ€™ å¡«å……ã€‚ç¤ºä¾‹: X X X XX O O XX X O XX O X Xè¿è¡Œä½ çš„å‡½æ•°åï¼ŒçŸ©é˜µå˜ä¸ºï¼š X X X XX X X XX X X XX O X Xè§£é‡Š: è¢«å›´ç»•çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œä»»ä½•è¾¹ç•Œä¸Šçš„ â€˜Oâ€™ éƒ½ä¸ä¼šè¢«å¡«å……ä¸º â€˜Xâ€™ã€‚ ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„ â€˜Oâ€™ ç›¸è¿çš„ â€˜Oâ€™ æœ€ç»ˆéƒ½ä¼šè¢«å¡«å……ä¸º â€˜Xâ€™ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ åœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›¸é‚»ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯â€œç›¸è¿â€çš„ã€‚ è§£é¢˜æ€è·¯ï¼šé¦–å…ˆå¯¹çŸ©é˜µè¾¹ç•Œä¸Šæ‰€æœ‰çš„Oåšæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå°†ç›¸è¿çš„Oæ›´æ”¹ä¸º * ï¼Œç„¶åç¼–è¾‘æ•°ç»„ï¼Œå°†æ•°ç»„ä¸­Oæ›´æ”¹ä¸ºXï¼Œå°†æ•°ç»„ä¸­ * æ›´æ”¹ä¸ºOã€‚ class Solution { private int m,n; private int [] [] directions = {{0,1},{0,-1},{1,0},{-1,0}}; public void solve(char[][] board) { if (board == null || board.length == 0){ return; } m = board.length; n = board[0].length; //è¾¹ç•Œå€¼éå† for (int i = 0; i &lt; m; i++) { dfs(board, i, 0); dfs(board, i, n-1); } for (int j = 0; j &lt; n; j++) { dfs(board, 0, j); dfs(board, m - 1, j); } for (int i = 0; i &lt; m; i++) { for (int j = 0; j &lt; n; j++){ if(board[i][j] == 'O') { board [i][j] = 'X'; //å°†è¢«åŒ…å›´åœ¨ä¸­é—´çš„ç½®ä¸ºX }else if (board[i][j] == '*'){ board [i][j] = 'O'; //å°†è¾¹ç•Œçš„ç½®ä¸ºO } } } } private void dfs(char [][] board, int i, int j) { if (i &lt; 0 || i >= m || j &lt; 0 || j >= n || board[i][j] != 'O'){ return; } board[i][j] = '*'; //å°†è¢«åŒ…å›´çš„Oï¼Œå¹¶ä¸”Oä¸åœ¨è¾¹ç•Œ ç½®ä¸ºå…¶ä»–ç¬¦å· for (int [] d: directions) { dfs(board, i + d[0],j + d[1]); } } } æ€»ç»“ï¼šé€šè¿‡åˆ·é¢˜çŸ¥é“DFSç±»å‹çš„è§£é¢˜æ€è·¯ï¼Œå¤§æ¦‚æœ‰å²›å±¿é—®é¢˜ï¼Œæœ‹å‹åœˆé—®é¢˜ï¼Œæ­¤æ—¶è§£é¢˜æ¨¡æ¿ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œç”¨é€’å½’éå†ï¼Œéå†è¿‡äº†ç‚¹è®¾ä¸ºå·²æ ‡è®°ã€‚ å¹¿åº¦ä¼˜å…ˆéå†BFSï¼š å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•(Breadth First Search)ï¼Œåˆç§°ä¸ºâ€å®½åº¦ä¼˜å…ˆæœç´¢â€æˆ–â€æ¨ªå‘ä¼˜å…ˆæœç´¢â€ï¼Œç®€ç§°BFSã€‚ å®ƒçš„æ€æƒ³æ˜¯ï¼šä»å›¾ä¸­æŸé¡¶ç‚¹vå‡ºå‘ï¼Œåœ¨è®¿é—®äº†vä¹‹åä¾æ¬¡è®¿é—®vçš„å„ä¸ªæœªæ›¾è®¿é—®è¿‡çš„é‚»æ¥ç‚¹ï¼Œç„¶ååˆ†åˆ«ä»è¿™äº›é‚»æ¥ç‚¹å‡ºå‘ä¾æ¬¡è®¿é—®å®ƒä»¬çš„é‚»æ¥ç‚¹ï¼Œå¹¶ä½¿å¾—â€œå…ˆè¢«è®¿é—®çš„é¡¶ç‚¹çš„é‚»æ¥ç‚¹å…ˆäºåè¢«è®¿é—®çš„é¡¶ç‚¹çš„é‚»æ¥ç‚¹è¢«è®¿é—®ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰å·²è¢«è®¿é—®çš„é¡¶ç‚¹çš„é‚»æ¥ç‚¹éƒ½è¢«è®¿é—®åˆ°ã€‚å¦‚æœæ­¤æ—¶å›¾ä¸­å°šæœ‰é¡¶ç‚¹æœªè¢«è®¿é—®ï¼Œåˆ™éœ€è¦å¦é€‰ä¸€ä¸ªæœªæ›¾è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹ä½œä¸ºæ–°çš„èµ·å§‹ç‚¹ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´è‡³å›¾ä¸­æ‰€æœ‰é¡¶ç‚¹éƒ½è¢«è®¿é—®åˆ°ä¸ºæ­¢ã€‚éœ€è¦æ³¨æ„ï¼Œéå†è¿‡çš„èŠ‚ç‚¹ä¸èƒ½å†æ¬¡è¢«éå†ã€‚ BFSåº”ç”¨ï¼šBFSå¯ç”¨äºè§£å†³2ç±»é—®é¢˜ï¼š ä»Aå‡ºå‘æ˜¯å¦å­˜åœ¨åˆ°è¾¾Bçš„è·¯å¾„ï¼›ä»Aå‡ºå‘åˆ°è¾¾Bçš„æœ€çŸ­è·¯å¾„(è¿™ä¸ªåº”è¯¥å«æœ€å°‘æ­¥éª¤åˆç†ï¼Œç¬¬ä¸€æ¬¡éå†åˆ°ç›®çš„èŠ‚ç‚¹ï¼Œå…¶æ‰€ç»è¿‡çš„è·¯å¾„ä¸ºæœ€çŸ­è·¯å¾„)ï¼›æ³¨æ„ï¼Œä½¿ç”¨ BFS åªèƒ½æ±‚è§£æ— æƒå›¾çš„æœ€çŸ­è·¯å¾„ã€‚ å®ç°ï¼šä½¿ç”¨é˜Ÿåˆ—æ¥å­˜å‚¨æ¯ä¸€è½®éå†å¾—åˆ°çš„èŠ‚ç‚¹,å¯¹äºéå†è¿‡çš„èŠ‚ç‚¹ï¼Œåº”è¯¥å°†å®ƒæ ‡è®°ï¼Œé˜²æ­¢é‡å¤éå†ã€‚ å…¸ä¾‹ï¼šè®¡ç®—åœ¨ç½‘æ ¼ä¸­ä»åŸç‚¹åˆ°ç‰¹å®šç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ [[1,1,0,1],[1,0,1,0],[1,1,1,1],[1,0,1,1]] 1 è¡¨ç¤ºå¯ä»¥ç»è¿‡æŸä¸ªä½ç½®ï¼Œæ±‚è§£ä» (0, 0) ä½ç½®åˆ° (tr, tc) ä½ç½®çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚ ç”±äºæ¯ä¸ªç‚¹éœ€è¦ä¿å­˜xåæ ‡ï¼Œyåæ ‡ä»¥åŠé•¿åº¦ï¼Œæ‰€ä»¥å¿…é¡»è¦ç”¨ä¸€ä¸ªç±»å°†ä¸‰ä¸ªå±æ€§å°è£…èµ·æ¥ã€‚ ç”±äºbfsæ¯æ¬¡åªå°†è·ç¦»åŠ ä¸€ï¼Œæ‰€ä»¥å½“ä½ç½®æŠµè¾¾ç»ˆç‚¹æ—¶ï¼Œæ­¤æ—¶çš„è·ç¦»å°±æ˜¯æœ€çŸ­è·¯å¾„äº†ã€‚ private static class Position { int r, c, length; public Position(int r, int c, int length) { this.r = r; this.c = c; this.length = length; } } public static int minPathLength(int[][] grids, int tr, int tc) { int[][] next = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}}; int m = grids.length, n = grids[0].length; Queue&lt;Position> queue = new LinkedList&lt;>(); queue.add(new Position(0, 0, 1)); while (!queue.isEmpty()) { Position pos = queue.poll(); for (int i = 0; i &lt; 4; i++) {//4æ˜¯æ•°ç»„nextçš„é•¿åº¦ Position nextPos = new Position(pos.r + next[i][0], pos.c + next[i][1], pos.length + 1); if (nextPos.r &lt; 0 || nextPos.r >= m || nextPos.c &lt; 0 || nextPos.c >= n) continue; if (grids[nextPos.r][nextPos.c] != 1) continue; grids[nextPos.r][nextPos.c] = 0; if (nextPos.r == tr &amp;&amp; nextPos.c == tc) return nextPos.length; queue.add(nextPos); } } return -1; } LeetCodeç›¸å…³é¢˜è§£ï¼š279. Perfect Square(Medium) é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªæ­£æ•´æ•°nï¼Œæ±‚å’Œä¸ºnçš„æœ€å°å…¨å¹³æ–¹æ•°ï¼ˆä¾‹å¦‚ï¼Œ1ï¼Œ4ï¼Œ9ï¼Œ16ï¼Œâ€¦ï¼‰ã€‚Input: n = 12Output: 3Explanation: 12 = 4 + 4 + 4. Input: n = 13Output: 2Explanation: 13 = 4 + 9. è§£é¢˜æ€è·¯: æ€è·¯æ¥æºå‚è€ƒ@CyC2018Leetcodeåˆ·é¢˜é¢˜è§£ å¯ä»¥å°†æ¯ä¸ªæ•´æ•°çœ‹æˆå›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœä¸¤ä¸ªæ•´æ•°ä¹‹å·®ä¸ºä¸€ä¸ªå¹³æ–¹æ•°ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ•´æ•°æ‰€åœ¨çš„èŠ‚ç‚¹å°±æœ‰ä¸€æ¡è¾¹ã€‚ è¦æ±‚è§£æœ€å°çš„å¹³æ–¹æ•°æ•°é‡ï¼Œå°±æ˜¯æ±‚è§£ä»èŠ‚ç‚¹ n åˆ°èŠ‚ç‚¹ 0 çš„æœ€çŸ­è·¯å¾„ã€‚ é¦–å…ˆç”Ÿæˆå¹³æ–¹æ•°åºåˆ—æ”¾å…¥æ•°ç»„ï¼Œç„¶åé€šè¿‡é˜Ÿåˆ—ï¼Œæ¯æ¬¡å‡å»ä¸€ä¸ªå¹³æ–¹æ•°ï¼ŒæŠŠå‰©ä¸‹çš„æ•°åŠ å…¥é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡bfsçš„æ–¹å¼ï¼Œå½“æ­¤æ—¶çš„æ•°åˆšå¥½ç­‰äºå¹³æ–¹æ•°ï¼Œåˆ™æ»¡è¶³é¢˜æ„ï¼Œç”±äºæ¯æ¬¡å¾ªç¯levelåŠ ä¸€ï¼Œæ‰€ä»¥æœ€åè¾“å‡ºçš„levelå°±æ˜¯éœ€è¦çš„å¹³æ–¹æ•°ä¸ªæ•° class Solution { public int numSquares(int n) { List&lt;Integer> squares = getSquares(n);//è·å–æ‰€æœ‰å¹³æ–¹æ•°ï¼Œå­˜åœ¨é“¾è¡¨ä¸­ Queue&lt;Integer> queue = new LinkedList&lt;>(); boolean[] marked = new boolean[n + 1];//è¿™é‡Œæ˜¯n+1ï¼Œæ¯”è¾ƒå¥½è®¡ç®— queue.add(n); marked[n] = true; int level = 0;//levelä¸ºç¬¬å‡ å±‚ while(!queue.isEmpty()){ int size = queue.size(); level++; while(size-- > 0){ int top = queue.poll(); for(int s : squares){ if (top - s==0){ return level; } if (top - s &lt; 0){ break; } if (marked[top - s]){ continue; } marked[top - s] =true;//æ ‡è®°ä¸ºtrueçš„ä¸å†éå† queue.add(top - s); } } } return n; } //å…ˆå®šä¹‰ä¸€ä¸ªæ±‚å°äºnçš„æ‰€æœ‰å¹³æ–¹æ•°çš„æ–¹æ³• private List getSquares(int n){ List&lt;Integer> list = new ArrayList&lt;>(); int square = 1; int i = 3; while (square &lt;= n){ list.add(square); square += i; i += 2; } return list; } } ```","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/LeetCode/"}],"tags":[{"name":"BFS&DFS","slug":"BFS-DFS","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/BFS-DFS/"}]},{"title":"æ ¡å›­å•†é“ºO2Oå°ç»“","slug":"æ ¡å›­å•†é“ºå¹³å°1.0å­¦ä¹ ","date":"2019-04-28T10:25:08.000Z","updated":"2019-09-30T14:07:44.000Z","comments":true,"path":"2019/04/28/xiao-yuan-shang-pu-ping-tai-1.0-xue-xi/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/04/28/xiao-yuan-shang-pu-ping-tai-1.0-xue-xi/","excerpt":"","text":"åšå®Œæ ¡å›­å•†é“ºå¹³å°O2Oå°é¡¹ç›®1.0ï¼Œé¡¹ç›®æ¥æºæ…•è¯¾ç½‘ï¼Œè®°å½•ä¸€ä¸‹å¹³æ—¶é‡åˆ°çš„é—®é¢˜ğŸ¤”ï¼š é¡¹ç›®ç®€ä»‹ï¼šé¡¹ç›®1.0ä¸­ä½¿ç”¨SSMæŠ€æœ¯å¿«é€Ÿè¿­ä»£å‡ºç‰ˆæ ¡å›­å•†é“º1.0ï¼›åŒæ—¶åŒ…å«MySQLä¸»ä»åŒæ­¥å®ç°è¯»å†™åˆ†ç¦»ï¼Œåˆ©ç”¨SUI Mobileå¿«é€Ÿå®ç°å“åº”å¼é¡µé¢ï¼ŒRedisç¼“å­˜ï¼Œæ•°æ®åº“åŠ å¯†é…ç½®ï¼Œéƒ¨ç½²ä¸Šçº¿ç­‰å®ç”¨æŠ€æœ¯ç‚¹ã€‚ æ•°æ®åº“è®¾è®¡ï¼šæ•°æ®åº“è¡¨çš„æ€»ä½“ç»“æ„å¦‚ä¸‹ï¼šæ³¨æ„ï¼š å¾®ä¿¡è´¦å·å’Œæœ¬åœ°è´¦å·æ˜¯é€šè¿‡ç”¨æˆ·ä¿¡æ¯è¡¨ä¸­çš„user_idè¿›è¡Œå…³è”çš„ï¼Œå®ç°æœ¬åœ°è´¦å·å’Œå¾®ä¿¡è´¦å·çš„ç»‘å®šã€‚ åº—é“ºä¿¡æ¯è¡¨è·Ÿä»¥ä¸‹å››ä¸ªè¡¨çš„å…³è”ï¼š å•†å“ä¿¡æ¯è¡¨é€šè¿‡product_category_idè·Ÿå•†å“ç±»åˆ«è¡¨å…³è”ï¼Œé€šè¿‡product_idè·Ÿè¯¦æƒ…å›¾ç‰‡è¡¨è¿›è¡Œå…³è”Logbackæ—¥å¿—æ¡†æ¶ï¼šæœ¬é¡¹ç›®ä¸­ä½¿ç”¨Logbackæ—¥å¿—æ¡†æ¶ï¼ŒLogback æ˜¯ Slf4j çš„åŸç”Ÿå®ç°æ¡†æ¶ï¼ŒåŒæ ·ä¹Ÿæ˜¯å‡ºè‡ª Log4j ä¸€ä¸ªäººä¹‹æ‰‹ï¼Œä½†æ‹¥æœ‰æ¯” log4j æ›´å¤šçš„ä¼˜ç‚¹ã€ç‰¹æ€§å’Œæ›´åšå¼ºçš„æ€§èƒ½ï¼Œç°åœ¨åŸºæœ¬éƒ½ç”¨æ¥ä»£æ›¿ log4j æˆä¸ºä¸»æµã€‚ Thumbnailatorå›¾ç‰‡å¤„ç†ï¼šGitHubé“¾æ¥åœ°å€Thumbnailatoræ˜¯ä¸€ä¸ªç”¨æ¥ç”Ÿæˆå›¾åƒç¼©ç•¥å›¾çš„ Javaç±»åº“ï¼Œå¯ç”Ÿæˆå›¾ç‰‡ç¼©ç•¥å›¾ï¼Œæ”¯æŒæ ¹æ®ä¸€ä¸ªç›®å½•æ‰¹é‡ç”Ÿæˆç¼©ç•¥å›¾ï¼Œæ”¯æŒå›¾ç‰‡ç¼©æ”¾ï¼ŒåŒºåŸŸè£å‰ªï¼Œæ°´å°ï¼Œæ—‹è½¬ï¼Œä¿æŒæ¯”ä¾‹ç­‰ç­‰ã€‚æ³¨æ„ï¼šéœ€è¦å°è£…å·¥å…·ç±»ã€‚ DTOåŠç›¸å…³æšä¸¾ç±»ï¼šData Transfer Objectï¼Œå³æ•°æ®ä¼ é€å¯¹è±¡ ã€‚ DTOæ˜¯ä¸€ä¸ªæ™®é€šçš„Javaç±»ï¼Œå®ƒå°è£…äº†è¦ä¼ é€çš„æ‰¹é‡çš„æ•°æ®ã€‚å½“å®¢æˆ·ç«¯éœ€è¦è¯»å–æœåŠ¡å™¨ç«¯çš„æ•°æ®çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ç«¯å°†æ•°æ®å°è£…åœ¨DTOä¸­ï¼Œè¿™æ ·å®¢æˆ·ç«¯å°±å¯ä»¥åœ¨ä¸€ä¸ªç½‘ç»œè°ƒç”¨ä¸­è·å¾—å®ƒéœ€è¦çš„æ‰€æœ‰æ•°æ®ã€‚ Shopå®ä½“ç±»åŒ…å«äº†Shopçš„åŸºæœ¬å±æ€§ï¼Œä½†æ˜¯åœ¨å‰ç«¯æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥è¿”å›æ“ä½œçš„ç»“æœç­‰ä¿¡æ¯ï¼Œè¿™ä¸ªæ—¶å€™Shopå®ä½“ç±»å°±ä¸èƒ½æ»¡è¶³éœ€æ±‚äº†ï¼Œæˆ‘ä»¬å°†æ“ä½œç»“æœå’ŒShopç­‰ä¿¡æ¯ç»Ÿä¸€æ”¾åˆ°DTOä¸­å¤„ç†ï¼Œå³å¯æ»¡è¶³å½“å‰çš„éœ€æ±‚ã€‚ DTOç±»ShopExecutionï¼š package com.artisan.o2o.dto; import java.util.List; import com.artisan.o2o.entity.Shop; import com.artisan.o2o.enums.ShopStateEnum; /* *DTOä¸­è¿˜è¦åŒ…å«æ“ä½œå•†é“ºçš„è¿”å›ç»“æœ,å•ä¸ªçš„å®ä½“ç±»æ— æ³•æ»¡è¶³ï¼Œæ‰€ä»¥å°è£…åˆ°dtoä¸­ï¼Œä¾¿äºæ“ä½œ */ public class ShopExecution { private int state ; private String stateInfo; private int count; private Shop shop; /** * åº—é“ºé›†åˆ (æŸ¥è¯¢åº—é“ºåˆ—è¡¨çš„æ—¶å€™ç”¨) */ private List&lt;Shop> shopList; //æ„é€ å‡½æ•°,åº—é“ºæ“ä½œå¤±è´¥çš„æ—¶å€™ä½¿ç”¨çš„æ„é€ å‡½æ•° public ShopExecution(ShopStateEnum shopStateEnum) { this.state = shopStateEnum.getState(); this.stateInfo = shopStateEnum.getStateInfo(); } //æ„é€ å‡½æ•°,åº—é“ºæ“ä½œæˆåŠŸçš„æ—¶å€™ä½¿ç”¨çš„æ„é€ å‡½æ•° public ShopExecution(ShopStateEnum stateEnum, Shop shop) { this.state = stateEnum.getState(); this.stateInfo = stateEnum.getStateInfo(); this.shop = shop; } //æ„é€ å‡½æ•°,åº—é“ºæ“ä½œæˆåŠŸçš„æ—¶å€™ä½¿ç”¨çš„æ„é€ å‡½æ•° public ShopExecution(ShopStateEnum stateEnum, List&lt;Shop> shopList) { this.state = stateEnum.getState(); this.stateInfo = stateEnum.getStateInfo(); this.shopList = shopList; } public int getState() { return state; } public void setState(int state) { this.state = state; } public String getStateInfo() { return stateInfo; } public void setStateInfo(String stateInfo) { this.stateInfo = stateInfo; } public int getCount() { return count; } public void setCount(int count) { this.count = count; } public Shop getShop() { return shop; } public void setShop(Shop shop) { this.shop = shop; } public List&lt;Shop> getShopList() { return shopList; } public void setShopList(List&lt;Shop> shopList) { this.shopList = shopList; } } æšä¸¾ç±»ï¼šä½¿ç”¨æšä¸¾è¡¨è¿°å¸¸é‡æ•°æ®å­—å…¸ã€‚ä¾‹å¦‚ä¸ºå•†å“çŠ¶æ€å®šä¹‰ä¸€ä¸ªæšä¸¾ç±»ShopStateEnumç±»ã€‚ package com.zzt.o2o.enums; public enum ShopStateEnum { CHECK(0, \"å®¡æ ¸ä¸­\"), OFFLINE(-1, \"éæ³•åº—é“º\"), SUCCESS(1, \"æ“ä½œæˆåŠŸ\"), PASS(2, \"å®¡æ ¸é€šè¿‡\"), INNER_ERROR(-1001, \"æ“ä½œå¤±è´¥\"), NULL_SHOPID(-1002, \"ShopIdä¸ºç©º\"), NULL_SHOP_INFO(-1003, \"ä¼ å…¥äº†ç©ºçš„ä¿¡æ¯\"); private int state; private String stateInfo; private ShopStateEnum(int state, String stateInfo) { this.state = state; this.stateInfo = stateInfo; } public int getState() { return state; } public String getStateInfo() { return stateInfo; } // å®šä¹‰æ¢æˆpulic static æš´æ¼ç»™å¤–éƒ¨,é€šè¿‡stateè·å–ShopStateEnum public static ShopStateEnum stateOf(int state) { for (ShopStateEnum stateEnum : values()) { if(stateEnum.getState() == state){ return stateEnum; } } return null; } } éªŒè¯ç kaptchaç»„ä»¶ï¼šGitHubåœ°å€ï¼šhttps://github.com/penggle/kaptcha Kaptchaæ˜¯åŸºäºSimpleCaptchaçš„å¼€æºé¡¹ç›®ã€‚é€šè¿‡è°ƒæ•´Kaptchaé…ç½®å¯ä»¥ç”Ÿæˆå„ç§æ ·å¼çš„éªŒè¯ç ã€‚ Kaptchaæä¾›çš„åŠŸèƒ½å¦‚ä¸‹ï¼š éªŒè¯ç çš„å­—ä½“ éªŒè¯ç å­—ä½“çš„å¤§å° éªŒè¯ç å­—ä½“çš„å­—ä½“é¢œè‰² éªŒè¯ç å†…å®¹çš„èŒƒå›´ éªŒè¯ç å›¾ç‰‡çš„å¤§å°ï¼Œè¾¹æ¡†ï¼Œè¾¹æ¡†ç²—ç»†ï¼Œè¾¹æ¡†é¢œè‰² éªŒè¯ç çš„å¹²æ‰°çº¿ éªŒè¯ç çš„æ ·å¼ jacksonçš„ä½¿ç”¨ä½¿ç”¨jacksonå°†å‰ç«¯ä¼ è¿‡æ¥çš„jsonæ•°æ®æ ¼å¼è½¬æ¢ä¸ºå¯¹åº”çš„pojoGitHubï¼šhttps://github.com/FasterXML/jackson-databind å•†é“ºæ³¨å†Œè®¾ç½®å›¾ç‰‡ï¼šæˆ‘çš„æ•°æ®åº“ä¸­å­˜å‚¨çš„å¹¶ä¸æ˜¯å…¨éƒ¨è·¯å¾„ï¼Œè€Œæ˜¯éƒ¨åˆ†è·¯å¾„ï¼Œå› æ­¤åœ¨ä¼ ç»™å‰ç«¯è·¯å¾„æ—¶å¹¶ä¸å®Œå…¨ï¼Œå› æ­¤æˆ‘ä»¬åœ¨tomcatçš„server.xmlæ–‡ä»¶ä¸­é…ç½®ï¼Œè§£å†³æ–¹æ¡ˆï¼š åœ¨ideaä¸æƒ³esç›´æ¥æ›´æ”¹ï¼Œæ‰“å¼€tomcaæ–‡ä»¶å¤¹æ‰¾åˆ°server.xmlæ–‡ä»¶åœ¨æœ€åè®¾ç½®ä¸€ä¸ªï¼Œæ„æ€ç›¸å½“äºå½“æˆ‘ä»¬é‡åˆ°ç¬¬ä¸€ä¸ªå‚æ•°çš„è·¯å¾„æ—¶è½¬ç¬¬äºŒä¸ªè·¯å¾„å°±æ˜¯å½“é‡åˆ°/Aå°±è½¬ä¸º/A/B/C/è¿™ç§ å•†é“ºç¼–è¾‘Sqlä¸­å¯å°†é‡å¤çš„sqlæå–å‡ºæ¥ï¼Œä½¿ç”¨æ—¶ç”¨includeå¼•ç”¨å³å¯ï¼Œæœ€ç»ˆè¾¾åˆ°sqlé‡ç”¨çš„ç›®çš„ æ³¨æ„ï¼šå¦‚æœå¼•ç”¨å…¶å®ƒmapper.xmlçš„sqlç‰‡æ®µï¼Œåˆ™åœ¨å¼•ç”¨æ—¶éœ€è¦åŠ ä¸Šnamespaceï¼Œå¦‚ä¸‹ï¼š&lt;include refid=â€namespace.sqlç‰‡æ®µâ€/&gt; å•†é“ºåˆ—è¡¨åˆ—è¡¨é¡µé¢éœ€è¦æ”¯æŒåˆ†é¡µ (MySqlæ•°æ®åº“ï¼Œæˆ‘ä»¬ä½¿ç”¨limitå…³é”®å­—)åœ¨daoå±‚ï¼šåˆ†é¡µæ˜¯è¿™æ ·çš„ï¼šæˆ‘ä»¬æ¥å—çš„æ˜¯limit startï¼Œsize ï¼ˆstartä»0å¼€å§‹ï¼‰ï¼Œåœ¨mapperæ–‡ä»¶ä¸­åªèƒ½æŒ‡å®šç›¸åº”çš„ä»æŸè¡Œåˆ°æŸè¡Œï¼Œ ä»å‰ç«¯å´åªèƒ½ä¼ æ¥é¡µæ•°å’Œé¡µæ•°å¤§å°ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªé¡µæ•°è½¬ä¸ºè®°å½•æ¡æ•°çš„è®°å½•ã€‚æˆ‘ä»¬åœ¨Utilç±»ä¸­å†™å…¥ä¸€ä¸ªæ–¹æ³•ï¼Œå‚æ•°æ¥å—é¡µæ•°è¡Œé¡µæ•°å¤§å°ï¼Œé€šè¿‡å°†é¡µæ•°å‡1ä¹˜ä¸Šé¡µæ•°å¤§å°ï¼Œå°±æ˜¯æˆ‘ä»¬è¦ç´¢å¼•çš„è¿™ä¸€é¡µçš„æ‰€æœ‰è®°å½•ã€‚ å•†å“ç±»åˆ«åœ¨åˆ é™¤å•†å“ç±»åˆ«æ—¶éœ€è¦å…ˆå°†è¯¥å•†å“ç›®å½•ä¸‹çš„å•†å“çš„ç±»åˆ«Idç½®ä¸ºç©ºï¼Œç„¶åå†åˆ é™¤è¯¥å•†å“ç›®å½•ã€‚ å•†å“ç¼–è¾‘å•†å“ä¿¡æ¯æœ‰å•†å“ç¼©ç•¥å›¾å’Œè¯¦æƒ…å›¾ç‰‡ï¼Œæˆ‘ä»¬çº¦å®šå¥½ï¼šå¦‚æœç”¨æˆ·ä¼ å…¥äº†æ–°çš„å•†å“ç¼©ç•¥å›¾å’Œè¯¦æƒ…å›¾ç‰‡ï¼Œå°±å°†åŸæœ‰çš„å•†å“ç¼©ç•¥å›¾å’Œè¯¦æƒ…å›¾ç‰‡åˆ é™¤æ‰ã€‚ Redisä½¿ç”¨ï¼šåŠ å…¥ç¼“å­˜çš„é…ç½®æ­¥éª¤ pom.xml æ·»åŠ jedisä¾èµ–åŒ… redisé…ç½®æ–‡ä»¶ spring-dao.xmlåŠ è½½redis.properties å°è£…JedisPool,ç”¨äºåˆ›å»ºJedisPool å°è£…æ“ä½œredisçš„å·¥å…·ç±» JedisUtil æ–°å»ºspring-redis.xml é…ç½®redisè¿æ¥æ± å’Œbean web.xmlä¸­åŠ è½½spring-redis.xml Serviceå±‚ä½¿ç”¨ç¼“å­˜ æ ¹æ®æ•°æ®çš„ç‰¹ç‚¹ï¼Œä¸ç»å¸¸å˜åŠ¨çš„æ•°æ® å³æ—¶æ€§è¦æ±‚æ²¡æœ‰é‚£ä¹ˆé«˜çš„è¯»æ•°æ® ä¸ºäº†å‡è½»DBå‹åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°æ®æ”¾åˆ°ç¼“å­˜ä¸­ã€‚ç›®å‰æˆ‘ä»¬éœ€è¦å°†åŒºåŸŸä¿¡æ¯ã€å•†é“ºåˆ†ç±»ä¿¡æ¯å’Œå¤´æ¡ä¿¡æ¯æ”¾å…¥åˆ°redisä¸­ã€‚å› ä¸ºè¿™äº›æ•°æ®ä¸æ€ä¹ˆå˜åŒ–ã€‚åŒæ—¶æ³¨æ„éœ€è¦å°†è¿™äº›æ•°æ®åˆ†ç±»å­˜å‚¨åœ¨redisä¸­ã€‚æ¯”å¦‚å¤´æ¡å¹¿å‘Šé‚£é‡Œæœ‰åŒºåˆ†æ˜¯å¦å¯ä»¥æ”¾ä¸Šå»ï¼Œå³çŠ¶æ€ç å•†å“åˆ†ç±»é‚£é‡Œæ˜¯å¦æœ‰å­ç›®å½•ã€‚ å¯¹ä¿¡æ¯æ•°æ®åŠ å¯†ä½¿ç”¨ DES å¯¹æ•°æ®åº“çš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡ŒåŠ å¯†ã€‚DESæ˜¯ä¸€ç§å¯¹ç§°åŠ å¯†ç®—æ³•ã€‚æ­¥éª¤ï¼š DESå·¥å…·ç±» ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­å³jdbc.properties ä¸­çš„ç”¨æˆ·åå’Œå¯†ç  ç»§æ‰¿PropertyPlaceholderConfigurerï¼Œé‡å†™convertPropertyæ–¹æ³• é…ç½®è‡ªå®šä¹‰çš„EncryptPropertyPlaceholderConfigurer ä½¿ç”¨ MD5 åŠ å¯†ç®—æ³• å¯¹ç”¨æˆ·ä¿¡æ¯è¿›è¡ŒåŠ å¯†ã€‚ SpringMVC æ‹¦æˆªå™¨ å¯¹éæ³•è·¯å¾„è¿›è¡Œæ‹¦æˆªï¼Œç¡®ä¿ä¸€ä¸ªåº—å®¶åªèƒ½åœ¨ä¸€ä¸ªåº—é“ºä¸Šè¿›è¡Œå•†é“ºç¼–è¾‘ï¼Œå•†å“ç®¡ç†ç­‰ã€‚ ShopPermissionInterceptorç±»ï¼š package com.zzt.o2o.interceptor.shopadmin; import java.util.List; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import org.springframework.web.servlet.handler.HandlerInterceptorAdapter; import com.zzt.o2o.entity.Shop; /** * å•†å®¶ä¸èƒ½å»æ“çºµä¸å±äºå®ƒç®¡ç†çš„åº—é“º * @author zhan * */ public class ShopPermissionInterceptor extends HandlerInterceptorAdapter { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { Shop currentShop = (Shop) request.getSession().getAttribute( \"currentShop\"); @SuppressWarnings(\"unchecked\") //ä»sessionä¸­è·å–å½“å‰ç”¨æˆ·å¯æ“ä½œçš„åº—é“ºåˆ—è¡¨ List&lt;Shop> shopList = (List&lt;Shop>) request.getSession().getAttribute( \"shopList\"); if (currentShop != null &amp;&amp; shopList != null) { for (Shop shop : shopList) { //å¦‚æœå½“å‰åº—é“ºåœ¨å¯æ“ä½œçš„åˆ—è¡¨åˆ™è¿”å›trueï¼Œè¿›è¡Œæ¥ä¸‹æ¥çš„ç”¨æˆ·æ“ä½œ if (shop.getShopId() == currentShop.getShopId()) { return true; } } } //ä¸æ»¡è¶³è¿”å›false return false; } } å¦‚æœè·¯å¾„éæ³•ï¼ˆæ²¡æœ‰ç»è¿‡ç™»å½•ï¼‰ç›´æ¥è®¿é—®è·¯å¾„åï¼Œä¹Ÿå°†è·³åˆ°ç™»å½•ç•Œé¢ã€‚ ShopLoginInterceptorç±»ï¼š package com.zzt.o2o.interceptor.shopadmin; import java.io.PrintWriter; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import org.springframework.web.servlet.handler.HandlerInterceptorAdapter; import com.zzt.o2o.entity.PersonInfo; /** * åº—å®¶ç®¡ç†ç³»ç»Ÿç™»å½•éªŒè¯æ‹¦æˆªå™¨ * @author zhan * */ public class ShopLoginInterceptor extends HandlerInterceptorAdapter { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { Object userObj = request.getSession().getAttribute(\"user\"); if (userObj != null) { PersonInfo user = (PersonInfo) userObj; if (user != null &amp;&amp; user.getUserId() != null &amp;&amp; user.getUserId() > 0 &amp;&amp; user.getEnableStatus() == 1) return true; } //è‹¥ä¸æ»¡è¶³ç™»å½•éªŒè¯ï¼Œåˆ™ç›´æ¥è·³è½¬åˆ°è´¦å·ç™»å½•é¡µé¢ PrintWriter out = response.getWriter(); out.println(\"&lt;html>\"); out.println(\"&lt;script>\"); out.println(\"window.open ('\" + request.getContextPath()+ \"/local/login?usertype=2','_self')\"); out.println(\"&lt;/script>\"); out.println(\"&lt;/html>\"); return false; } }","categories":[{"name":"å°é¡¹ç›®","slug":"å°é¡¹ç›®","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/å°é¡¹ç›®/"}],"tags":[{"name":"O2O","slug":"O2O","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/O2O/"}]},{"title":"LeetCodeä¸­å¸¸è§çš„é“¾è¡¨é¢˜ç›®","slug":"é“¾è¡¨","date":"2019-04-28T07:45:28.000Z","updated":"2019-09-10T09:47:02.000Z","comments":true,"path":"2019/04/28/lian-biao/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/04/28/lian-biao/","excerpt":"","text":"å¼€å§‹å¯¹LeetCodeä¸­é“¾è¡¨ç›¸å…³é—®é¢˜è¿›è¡Œåˆ·é¢˜ğŸ¤” 206. Reverse Linked Listé¢˜ç›®æè¿°ï¼šåè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚ ç¤ºä¾‹: è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLè¾“å‡º: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL è§£é¢˜æ€è·¯ï¼š1 â†’ 2 â†’ 3 â†’ 4â†’ 5â†’ Ã˜ï¼Œæ”¹æˆ Ã˜ â† 1 â† 2 â† 3â†4â†5å®šä¹‰ä¸€ä¸ªå‰ç»“ç‚¹preå’Œå½“å‰ç»“ç‚¹curï¼Œåœ¨éå†åˆ—è¡¨æ—¶ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ next æŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘å‰é¢ä¸€ä¸ªå…ƒç´ ã€‚ /** * Definition for singly-linked list. * public class ListNode { * int val; * ListNode next; * ListNode(int x) { val = x; } * } */ class Solution { public ListNode reverseList(ListNode head) { ListNode pre = null; //å‰ä¸€ä¸ªèŠ‚ç‚¹ ListNode cur = head; while (cur != null) { ListNode nextNode = cur.next; cur.next = pre; //æŒ‡é’ˆæŒ‡å‘å‰ä¸€ä¸ªç»“ç‚¹ pre = cur; cur = nextNode; } return pre; } } 21. Merge Two Sorted Listsé¢˜ç›®æè¿°ï¼šåˆå¹¶ä¸¤ä¸ªå·²æ’åºçš„é“¾è¡¨ï¼Œå¹¶å°†å…¶ä½œä¸ºä¸€ä¸ªæ–°åˆ—è¡¨è¿”å›ã€‚æ–°åˆ—è¡¨åº”è¯¥é€šè¿‡å°†å‰ä¸¤ä¸ªåˆ—è¡¨çš„èŠ‚ç‚¹æ‹¼æ¥åœ¨ä¸€èµ·æ¥åˆ›å»ºã€‚ Input: 1-&gt;2-&gt;4, 1-&gt;3-&gt;4Output: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4 è§£é¢˜æ€è·¯ï¼šåˆ©ç”¨é€’å½’ï¼Œæ¯”è¾ƒä¸¤ä¸ªé“¾è¡¨ç¬¬ä¸€ä¸ªç»“ç‚¹çš„å¤§å°ï¼Œç¡®å®šå¤´ç»“ç‚¹çš„ä½ç½® ï¼Œå¤´ç»“ç‚¹ç¡®å®šåï¼Œç»§ç»­åœ¨å‰©ä¸‹çš„ç»“ç‚¹ä¸­é€‰å‡ºä¸‹ä¸€ä¸ªç»“ç‚¹å»é“¾æ¥åˆ°ç¬¬äºŒæ­¥é€‰å‡ºçš„ç»“ç‚¹åé¢ï¼Œç„¶ååœ¨ç»§ç»­é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æœ‰é“¾è¡¨ä¸ºç©ºã€‚ class Solution { public ListNode mergeTwoLists(ListNode l1, ListNode l2) { if (l1 == null) return l2; if (l2 == null) return l1; //å…ˆåˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªæ•°è°æ¯”è¾ƒå¤§ if(l1.val &lt; l2.val) { l1.next = mergeTwoLists(l1.next,l2); return l1; } else { l2.next = mergeTwoLists(l1,l2.next); return l2; } } } 83. Remove Duplicates from Sorted Listé¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªæ’åºé“¾è¡¨ï¼Œåˆ é™¤æ‰€æœ‰é‡å¤çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ã€‚ Example 1: Input: 1-&gt;1-&gt;2 Output: 1-&gt;2 Example 2: Input: 1-&gt;1-&gt;2-&gt;3-&gt;3 Output: 1-&gt;2-&gt;3è§£é¢˜æ€è·¯ï¼šå¯ä»¥ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶æŒ‡é’ˆnodeï¼Œéœ€è¦æ³¨æ„å¤´æŒ‡é’ˆâ€œheadâ€ä¸åº”è¯¥ç›´æ¥ç§»åŠ¨æˆ–æ›´æ–°ï¼Œå› ä¸ºå®ƒæŒ‡å‘åˆ—è¡¨çš„å¤´éƒ¨ï¼Œä½ éœ€è¦åœ¨æœ€åè¿”å›è¿™ä¸ªå¤´éƒ¨ã€‚æ‰€æœ‰æ“ä½œéƒ½åº”è¯¥ä½¿ç”¨â€œnodeâ€æ¥é˜²æ­¢ä¸¢å¤±å¤´éƒ¨ã€‚ class Solution { public ListNode deleteDuplicates(ListNode head) { if (head == null){ return null; } ListNode node = head; //ä½¿ç”¨ä¸´æ—¶æŒ‡é’ˆ while (node.next != null) { if (node.val == node.next.val) { node.next = node.next.next; }else{ node = node.next; } } return head; } } ä¹Ÿå¯ä»¥ä½¿ç”¨é€’å½’ï¼š class Solution { public ListNode deleteDuplicates(ListNode head) { if (head == null || head.next == null) { return head; } head.next = deleteDuplicates(head.next); return head.val == head.next.val ? head.next : head; } } 24. Swap Nodes in Pairsé¢˜ç›®æè¿°ï¼šå®šä¸€ä¸ªé“¾è¡¨ï¼Œäº¤æ¢æ¯ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹å¹¶è¿”å›å…¶å¤´éƒ¨ã€‚ ä¸èƒ½ä¿®æ”¹åˆ—è¡¨èŠ‚ç‚¹ä¸­çš„å€¼ï¼Œåªèƒ½æ›´æ”¹èŠ‚ç‚¹æœ¬èº«ã€‚ Given 1-&gt;2-&gt;3-&gt;4, you should return the list as 2-&gt;1-&gt;4-&gt;3.è§£é¢˜æ€è·¯ï¼šæœ¬é¢˜åŒæ ·å¯ä»¥ä½¿ç”¨é€’å½’æˆ–è€…æŒ‰ç…§è¿­ä»£ï¼Œä¸¤ç§æ–¹å¼è¿è¡Œé€Ÿåº¦å’Œå†…å­˜éƒ½å·®ä¸å¤šã€‚ è¿­ä»£ï¼š // 1->2->3->4 class Solution { public ListNode swapPairs(ListNode head) { ListNode node = new ListNode(0); node.next = head; ListNode temp = node; while (temp.next != null &amp;&amp; temp.next.next != null) { ListNode l1 = temp.next; ListNode l2 = temp.next.next; ListNode next = l2.next; temp.next = l2; l2.next = l1; l1.next = next; temp = l1; } return node.next; //headæ­¤æ—¶å·²è¢«æ”¹å˜ } } é€’å½’ï¼š class Solution { public ListNode swapPairs(ListNode head) { if (head == null || head.next == null) { return head; } ListNode second = head.next; ListNode third = second.next; second.next = head; head.next = swapPairs(third); return second; } } 19.Remove Nth Node From End of Listé¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚ Example: Given linked list: 1-&gt;2-&gt;3-&gt;4-&gt;5, and n = 2. After removing the second node from the end, the linked list becomes 1-&gt;2-&gt;3-&gt;5.è§£é¢˜æ€è·¯ï¼šé¢˜ç›®é‚£é‡Œæè¿°å¯å¦ç”¨ä¸€æ¬¡éå†å°±å®Œæˆï¼Œåˆšå¼€å§‹æˆ‘åªæƒ³åˆ°ç”¨ä¸¤æ¬¡éå†ï¼Œåæ¥å‘ç°è¿˜å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆå®ç°ä¸€æ¬¡éå†å°±è§£é¢˜ï¼š ä¸¤æ¬¡éå†ï¼šåˆ é™¤ä»åˆ—è¡¨å¼€å¤´æ•°èµ·çš„ç¬¬ (L - n + 1) ä¸ªç»“ç‚¹ï¼Œå…¶ä¸­ L æ˜¯åˆ—è¡¨çš„é•¿åº¦ã€‚ç¬¬ä¸€æ¬¡éå†ä¸­å…ˆç®—å‡ºé“¾è¡¨é•¿åº¦ï¼Œç¬¬äºŒæ¬¡éå†åˆ é™¤è¯¥æ•°ï¼Œæ³¨æ„æ·»åŠ ä¸€ä¸ªä¸´æ—¶ç»“ç‚¹ä½œä¸ºè¾…åŠ©ï¼Œè¯¥ç»“ç‚¹ä½äºåˆ—è¡¨å¤´éƒ¨ã€‚è¯¥ç»“ç‚¹ç”¨æ¥ç®€åŒ–æŸäº›æç«¯æƒ…å†µï¼Œä¾‹å¦‚åˆ—è¡¨ä¸­åªå«æœ‰ä¸€ä¸ªç»“ç‚¹ï¼Œæˆ–éœ€è¦åˆ é™¤åˆ—è¡¨çš„å¤´éƒ¨ã€‚ class Solution { public ListNode removeNthFromEnd(ListNode head, int n) { ListNode temp= new ListNode(0); //ä¸´æ—¶ç»“ç‚¹ temp.next = head; ListNode node = head; int length = 0; //é“¾è¡¨é•¿åº¦ while (node != null) { node = node.next; length++; } length -= n; node = temp; while (length > 0) { length--; node = node.next; } node.next = node.next.next; return temp.next; } } ä¸€æ¬¡éå†ï¼šä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œç¬¬ä¸€ä¸ªæŒ‡é’ˆfastå…ˆå¼€å§‹ç§»åŠ¨næ­¥ï¼Œç„¶åç¬¬äºŒä¸ªæŒ‡é’ˆslowä»å¤´å¼€å§‹ç§»åŠ¨ï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªæŒ‡é’ˆä¹Ÿä¸€èµ·ç§»åŠ¨ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿å¾—åœ¨ç§»åŠ¨è¿‡ç¨‹ä¸­ä¸¤ä¸ªæŒ‡é’ˆä¿æŒnæ­¥çš„è·ç¦»ï¼Œç›´åˆ°faståˆ°è¾¾æœ€åä¸€ä¸ªç»“ç‚¹ã€‚æ­¤æ—¶slowå°†æŒ‡å‘ä»æœ€åä¸€ä¸ªç»“ç‚¹æ•°èµ·çš„ç¬¬ n ä¸ªç»“ç‚¹ï¼Œæˆ‘ä»¬é‡æ–°é“¾æ¥slowæ‰€å¼•ç”¨çš„ç»“ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘è¯¥ç»“ç‚¹çš„ä¸‹ä¸‹ä¸ªç»“ç‚¹ã€‚ class Solution { public ListNode removeNthFromEnd(ListNode head, int n) { ListNode fast = head; while (n-- > 0) { fast = fast.next; } if (fast == null) return head.next; //é˜²æ­¢æç«¯æƒ…å†µ ListNode slow = head; while (fast.next != null) { fast = fast.next; slow = slow.next; } slow.next = slow.next.next; return head; } } 725. Split Linked List in Partsé¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªå¤´ç»“ç‚¹ä¸º root çš„é“¾è¡¨, ç¼–å†™ä¸€ä¸ªå‡½æ•°ä»¥å°†é“¾è¡¨åˆ†éš”ä¸º k ä¸ªè¿ç»­çš„éƒ¨åˆ†ã€‚æ¯éƒ¨åˆ†çš„é•¿åº¦åº”è¯¥å°½å¯èƒ½çš„ç›¸ç­‰: ä»»æ„ä¸¤éƒ¨åˆ†çš„é•¿åº¦å·®è·ä¸èƒ½è¶…è¿‡ 1ï¼Œä¹Ÿå°±æ˜¯è¯´å¯èƒ½æœ‰äº›éƒ¨åˆ†ä¸º nullã€‚è¿™kä¸ªéƒ¨åˆ†åº”è¯¥æŒ‰ç…§åœ¨é“¾è¡¨ä¸­å‡ºç°çš„é¡ºåºè¿›è¡Œè¾“å‡ºï¼Œå¹¶ä¸”æ’åœ¨å‰é¢çš„éƒ¨åˆ†çš„é•¿åº¦åº”è¯¥å¤§äºæˆ–ç­‰äºåé¢çš„é•¿åº¦ã€‚è¿”å›ä¸€ä¸ªç¬¦åˆä¸Šè¿°è§„åˆ™çš„é“¾è¡¨çš„åˆ—è¡¨ã€‚ä¸¾ä¾‹ï¼š 1-&gt;2-&gt;3-&gt;4, k = 5 // 5 ç»“æœ [ [1], [2], [3], [4], null ] ç¤ºä¾‹ 1ï¼š è¾“å…¥: root = [1, 2, 3], k = 5 è¾“å‡º: [[1],[2],[3],[],[]] è§£é‡Š: è¾“å…¥è¾“å‡ºå„éƒ¨åˆ†éƒ½åº”è¯¥æ˜¯é“¾è¡¨ï¼Œè€Œä¸æ˜¯æ•°ç»„ã€‚ ä¾‹å¦‚, è¾“å…¥çš„ç»“ç‚¹ root çš„ val= 1, root.next.val = 2, \\root.next.next.val = 3, ä¸” root.next.next.next = nullã€‚ ç¬¬ä¸€ä¸ªè¾“å‡º output[0] æ˜¯ output[0].val = 1, output[0].next = nullã€‚ æœ€åä¸€ä¸ªå…ƒç´  output[4] ä¸º null, å®ƒä»£è¡¨äº†æœ€åä¸€ä¸ªéƒ¨åˆ†ä¸ºç©ºé“¾è¡¨ã€‚ ç¤ºä¾‹ 2ï¼š è¾“å…¥: root = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], k = 3 è¾“å‡º: [[1, 2, 3, 4], [5, 6, 7], [8, 9, 10]] è§£é‡Š: è¾“å…¥è¢«åˆ†æˆäº†å‡ ä¸ªè¿ç»­çš„éƒ¨åˆ†ï¼Œå¹¶ä¸”æ¯éƒ¨åˆ†çš„é•¿åº¦ç›¸å·®ä¸è¶…è¿‡1.å‰é¢éƒ¨åˆ†çš„é•¿åº¦å¤§äºç­‰äºåé¢éƒ¨åˆ†çš„é•¿åº¦ã€‚è§£é¢˜æ€è·¯ï¼šé¦–å…ˆæ±‚å‡ºé“¾è¡¨é•¿åº¦ï¼Œç„¶åçœ‹é“¾è¡¨é•¿åº¦æ˜¯å¦å¹³å‡åˆ†é…ï¼Œå¯¹å…¶æ±‚ä½™æ•°å³å¯ï¼Œç„¶åç”¨æ•°ç»„æ¥ä¿å­˜æ¯ä¸€ä¸ªåˆ‡å‰²é‚£éƒ¨åˆ†ï¼Œæœ€ç»ˆå°†åˆ‡æ–­ä¸Šä¸€éƒ¨åˆ†çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹å’Œä¸‹ä¸€éƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„é“¾æ¥ã€‚ class Solution { public ListNode[] splitListToParts(ListNode root, int k) { ListNode node = root; int length = 0; //é“¾è¡¨é•¿åº¦ while (node != null) { length++; node = node.next; } node = root; int mod = length % k; //å“ªä¸€ä¸ªå¤šä½™ int size = length / k; //åˆ†æˆå‡ éƒ¨åˆ† ListNode result [] = new ListNode[k]; //ç”¨æ•°ç»„ä¿å­˜ for (int i = 0; node != null &amp;&amp; i &lt; k; i++) { result[i] = node; int cursize = size + (mod-- > 0 ? 1:0); for (int j = 0; j &lt; cursize - 1; j++) { node = node.next; } ListNode next = node.next; node.next = null; node = next; } return result; } } æ€»ç»“ï¼šåœ¨é“¾è¡¨ä¸­è¦ç†è§£æ¯ä¸ªèŠ‚ç‚¹å’Œæ¯ä¸ªèŠ‚ç‚¹æ˜¯ç›¸è¿çš„ï¼Œå¦‚ä½•æ¥æ±‚é“¾è¡¨é•¿åº¦ï¼Œæ—¶åˆ»è¦æ³¨æ„ä½¿ç”¨ä¸´æ—¶æŒ‡é’ˆæ¥ä»£æ›¿å¤´éƒ¨åˆ†æˆ–è€…å…¶ä»–éƒ¨åˆ†ï¼›ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼ˆä¸€ä¸ªå¿«æŒ‡é’ˆï¼Œä¸€ä¸ªæ…¢æŒ‡é’ˆï¼‰æ±‚é“¾è¡¨ä¸­çš„ä¸­é—´ç»“ç‚¹ï¼›åŒæ—¶ä¸­ä¹Ÿè¦çµæ´»è¿ç”¨é€’å½’å’Œè¿­ä»£ã€‚ å¯¹é“¾è¡¨åˆ·é¢˜å‘Šä¸€æ®µè½ï¼Œå¼€å§‹æ–°çš„tagåˆ·é¢˜ğŸ˜€","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/LeetCode/"}],"tags":[{"name":"é“¾è¡¨","slug":"é“¾è¡¨","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/é“¾è¡¨/"}]},{"title":"LeetCodeä¸­æ ˆå’Œé˜Ÿåˆ—ç›¸å…³é¢˜ç›®","slug":"æ ˆå’Œé˜Ÿåˆ—","date":"2019-04-15T08:28:52.000Z","updated":"2019-09-10T09:48:54.000Z","comments":true,"path":"2019/04/15/zhan-he-dui-lie/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/04/15/zhan-he-dui-lie/","excerpt":"","text":"æ ˆå’Œé˜Ÿåˆ—å¼€å§‹å¯¹æ•°æ®ç»“æ„ä¸­æ ˆå’Œé˜Ÿåˆ—ç›¸å…³é¢˜ç›®è¿›è¡Œåˆ·é¢˜~ 155. æœ€å°æ ˆé¢˜ç›®æè¿°ï¼šè®¾è®¡ä¸€ä¸ªæ”¯æŒ pushï¼Œpopï¼Œtop æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚ push(x) â€“ å°†å…ƒç´  x æ¨å…¥æ ˆä¸­ã€‚pop() â€“ åˆ é™¤æ ˆé¡¶çš„å…ƒç´ ã€‚top() â€“ è·å–æ ˆé¡¶å…ƒç´ ã€‚getMin() â€“ æ£€ç´¢æ ˆä¸­çš„æœ€å°å…ƒç´ ã€‚ è§£é¢˜æ€è·¯ï¼šæœ€å°å€¼æ ˆé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªå­˜æ”¾æ•°æ®ï¼Œä¸€ä¸ªå­˜æ”¾æœ€å°å€¼ï¼Œæ¯æ¬¡æ’å…¥æ•°æ®æ—¶ä¸¤ä¸ªæ ˆéƒ½è¦æ’å…¥ï¼Œåˆ é™¤æ—¶æ¯ä¸ªæ ˆä¹Ÿè¦åˆ é™¤ã€‚ è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªæ ˆçš„è§£å†³æ–¹æ¡ˆå€¼å¾—å‚è€ƒ class MinStack { private Stack&lt;Integer> dataStack; //å­˜æ”¾æ•°æ® private Stack&lt;Integer> minStack; //å­˜æœ€å°å€¼ int min; /** initialize your data structure here. */ public MinStack() { dataStack = new Stack&lt;>(); minStack = new Stack&lt;>(); min = Integer.MAX_VALUE; } public void push(int x) { dataStack.push(x); min = Math.min(min,x); minStack.push(min); } public void pop() { dataStack.pop(); minStack.pop(); min = minStack.isEmpty() ? Integer.MAX_VALUE : minStack.peek(); } public int top() { return dataStack.peek(); } public int getMin() { return minStack.peek(); } } /** * Your MinStack object will be instantiated and called as such: * MinStack obj = new MinStack(); * obj.push(x); * obj.pop(); * int param_3 = obj.top(); * int param_4 = obj.getMin(); */ 232. ç”¨æ ˆå®ç°é˜Ÿåˆ—é¢˜ç›®æè¿°ï¼šä½¿ç”¨æ ˆå®ç°é˜Ÿåˆ—çš„ä¸‹åˆ—æ“ä½œï¼š push(x) â€“ å°†ä¸€ä¸ªå…ƒç´ æ”¾å…¥é˜Ÿåˆ—çš„å°¾éƒ¨ã€‚pop() â€“ ä»é˜Ÿåˆ—é¦–éƒ¨ç§»é™¤å…ƒç´ ã€‚peek() â€“ è¿”å›é˜Ÿåˆ—é¦–éƒ¨çš„å…ƒç´ ã€‚empty() â€“ è¿”å›é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚ ç¤ºä¾‹ï¼šMyQueue queue = new MyQueue(); queue.push(1);queue.push(2);queue.peek(); // è¿”å› 1queue.pop(); // è¿”å› 1queue.empty(); // è¿”å› false è§£é¢˜æ€è·¯ï¼šæ ˆçš„ç‰¹ç‚¹æ˜¯åè¿›å…ˆå‡ºï¼Œè€Œé˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºï¼Œå› æ­¤ï¼Œå¯ä»¥è€ƒè™‘ç”¨ä¸¤ä¸ªæ ˆæ¥å®ç°ï¼Œè¿™æ ·å°±èƒ½è¾¾åˆ°å…ˆè¿›å…ˆå‡ºçš„æ•ˆæœã€‚stack1è¡¨ç¤ºå…¥æ ˆï¼Œstack2è¡¨ç¤ºå‡ºæ ˆã€‚ class MyQueue { private Stack&lt;Integer> stack1; //å…¥æ ˆ private Stack&lt;Integer> stack2; //å‡ºæ ˆ /** Initialize your data structure here. */ public MyQueue() { stack1 = new Stack&lt;>(); stack2 = new Stack&lt;>(); } /** Push element x to the back of queue. */ public void push(int x) { stack1.push(x); } /** Removes the element from in front of queue and returns that element. */ public int pop() { peek(); //æ‰§è¡Œä»£ç ç±»åŒpeek() æ•…ç”¨peekä»£æ›¿ return stack2.pop(); } /** Get the front element. */ public int peek() { if (stack2.isEmpty()){ while (!stack1.isEmpty()) { int temp = stack1.pop(); stack2.push(temp); } } return stack2.peek(); } /** Returns whether the queue is empty. */ public boolean empty() { return stack2.isEmpty() &amp;&amp; stack1.isEmpty(); } } /** * Your MyQueue object will be instantiated and called as such: * MyQueue obj = new MyQueue(); * obj.push(x); * int param_2 = obj.pop(); * int param_3 = obj.peek(); * boolean param_4 = obj.empty(); */ 225. ç”¨é˜Ÿåˆ—å®ç°æ ˆé¢˜ç›®æè¿°ï¼šä½¿ç”¨é˜Ÿåˆ—å®ç°æ ˆçš„ä¸‹åˆ—æ“ä½œï¼š push(x) â€“ å…ƒç´  x å…¥æ ˆpop() â€“ ç§»é™¤æ ˆé¡¶å…ƒç´ top() â€“ è·å–æ ˆé¡¶å…ƒç´ empty() â€“ è¿”å›æ ˆæ˜¯å¦ä¸ºç©º è§£é¢˜æ€è·¯ï¼šç”¨é˜Ÿåˆ—å®ç°æ ˆçš„è¯ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—å°±å¯ä»¥ï¼Œå› ä¸ºåœ¨ä¸€å¼€å§‹é˜Ÿåˆ—ä¸ºç©ºï¼Œéœ€è¦è¿›è¡Œpushæ“ä½œï¼Œæ‰€ä»¥å°† x æ’å…¥é˜Ÿåˆ—å°¾éƒ¨ä¹‹åï¼Œéœ€è¦è®©é™¤äº† x ä¹‹å¤–çš„æ‰€æœ‰å…ƒç´ å…ˆå‡ºé˜Ÿåˆ—ï¼Œå†å…¥é˜Ÿåˆ—ã€‚ class MyStack { private Queue&lt;Integer> queue; /** Initialize your data structure here. */ public MyStack() { queue = new LinkedList&lt;>(); } /** Push element x onto stack. */ public void push(int x) { queue.offer(x); int size = queue.size(); while(--size > 0) { queue.offer(queue.poll()); } } /** Removes the element on top of the stack and returns that element. */ public int pop() { return queue.poll(); } /** Get the top element. */ public int top() { return queue.peek(); } /** Returns whether the stack is empty. */ public boolean empty() { return queue.isEmpty(); } } /** * Your MyStack object will be instantiated and called as such: * MyStack obj = new MyStack(); * obj.push(x); * int param_2 = obj.pop(); * int param_3 = obj.top(); * boolean param_4 = obj.empty(); */ 20. æœ‰æ•ˆçš„æ‹¬å·é¢˜ç›®æè¿°ï¼š ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ â€˜(â€˜ï¼Œâ€™)â€™ï¼Œâ€™{â€˜ï¼Œâ€™}â€™ï¼Œâ€™[â€˜ï¼Œâ€™]â€™ çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚ æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚æ³¨æ„ç©ºå­—ç¬¦ä¸²å¯è¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: &quot;()&quot; è¾“å‡º: true ç¤ºä¾‹ 2: è¾“å…¥: &quot;()[]{}&quot; è¾“å‡º: true ç¤ºä¾‹ 3: è¾“å…¥: &quot;(]&quot; è¾“å‡º: false ç¤ºä¾‹ 4: è¾“å…¥: &quot;([)]&quot; è¾“å‡º: false ç¤ºä¾‹ 5: è¾“å…¥: &quot;{[]}&quot; è¾“å‡º: trueè§£é¢˜æ€è·¯ï¼š å…ˆåˆ¤æ–­å¼€å¤´ï¼Œç„¶åç”¨ä¸€ä¸ªæ ˆæ¥ä¿å­˜ç»“å°¾ï¼Œæ ¹æ®å…¶åè¿›å…ˆå‡ºå¾—ç‰¹ç‚¹ï¼Œç„¶åæ¯æ¬¡å†å¼¹å‡ºã€‚ class Solution { public boolean isValid(String s) { Stack&lt;Character> stack = new Stack&lt;>(); for (char c : s.toCharArray()){ if (c == '('){ stack.push(')'); } else if (c == '{') { stack.push('}'); } else if (c == '[') { stack.push(']'); } else if (stack.isEmpty() || stack.pop() != c) { return false; } } return stack.isEmpty(); } } å¯¹æ ˆå’Œé˜Ÿåˆ—çš„åˆ·é¢˜å‘Šä¸€æ®µè½ï¼Œå¼€å§‹ç»§ç»­æ–°çš„é˜¶æ®µåˆ·é¢˜ã€‚","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/LeetCode/"}],"tags":[{"name":"æ ˆå’Œé˜Ÿåˆ—","slug":"æ ˆå’Œé˜Ÿåˆ—","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/æ ˆå’Œé˜Ÿåˆ—/"}]},{"title":"LeetCodeä¸­å¸¸è§çš„å †æ’åº","slug":"æ’åº","date":"2019-04-07T01:25:08.000Z","updated":"2019-09-10T09:42:22.000Z","comments":true,"path":"2019/04/07/pai-xu/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/04/07/pai-xu/","excerpt":"","text":"å †æ’åºä»Šå¤©åœ¨åˆ·leetcode215é¢˜ï¼Œç¢°åˆ°æ±‚è§£ TopK Elementsé—®é¢˜ï¼Œä¸€å…±æœ‰ä¸‰ç§æ–¹æ³•ï¼Œæ€»ç»“ä¸€ä¸‹ï¼š é¢˜ç›®æè¿°ï¼šæ‰¾åˆ°æœªæ’åºæ•°ç»„ä¸­çš„ç¬¬kä¸ªæœ€å¤§å…ƒç´ ã€‚è¯·æ³¨æ„ï¼Œå®ƒæ˜¯æ’åºé¡ºåºä¸­çš„ç¬¬kä¸ªæœ€å¤§å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬kä¸ªä¸åŒå…ƒç´ ã€‚ Input: [3,2,1,5,6,4] and k = 2 Output: 5 Input: [3,2,3,1,2,4,5,5,6] and k = 4 Output: 4 è§£é¢˜æ–¹æ³•ï¼š1ã€å¯¹æ•´ä¸ªè¾“å…¥æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åé€šè¿‡å®ƒçš„ç´¢å¼•ï¼ˆå³Oï¼ˆ1ï¼‰ï¼‰æ“ä½œè®¿é—®è¯¥å…ƒç´ ï¼š â€‹ æ—¶é—´å¤æ‚åº¦ O(NlogN)ï¼Œç©ºé—´å¤æ‚åº¦ O(1)ã€‚ public int findKthLargest(int[] nums, int k) { final int N = nums.length; Arrays.sort(nums); return nums[N - k]; } 2ã€å †æ’åºä¹Ÿå¯ä»¥ç”¨äºæ±‚è§£ Kth Element é—®é¢˜ï¼Œå †é¡¶å…ƒç´ å°±æ˜¯ Kth Elementã€‚ä½¿ç”¨é¢å‘æœ€å°å€¼çš„ä¼˜å…ˆçº§é˜Ÿåˆ—æ¥å­˜å‚¨ç¬¬Kä¸ªæœ€å¤§å€¼ã€‚è¯¥ç®—æ³•è¿­ä»£æ•´ä¸ªè¾“å…¥å¹¶ç»´æŒä¼˜å…ˆçº§é˜Ÿåˆ—çš„å¤§å°ã€‚ä¼˜å…ˆé˜Ÿåˆ—å¯ä»¥ç”¨å †æ¥å®ç°ï¼š æ—¶é—´å¤æ‚åº¦ O(NlogK)ï¼Œç©ºé—´å¤æ‚åº¦ O(K)ã€‚ public int findKthLargest(int[] nums, int k) { PriorityQueue&lt;Integer> pq = new PriorityQueue&lt;>(); // å°é¡¶å † for (int val : nums) { pq.add(val); if (pq.size() > k) // ç»´æŠ¤å †çš„å¤§å°ä¸º K pq.poll(); } return pq.peek(); } 3ã€åŸºäºåˆ‡åˆ†partionçš„å¿«é€Ÿé€‰æ‹©ç®—æ³•ï¼›å¿«é€Ÿæ’åºçš„ partition() æ–¹æ³•ï¼Œä¼šè¿”å›ä¸€ä¸ªæ•´æ•° j ä½¿å¾— a[l..j-1] å°äºç­‰äº a[j]ï¼Œä¸” a[j+1..h] å¤§äºç­‰äº a[j]ï¼Œæ­¤æ—¶ a[j] å°±æ˜¯æ•°ç»„çš„ç¬¬ j å¤§å…ƒç´ ã€‚å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ‰¾å‡ºæ•°ç»„çš„ç¬¬ k ä¸ªå…ƒç´ ã€‚ æ—¶é—´å¤æ‚åº¦ æœ€ä½³æƒ…å†µï¼šO(N) æœ€åæƒ…å†µï¼šOï¼ˆN ^ 2ï¼‰ï¼Œç©ºé—´å¤æ‚åº¦ O(1) æˆ‘ä»¬å¦‚ä½•æ‰èƒ½æ”¹è¿›ä¸Šè¿°è§£å†³æ–¹æ¡ˆå¹¶ä½¿å…¶ä¿è¯Oï¼ˆNï¼‰ï¼Ÿç­”æ¡ˆéå¸¸ç®€å•ï¼Œåˆšå¼€å§‹æ—¶è¦å¯¹æ•°ç»„è¿›è¡Œæ´—ç‰Œshuffleï¼Œä½¿å…¶éšæœºåŒ–è¾“å…¥ï¼Œè¿™æ ·å³ä½¿æä¾›æœ€åæƒ…å†µè¾“å…¥ï¼Œç®—æ³•ä¹Ÿä¸ä¼šå—åˆ°å½±å“ã€‚å› æ­¤ï¼Œæ‰€éœ€è¦åšçš„å°±æ˜¯æ”¹å˜è¾“å…¥ã€‚ public int findKthLargest(int[] nums, int k) { shuffle(nums);//æ‰“ä¹±æ•°ç»„ k = nums.length - k; int lo = 0; int hi = nums.length - 1; while (lo &lt; hi) { final int j = partition(nums, lo, hi); if(j &lt; k) { lo = j + 1; } else if (j > k) { hi = j - 1; } else { break; } } return nums[k]; } //åˆ‡åˆ† private int partition(int[] a, int lo, int hi) { int i = lo; int j = hi + 1; while(true) { while(i &lt; hi &amp;&amp; less(a[++i], a[lo])); while(j > lo &amp;&amp; less(a[lo], a[--j])); if(i >= j) { break; } exch(a, i, j); } exch(a, lo, j); return j; } //äº¤æ¢ private void exch(int[] a, int i, int j) { final int tmp = a[i]; a[i] = a[j]; a[j] = tmp; } //æ¯”è¾ƒæ˜¯å¦å°äº private boolean less(int v, int w) { return v &lt; w; } private void shuffle(int a[]) { final Random random = new Random(); for(int ind = 1; ind &lt; a.length; ind++) { final int r = random.nextInt(ind + 1); exch(a, ind, r); } } æ¡¶æ’åºLeetcode : 347. Top K Frequent Elements (Medium) æ‰¾å‡ºå‡ºç°é¢‘ç‡æœ€å¤šçš„ k ä¸ªæ•° é¢˜ç›®æè¿°ï¼šç»™å®šéç©ºçš„æ•´æ•°æ•°ç»„ï¼Œè¿”å›kä¸ªæœ€å¸¸è§çš„å…ƒç´ ã€‚ Input: nums = [1,1,1,2,2,3], k = 2 Output: [1,2] Input: nums = [1], k = 1 Output: [1]è§£å†³æ–¹æ³•ï¼šè®¾ç½®è‹¥å¹²ä¸ªæ¡¶ï¼Œæ¯ä¸ªæ¡¶å­˜å‚¨å‡ºç°é¢‘ç‡ç›¸åŒçš„æ•°ï¼Œå¹¶ä¸”æ¡¶çš„ä¸‹æ ‡ä»£è¡¨æ¡¶ä¸­æ•°å‡ºç°çš„é¢‘ç‡ã€‚ class Solution { public List&lt;Integer> topKFrequent(int[] nums, int k) { Map&lt;Integer,Integer> map = new HashMap&lt;>(); for(int a : nums){ map.put(a,map.getOrDefault(a,0)+1);//åˆ¤æ–­aæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ²¡å‡ºç° } List&lt;Integer> [] buckets = new ArrayList[nums.length + 1]; for(int i : map.keySet()){ int frequency = map.get(i); if(buckets[frequency]==null){ buckets[frequency] = new ArrayList&lt;>(); } buckets[frequency].add(i); } List&lt;Integer> topK = new ArrayList&lt;>(); //ä»åå‘å‰éå†æ¡¶ï¼Œæœ€å…ˆå¾—åˆ°çš„ k ä¸ªæ•°å°±æ˜¯å‡ºç°é¢‘ç‡æœ€å¤šçš„çš„ k ä¸ªæ•° for(int i = buckets.length - 1; i >= 0 &amp;&amp; topK.size() &lt; k;i--){ if(buckets[i]!=null){ topK.addAll(buckets[i]); } } return topK; } } è·å…°å›½æ——é—®é¢˜ï¼š75. Sort Colors (Medium) é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªå…·æœ‰çº¢è‰²ï¼Œç™½è‰²æˆ–è“è‰²çš„nä¸ªå¯¹è±¡çš„æ•°ç»„ï¼Œå¯¹å®ƒä»¬è¿›è¡Œå°±åœ° æ’åºï¼Œä½¿ç›¸åŒé¢œè‰²çš„å¯¹è±¡ç›¸é‚»ï¼Œé¢œè‰²é¡ºåºä¸ºçº¢è‰²ï¼Œç™½è‰²å’Œè“è‰²ã€‚ è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ•´æ•°0,1å’Œ2åˆ†åˆ«è¡¨ç¤ºçº¢è‰²ï¼Œç™½è‰²å’Œè“è‰²ã€‚ æ³¨æ„ï¼š æ‚¨ä¸åº”è¯¥ä½¿ç”¨åº“çš„æ’åºåŠŸèƒ½æ¥è§£å†³æ­¤é—®é¢˜ã€‚ Input: [2,0,2,1,1,0] Output: [0,0,1,1,2,2]è§£å†³æ–¹æ³•ï¼šä½¿ç”¨ä¸‰å‘åˆ‡åˆ†å¿«é€Ÿæ’åºï¼Œå°†æ•°ç»„åˆ†æˆä¸‰ä¸ªåŒºé—´ï¼šç­‰äºçº¢è‰²ã€ç­‰äºç™½è‰²ã€ç­‰äºè“è‰²ã€‚ class Solution { public void sortColors(int[] nums) { int zero = 0; int two = nums.length - 1; int one = 0; while(one &lt;= two){ if (nums[one] == 0){ swap(nums,zero++,one++);//ä»å‰é¢å¼€å§‹äº¤æ¢çš„å·²ç»æ¯”è¾ƒè¿‡äº† }else if (nums[one] == 2){ swap(nums,two--,one);//è¿™é‡Œæ³¨æ„oneä¸è¦++ï¼Œä»åé¢äº¤æ¢åˆ°å‰é¢çš„è¿˜æ— æ³•æ¯”è¾ƒ }else { one++; } } } private static void swap(int [] nums,int a,int b){ int i = nums[a]; nums[a] = nums[b]; nums[b] = i; } }","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/LeetCode/"}],"tags":[{"name":"Sort","slug":"Sort","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/Sort/"}]},{"title":"LeetCodeä¸­å¸¸è§çš„è´ªå¿ƒé¢˜ç›®","slug":"è´ªå¿ƒç®—æ³•","date":"2019-04-01T10:45:28.000Z","updated":"2019-09-10T09:45:04.000Z","comments":true,"path":"2019/04/01/tan-xin-suan-fa/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/04/01/tan-xin-suan-fa/","excerpt":"","text":"è´ªå¿ƒç®—æ³•ï¼šå®šä¹‰ï¼šè´ªå¿ƒç®—æ³•ï¼ˆåˆç§°è´ªå©ªç®—æ³•ï¼‰æ˜¯æŒ‡ï¼Œåœ¨å¯¹é—®é¢˜æ±‚è§£æ—¶ï¼Œæ€»æ˜¯åšå‡ºåœ¨å½“å‰çœ‹æ¥æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä»æ•´ä½“æœ€ä¼˜ä¸ŠåŠ ä»¥è€ƒè™‘ï¼Œä»–æ‰€åšå‡ºçš„æ˜¯åœ¨æŸç§æ„ä¹‰ä¸Šçš„å±€éƒ¨æœ€ä¼˜è§£ã€‚ è´ªå¿ƒç®—æ³•ä¸æ˜¯å¯¹æ‰€æœ‰é—®é¢˜éƒ½èƒ½å¾—åˆ°æ•´ä½“æœ€ä¼˜è§£ï¼Œå…³é”®æ˜¯è´ªå¿ƒç­–ç•¥çš„é€‰æ‹©ï¼Œé€‰æ‹©çš„è´ªå¿ƒç­–ç•¥å¿…é¡»å…·å¤‡æ— åæ•ˆæ€§ï¼Œå³æŸä¸ªçŠ¶æ€ä»¥å‰çš„è¿‡ç¨‹ä¸ä¼šå½±å“ä»¥åçš„çŠ¶æ€ï¼Œåªä¸å½“å‰çŠ¶æ€æœ‰å…³ã€‚ è´ªå¿ƒç­–ç•¥é€‚ç”¨çš„å‰ææ˜¯ï¼šå±€éƒ¨æœ€ä¼˜ç­–ç•¥èƒ½å¯¼è‡´äº§ç”Ÿå…¨å±€æœ€ä¼˜è§£ã€‚ 455. Assign Cookiesé¢˜ç›®æè¿°ï¼šå‡è®¾ä½ æ˜¯ä¸€ä½å¾ˆæ£’çš„å®¶é•¿ï¼Œæƒ³è¦ç»™ä½ çš„å­©å­ä»¬ä¸€äº›å°é¥¼å¹²ã€‚ä½†æ˜¯ï¼Œæ¯ä¸ªå­©å­æœ€å¤šåªèƒ½ç»™ä¸€å—é¥¼å¹²ã€‚å¯¹æ¯ä¸ªå­©å­ i ï¼Œéƒ½æœ‰ä¸€ä¸ªèƒƒå£å€¼ gi ï¼Œè¿™æ˜¯èƒ½è®©å­©å­ä»¬æ»¡è¶³èƒƒå£çš„é¥¼å¹²çš„æœ€å°å°ºå¯¸ï¼›å¹¶ä¸”æ¯å—é¥¼å¹² j ï¼Œéƒ½æœ‰ä¸€ä¸ªå°ºå¯¸ sj ã€‚å¦‚æœ sj &gt;= gi ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªé¥¼å¹² j åˆ†é…ç»™å­©å­ i ï¼Œè¿™ä¸ªå­©å­ä¼šå¾—åˆ°æ»¡è¶³ã€‚ä½ çš„ç›®æ ‡æ˜¯å°½å¯èƒ½æ»¡è¶³è¶Šå¤šæ•°é‡çš„å­©å­ï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæœ€å¤§æ•°å€¼ã€‚ æ³¨æ„ï¼šä½ å¯ä»¥å‡è®¾èƒƒå£å€¼ä¸ºæ­£ã€‚ä¸€ä¸ªå°æœ‹å‹æœ€å¤šåªèƒ½æ‹¥æœ‰ä¸€å—é¥¼å¹²ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [1,2,3], [1,1] è¾“å‡º: 1 è§£é‡Š: ä½ æœ‰ä¸‰ä¸ªå­©å­å’Œä¸¤å—å°é¥¼å¹²ï¼Œ3ä¸ªå­©å­çš„èƒƒå£å€¼åˆ†åˆ«æ˜¯ï¼š1,2,3ã€‚ è™½ç„¶ä½ æœ‰ä¸¤å—å°é¥¼å¹²ï¼Œç”±äºä»–ä»¬çš„å°ºå¯¸éƒ½æ˜¯1ï¼Œä½ åªèƒ½è®©èƒƒå£å€¼æ˜¯1çš„å­©å­æ»¡è¶³ã€‚ æ‰€ä»¥ä½ åº”è¯¥è¾“å‡º1ã€‚ ç¤ºä¾‹ 2: è¾“å…¥: [1,2], [1,2,3] è¾“å‡º: 2 è§£é‡Š: ä½ æœ‰ä¸¤ä¸ªå­©å­å’Œä¸‰å—å°é¥¼å¹²ï¼Œ2ä¸ªå­©å­çš„èƒƒå£å€¼åˆ†åˆ«æ˜¯1,2ã€‚ ä½ æ‹¥æœ‰çš„é¥¼å¹²æ•°é‡å’Œå°ºå¯¸éƒ½è¶³ä»¥è®©æ‰€æœ‰å­©å­æ»¡è¶³ã€‚ æ‰€ä»¥ä½ åº”è¯¥è¾“å‡º2.è§£é¢˜æ€è·¯ï¼šè´ªå¿ƒå°±æ˜¯ç»™ä¸€ä¸ªå­©å­çš„é¥¼å¹²åº”å½“å°½é‡å°åˆèƒ½æ»¡è¶³è¯¥å­©å­ï¼Œè¿™æ ·å¤§é¥¼å¹²å°±èƒ½æ‹¿æ¥ç»™æ»¡è¶³åº¦æ¯”è¾ƒå¤§çš„å­©å­ã€‚å› ä¸ºæœ€å°çš„å­©å­æœ€å®¹æ˜“å¾—åˆ°æ»¡è¶³ï¼Œæ‰€ä»¥å…ˆæ»¡è¶³æœ€å°çš„å­©å­ã€‚é€šè¿‡ä½¿ç”¨è¿™ç§è´ªå©ªçš„æ–¹æ³•ï¼Œæµªè´¹çš„cookieçš„æ€»å’Œå°†æ˜¯æœ€å°çš„ã€‚å› æ­¤è¦å¯¹ä¸¤ä¸ªæ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒå³å¯ã€‚ //[1,2], [1,2,3] class Solution { public int findContentChildren(int[] g, int[] s) { Arrays.sort(g); Arrays.sort(s); int gi = 0, si = 0; while (si &lt; s.length &amp;&amp; gi &lt; g.length) { if (g[gi] &lt;= s[si]) { gi++; } si++; } return gi; } } 435. Non-overlapping Intervalsé¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªåŒºé—´çš„é›†åˆï¼Œæ‰¾åˆ°éœ€è¦ç§»é™¤åŒºé—´çš„æœ€å°æ•°é‡ï¼Œä½¿å‰©ä½™åŒºé—´äº’ä¸é‡å ã€‚ æ³¨æ„: å¯ä»¥è®¤ä¸ºåŒºé—´çš„ç»ˆç‚¹æ€»æ˜¯å¤§äºå®ƒçš„èµ·ç‚¹ã€‚åŒºé—´ [1,2] å’Œ [2,3] çš„è¾¹ç•Œç›¸äº’â€œæ¥è§¦â€ï¼Œä½†æ²¡æœ‰ç›¸äº’é‡å ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [ [1,2], [2,3], [3,4], [1,3] ] è¾“å‡º: 1 è§£é‡Š: ç§»é™¤ [1,3] åï¼Œå‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚ ç¤ºä¾‹ 2: è¾“å…¥: [ [1,2], [1,2], [1,2] ] è¾“å‡º: 2 è§£é‡Š: ä½ éœ€è¦ç§»é™¤ä¸¤ä¸ª [1,2] æ¥ä½¿å‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚ ç¤ºä¾‹ 3: è¾“å…¥: [ [1,2], [2,3] ] è¾“å‡º: 0 è§£é‡Š: ä½ ä¸éœ€è¦ç§»é™¤ä»»ä½•åŒºé—´ï¼Œå› ä¸ºå®ƒä»¬å·²ç»æ˜¯æ— é‡å çš„äº†ã€‚è§£é¢˜æ€è·¯ï¼šç»å…¸çš„è´ªå©ªé—®é¢˜ï¼šé—´éš”è°ƒåº¦ï¼Œä¸‹é¢é‚£ä¸€é¢˜LeetCode452ä¹Ÿæ˜¯åŒæ ·æ€è·¯ å…ˆè®¡ç®—æœ€å¤šèƒ½ç»„æˆçš„ä¸é‡å åŒºé—´ä¸ªæ•°ï¼Œç„¶åç”¨åŒºé—´æ€»ä¸ªæ•°å‡å»ä¸é‡å åŒºé—´çš„ä¸ªæ•°ã€‚ åœ¨æ¯æ¬¡é€‰æ‹©ä¸­ï¼Œé€‰æ‹©çš„åŒºé—´ç»“å°¾è¶Šå°ï¼Œç•™ç»™åé¢çš„åŒºé—´çš„ç©ºé—´è¶Šå¤§ï¼Œé‚£ä¹ˆåé¢èƒ½å¤Ÿé€‰æ‹©çš„åŒºé—´ä¸ªæ•°ä¹Ÿå°±è¶Šå¤§ã€‚ æŒ‰åŒºé—´çš„ç»“å°¾è¿›è¡Œå‡åºæ’åºï¼Œæ¯æ¬¡é€‰æ‹©ç»“å°¾æœ€å°ï¼Œå¹¶ä¸”å’Œå‰ä¸€ä¸ªåŒºé—´ä¸é‡å çš„åŒºé—´ã€‚ åœ¨å¯¹æ•°ç»„è¿›è¡Œæ’åºçš„æ—¶å€™ä¹Ÿå¯ä»¥ä½¿ç”¨ lambda è¡¨ç¤ºå¼æ¥åˆ›å»º Comparator ï¼Œä¸è¿‡ç®—æ³•è¿è¡Œæ—¶é—´ä¼šæ¯”è¾ƒé•¿ç‚¹ã€‚ class Solution { public int eraseOverlapIntervals(int[][] intervals) { if (intervals.length == 0) { return 0; } Arrays.sort(intervals,new Comparator&lt;int [] >(){ public int compare(int [] a1,int [] a2) { return a1[1] - a2[1]; //å‡åºæ’åˆ— } }); int count = 1; //æœ€å¤šèƒ½ç»„æˆçš„ä¸é‡å åŒºé—´ä¸ªæ•° int end = intervals[0][1]; for (int i = 0; i &lt; intervals.length; i++) { if (intervals[i][0] &lt; end) { continue; } end = intervals[i][1]; count++; } return intervals.length - count; } } 452. Minimum Number of Arrows to Burst Ballooné¢˜ç›®æè¿°ï¼šåœ¨äºŒç»´ç©ºé—´ä¸­æœ‰è®¸å¤šçƒå½¢çš„æ°”çƒã€‚å¯¹äºæ¯ä¸ªæ°”çƒï¼Œæä¾›çš„è¾“å…¥æ˜¯æ°´å¹³æ–¹å‘ä¸Šï¼Œæ°”çƒç›´å¾„çš„å¼€å§‹å’Œç»“æŸåæ ‡ã€‚ç”±äºå®ƒæ˜¯æ°´å¹³çš„ï¼Œæ‰€ä»¥yåæ ‡å¹¶ä¸é‡è¦ï¼Œå› æ­¤åªè¦çŸ¥é“å¼€å§‹å’Œç»“æŸçš„xåæ ‡å°±è¶³å¤Ÿäº†ã€‚å¼€å§‹åæ ‡æ€»æ˜¯å°äºç»“æŸåæ ‡ã€‚å¹³é¢å†…æœ€å¤šå­˜åœ¨104ä¸ªæ°”çƒã€‚ ä¸€æ”¯å¼“ç®­å¯ä»¥æ²¿ç€xè½´ä»ä¸åŒç‚¹å®Œå…¨å‚ç›´åœ°å°„å‡ºã€‚åœ¨åæ ‡xå¤„å°„å‡ºä¸€æ”¯ç®­ï¼Œè‹¥æœ‰ä¸€ä¸ªæ°”çƒçš„ç›´å¾„çš„å¼€å§‹å’Œç»“æŸåæ ‡ä¸º xstartï¼Œxendï¼Œ ä¸”æ»¡è¶³ xstart â‰¤ x â‰¤ xendï¼Œåˆ™è¯¥æ°”çƒä¼šè¢«å¼•çˆ†ã€‚å¯ä»¥å°„å‡ºçš„å¼“ç®­çš„æ•°é‡æ²¡æœ‰é™åˆ¶ã€‚ å¼“ç®­ä¸€æ—¦è¢«å°„å‡ºä¹‹åï¼Œå¯ä»¥æ— é™åœ°å‰è¿›ã€‚æˆ‘ä»¬æƒ³æ‰¾åˆ°ä½¿å¾—æ‰€æœ‰æ°”çƒå…¨éƒ¨è¢«å¼•çˆ†ï¼Œæ‰€éœ€çš„å¼“ç®­çš„æœ€å°æ•°é‡ã€‚ è¾“å…¥: [[10,16], [2,8], [1,6], [7,12]] è¾“å‡º: 2 è§£é‡Š: å¯¹äºè¯¥æ ·ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨x = 6ï¼ˆå°„çˆ†[2,8],[1,6]ä¸¤ä¸ªæ°”çƒï¼‰å’Œ x = 11ï¼ˆå°„çˆ†å¦å¤–ä¸¤ä¸ªæ°”çƒï¼‰ã€‚è§£é¢˜æ€è·¯ï¼šæœ¬é¢˜è·Ÿä¸Šä¸€é¢˜å‡ ä¹ä¸€æ ·çš„å®ç°æ–¹æ³•ï¼Œè¯´ç™½äº†å°±æ˜¯è®¡ç®—ä¸é‡å çš„åŒºé—´ä¸ªæ•°ï¼Œå¹¶ä¸”æŒ‰ç»“æŸåæ ‡å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åéå†åˆ¤æ–­ä¸è¿‡è¿™é‡Œæ³¨æ„[1, 2] å’Œ [2, 3] åœ¨æœ¬é¢˜ä¸­ç®—æ˜¯é‡å åŒºé—´ã€‚åœ¨è¿™é‡Œæˆ‘å¯¹æ•°ç»„è¿›è¡Œæ’åºæ—¶ç”¨lambdaè¡¨è¾¾å¼ï¼Œç›¸å¯¹å®ç°Comparatoræ¥å£è¾ƒæ…¢ã€‚ä»£ç å¦‚ä¸‹ï¼š class Solution { public int findMinArrowShots(int[][] points) { if (points.length == 0) { return 0; } Arrays.sort(points,(i1,i2) -> (i1[1] - i2[1])); //ä½¿ç”¨Lambdaè¡¨è¾¾å¼æ’åºï¼ŒæŒ‰ int count = 1; int end = points[0][1]; for (int i = 0; i &lt; points.length; i++) { if (points[i][0] &lt;= end) { //æ³¨æ„è¿™é‡Œæ˜¯&lt;= continue; //å±äºé‡å¤åŒºé—´ï¼Œè·³è¿‡ï¼Œä¸ç”¨å¢åŠ countæ¬¡æ•° } end = points[i][1]; count++; } return count; } } 605. Can Place Flowersé¢˜ç›®æè¿°ï¼šå‡è®¾ä½ æœ‰ä¸€ä¸ªå¾ˆé•¿çš„èŠ±å›ï¼Œä¸€éƒ¨åˆ†åœ°å—ç§æ¤äº†èŠ±ï¼Œå¦ä¸€éƒ¨åˆ†å´æ²¡æœ‰ã€‚å¯æ˜¯ï¼ŒèŠ±å‰ä¸èƒ½ç§æ¤åœ¨ç›¸é‚»çš„åœ°å—ä¸Šï¼Œå®ƒä»¬ä¼šäº‰å¤ºæ°´æºï¼Œä¸¤è€…éƒ½ä¼šæ­»å»ã€‚ ç»™å®šä¸€ä¸ªèŠ±å›ï¼ˆè¡¨ç¤ºä¸ºä¸€ä¸ªæ•°ç»„åŒ…å«0å’Œ1ï¼Œå…¶ä¸­0è¡¨ç¤ºæ²¡ç§æ¤èŠ±ï¼Œ1è¡¨ç¤ºç§æ¤äº†èŠ±ï¼‰ï¼Œå’Œä¸€ä¸ªæ•° n ã€‚èƒ½å¦åœ¨ä¸æ‰“ç ´ç§æ¤è§„åˆ™çš„æƒ…å†µä¸‹ç§å…¥ n æœµèŠ±ï¼Ÿèƒ½åˆ™è¿”å›Trueï¼Œä¸èƒ½åˆ™è¿”å›Falseã€‚ è§£é¢˜æ€è·¯ï¼šè´ªå©ªåœ°åœ¨ä»å·¦åˆ°å³éå†ï¼Œåœ¨é‡åˆ°çš„æ¯ä¸ªç©ºåœ°ä¸Šæ”¾ä¸€æœµèŠ±ã€‚è·å–ä¸Šä¸€ä¸ªå’Œä¸‹ä¸€ä¸ªèŠ±å›ï¼Œå¦‚æœiä½äºé¦–ä½æˆ–è€…æœ«ç«¯ï¼Œåˆ™å‰ä¸€ä¸ªæˆ–è€…ä¸‹ä¸€ä¸ªè¢«è®¤ä¸ºæ˜¯0ã€‚ class Solution { public boolean canPlaceFlowers(int[] flowerbed, int n) { int length = flowerbed.length; int count = 0; for(int i = 0; i &lt; length &amp;&amp; count &lt; n; i++) { if (flowerbed[i] == 0) { int pre = (i == 0)? 0 : flowerbed[i-1]; //ä¸Šä¸€ä¸ªèŠ±å› int next = (i == length - 1)? 0 : flowerbed[i+1]; //ä¸‹ä¸€ä¸ªèŠ±å› if(pre == 0 &amp;&amp; next == 0) { count++; flowerbed[i] = 1; } } } return count == n; } } 121. Best Time to Buy and Sell Stocké¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚ å¦‚æœä½ æœ€å¤šåªå…è®¸å®Œæˆä¸€ç¬”äº¤æ˜“ï¼ˆå³ä¹°å…¥å’Œå–å‡ºä¸€æ”¯è‚¡ç¥¨ï¼‰ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ æ³¨æ„ä½ ä¸èƒ½åœ¨ä¹°å…¥è‚¡ç¥¨å‰å–å‡ºè‚¡ç¥¨ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [7,1,5,3,6,4] è¾“å‡º: 5 è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚ æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ã€‚ ç¤ºä¾‹ 2: è¾“å…¥: [7,6,4,3,1] è¾“å‡º: 0 è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚è§£é¢˜æ€è·¯ï¼šä»å¤´éå†æ•°ç»„ï¼Œæ¯”è¾ƒä¸¤ä¸ªæ•°ä¹‹ä¸­è°æ¯”è¾ƒå¤§ï¼Œè¿™é‡Œæ³¨æ„å–å‡ºä»·æ ¼è¦å¤§äºä¹°å…¥ä»·æ ¼ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå€¼æ¯”ç¬¬äºŒä¸ªå€¼å¤§ï¼Œç”±äºè´ªå¿ƒç­–ç•¥ï¼Œè¦æ±‚æœ€å¤§æ”¶ç›Šï¼Œå› æ­¤æŠŠæœ€å°ä»·æ ¼èµ‹å€¼ç»™ç¬¬äºŒä¸ªï¼Œå¦‚æœç¬¬ä¸€ä¸ªå€¼æ¯”ç¬¬äºŒä¸ªå°ï¼Œåˆ™å°†å½“å‰ä»·æ ¼ å³ å”®å‡ºä»·æ ¼å‡å»æœ€å°ä»·æ ¼ï¼Œåˆ™ä¸ºæœ€å¤§åˆ©ç›Šï¼Œéå†å®Œå³å¯ã€‚ class Solution { public int maxProfit(int[] prices) { if (prices.length &lt;= 1) { return 0; } int temp = prices[0]; //æœ€å°ä»·æ ¼ int max = 0; //æœ€å¤§æ”¶ç›Š for (int i = 1; i &lt; prices.length; i++){ if (temp > prices[i]) { temp = prices[i]; } else { max = Math.max(max,prices[i] - temp); } } return max; } } 665. Non-decreasing Arrayé¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ï¼Œä½ çš„ä»»åŠ¡æ˜¯åˆ¤æ–­åœ¨æœ€å¤šæ”¹å˜ 1 ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ï¼Œè¯¥æ•°ç»„èƒ½å¦å˜æˆä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚ æˆ‘ä»¬æ˜¯è¿™æ ·å®šä¹‰ä¸€ä¸ªéé€’å‡æ•°åˆ—çš„ï¼š å¯¹äºæ•°ç»„ä¸­æ‰€æœ‰çš„ i (1 &lt;= i &lt; n)ï¼Œæ»¡è¶³ array[i] &lt;= array[i + 1]ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [4,2,3] è¾“å‡º: True è§£é‡Š: ä½ å¯ä»¥é€šè¿‡æŠŠç¬¬ä¸€ä¸ª4å˜æˆ1æ¥ä½¿å¾—å®ƒæˆä¸ºä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚ ç¤ºä¾‹ 2: è¾“å…¥: [4,2,1] è¾“å‡º: False è§£é‡Š: ä½ ä¸èƒ½åœ¨åªæ”¹å˜ä¸€ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹å°†å…¶å˜ä¸ºéé€’å‡æ•°åˆ—ã€‚ è¯´æ˜: n çš„èŒƒå›´ä¸º [1, 10,000]ã€‚è§£é¢˜æ€è·¯ï¼šå¦‚æœæˆ‘ä»¬é‡åˆ°ä¸€ä¸ªå¤±è´¥çš„æƒ…å†µï¼Œå³ä¸æ˜¯éé€’å‡æ•°åˆ—ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä¿®æ­£ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼ä¹‹ä¸€è¿›è¡Œæ›´æ­£ï¼š ä½¿å‰ä¸€ä¸ªæ•°å­—å°äºæˆ–ç­‰äºå½“å‰æ•°å­— ä½¿å½“å‰æ•°å­—ç­‰äºå…ˆå‰çš„æ•°å­—å½“æ‰¾åˆ°nums[i-1] &gt; nums[i]ï¼Œé‡‡ç”¨æ–¹å¼ä¸€ï¼Œé€šè¿‡æ”¹å˜nums[i-1]çš„å€¼ï¼Œè¿™æ ·ä¸ä¼šå½±å“äº†åç»­æ“ä½œã€‚è¿˜æœ‰ï¼Œå¦‚æœnums[i-2] &gt; nums[i]ï¼Œé‡‡ç”¨æ–¹å¼äºŒï¼Œæ”¹å˜nums[i]çš„å€¼ã€‚class Solution { public boolean checkPossibility(int[] nums) { int length = nums.length; int count = 0; for (int i = 1; i &lt; length &amp;&amp; count &lt; 2; i++) { if (nums[i] >= nums[i - 1]) { continue; } count++; if (i - 2 >= 0 &amp;&amp; nums[i - 2] > nums[i]) { nums[i] = nums[i - 1]; //ä½¿å½“å‰æ•°å­—ç­‰äºå…ˆå‰çš„æ•°å­— } else { nums[i - 1] = nums[i]; //ä½¿å‰ä¸€ä¸ªæ•°å­—å°äºæˆ–ç­‰äºå½“å‰æ•°å­— } } return count &lt;= 1; } }","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/LeetCode/"}],"tags":[{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/è´ªå¿ƒ/"}]},{"title":"LeetCodeä¸­å¸¸è§çš„åŒæŒ‡é’ˆé¢˜ç›®","slug":"åŒæŒ‡é’ˆ","date":"2019-03-20T10:45:28.000Z","updated":"2019-09-10T09:45:38.000Z","comments":true,"path":"2019/03/20/shuang-zhi-zhen/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/03/20/shuang-zhi-zhen/","excerpt":"","text":"åŒæŒ‡é’ˆï¼šæœ€è¿‘åœ¨åˆ·leetcodeï¼Œç¢°åˆ°äº†è®¸å¤šåŒæŒ‡é’ˆç±»çš„é¢˜ç›®ï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸‹ï¼šæ‰€è°“åŒæŒ‡é’ˆï¼ŒæŒ‡çš„æ˜¯åœ¨éå†å¯¹è±¡çš„è¿‡ç¨‹ä¸­ï¼Œä¸æ˜¯æ™®é€šçš„ä½¿ç”¨å•ä¸ªæŒ‡é’ˆè¿›è¡Œè®¿é—®ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸¤ä¸ªç›¸åŒæ–¹å‘æˆ–è€…ç›¸åæ–¹å‘çš„æŒ‡é’ˆè¿›è¡Œæ‰«æï¼Œä»è€Œè¾¾åˆ°ç›¸åº”çš„ç›®çš„ã€‚æ¢è¨€ä¹‹ï¼ŒåŒæŒ‡é’ˆæ³•å……åˆ†ä½¿ç”¨äº†æ•°ç»„æœ‰åºè¿™ä¸€ç‰¹å¾ï¼Œä»è€Œåœ¨æŸäº›æƒ…å†µä¸‹èƒ½å¤Ÿç®€åŒ–ä¸€äº›è¿ç®—ã€‚ (æ³¨ï¼šè¿™é‡Œçš„æŒ‡é’ˆï¼Œå¹¶éä¸“æŒ‡cä¸­æŒ‡é’ˆçš„æ¦‚å¿µï¼Œè€Œæ˜¯æŒ‡ç´¢å¼•ï¼Œæ¸¸æ ‡æˆ–æŒ‡é’ˆï¼Œå¯è¿­ä»£å¯¹è±¡ç­‰) 167 .ä¸¤ä¸ªSum II - è¾“å…¥æ•°ç»„å·²æ’åºé¢˜ç›®ï¼šå®šç»™ä¸€ä¸ªå·²æŒ‰ç…§å‡åºä¸ªç»“æœæ’åˆ— çš„æœ‰åºæ•°ç»„ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ•°ä½¿å¾—å®ƒä»¬ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•°ã€‚ å‡½æ•°åº”è¯¥è¿”å›è¿™ä¸¤ä¸ªä¸‹æ ‡å€¼ index1å’Œindex2ï¼Œå…¶ä¸­index1å¿…é¡»å°äºindex2 ã€‚ è¯´æ˜ï¼š è¿”å›çš„ä¸‹æ ‡å€¼ï¼ˆindex1å’Œindex2ï¼‰ä¸æ˜¯ä»é›¶å¼€å§‹çš„ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆï¼Œè€Œä¸”ä½ ä¸å¯ä»¥é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚ ç¤ºä¾‹ï¼š è¾“å…¥ï¼šæ•°å­—= [ 2,7,11,15 ]ï¼Œç›®æ ‡= 9 è¾“å‡ºï¼š [1,2] è§£é‡Šï¼š 2ä¸7ä¹‹å’Œç­‰äºç›®æ ‡æ•°9.å› æ­¤index1 = 1ï¼Œindex2 = 2ã€‚è§£å†³æ–¹æ³•ï¼š ä½¿ç”¨åŒæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å€¼è¾ƒå°çš„å…ƒç´ ï¼Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å€¼è¾ƒå¤§çš„å…ƒç´ ã€‚æŒ‡å‘è¾ƒå°å…ƒç´ çš„æŒ‡é’ˆä»å¤´å‘å°¾éå†ï¼ŒæŒ‡å‘è¾ƒå¤§å…ƒç´ çš„æŒ‡é’ˆä»å°¾å‘å¤´éå†ã€‚ å¦‚æœä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘å…ƒç´ çš„å’Œsum == targetï¼Œé‚£ä¹ˆå¾—åˆ°è¦æ±‚çš„ç»“æœ; å¦‚æœsum&gt; targetï¼Œç§»åŠ¨è¾ƒå¤§çš„å…ƒç´ ï¼Œä½¿sumå˜å°ä¸€äº›; å¦‚æœsum &lt;targetï¼Œç§»åŠ¨è¾ƒå°çš„å…ƒç´ ï¼Œä½¿sumå˜å¤§ä¸€äº›ã€‚ public int[] twoSum(int[] numbers, int target) { int i = 0, j = numbers.length - 1; while (i &lt; j) { int sum = numbers[i] + numbers[j]; if (sum == target) { return new int[]{i + 1, j + 1}; } else if (sum &lt; target) { i++; } else { j--; } } return null; } 141. ç¯å½¢é“¾è¡¨é—®é¢˜ï¼šç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚ ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1 è¾“å‡ºï¼štrue è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚ ç¤ºä¾‹ 2ï¼š è¾“å…¥ï¼šhead = [1,2], pos = 0 è¾“å‡ºï¼štrue è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ **ç¤ºä¾‹ 3ï¼š** è¾“å…¥ï¼šhead = [1], pos = -1 è¾“å‡ºï¼šfalse è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚ è§£å†³ï¼šä½¿ç”¨åŒæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªæŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœå­˜åœ¨ç¯ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæŒ‡é’ˆä¸€å®šä¼šç›¸é‡ï¼Œå¥½æ¯”äºæ“åœºï¼Œå¦‚æœä¸€ä¸ªç”¨èµ°ï¼Œä¸€ä¸ªç”¨è·‘ï¼Œä¸¤ä¸ªè‚¯å®šç›¸é‡ã€‚ public boolean hasCycle(ListNode head) { if (head == null) { return false; } ListNode l1 = head, l2 = head.next; while (l1 != null &amp;&amp; l2 != null &amp;&amp; l2.next != null) { if (l1 == l2) { return true; } l1 = l1.next; l2 = l2.next.next; } return false; } 345 .åè½¬å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯é—®é¢˜ï¼šç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä»¥å­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥ï¼Œåè½¬è¯¥å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: &quot;hello&quot; è¾“å‡º: &quot;holle&quot;ç¤ºä¾‹ 2: è¾“å…¥: &quot;leetcode&quot; è¾“å‡º: &quot;leotcede&quot;è§£å†³ï¼šä½¿ç”¨åŒæŒ‡é’ˆæŒ‡å‘å¾…åè½¬çš„ä¸¤ä¸ªå…ƒéŸ³å­—ç¬¦ï¼Œä¸€ä¸ªæŒ‡é’ˆä»å¤´å‘å°¾éå†ï¼Œä¸€ä¸ªæŒ‡é’ˆä»å°¾åˆ°å¤´éå†ã€‚ private final static HashSet&lt;Character> vowels = new HashSet&lt;>(Arrays.asList('a', 'e', 'i', 'o', 'u', 'A', 'E', 'I', 'O', 'U')); public String reverseVowels(String s) { int i = 0, j = s.length() - 1; char[] result = new char[s.length()]; while (i &lt;= j) { char ci = s.charAt(i); char cj = s.charAt(j); if (!vowels.contains(ci)) { result[i++] = ci; } else if (!vowels.contains(cj)) { result[j--] = cj; } else { result[i++] = cj; result[j--] = ci; } } return new String(result); } 680. éªŒè¯å›æ–‡å­—ç¬¦ä¸² â…¡é—®é¢˜ï¼šç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² sï¼Œæœ€å¤šåˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚åˆ¤æ–­æ˜¯å¦èƒ½æˆä¸ºå›æ–‡å­—ç¬¦ä¸²ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: &quot;aba&quot; è¾“å‡º: Trueç¤ºä¾‹ 2: è¾“å…¥: &quot;abca&quot; è¾“å‡º: True è§£é‡Š: ä½ å¯ä»¥åˆ é™¤cå­—ç¬¦ã€‚æ³¨æ„: å­—ç¬¦ä¸²åªåŒ…å«ä» a-z çš„å°å†™å­—æ¯ã€‚å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦æ˜¯50000ã€‚ è§£å†³ï¼šå…ˆå†™ä¸€ä¸ªæ˜¯å¦æ˜¯å›æ–‡çš„å‡½æ•°ï¼Œç„¶åå†ä½¿ç”¨åŒæŒ‡é’ˆï¼Œåªè¦æ˜¯å›æ–‡æ•°ï¼Œå¤´å°¾æŒ‡é’ˆåœ¨éå†æ—¶è‚¯å®šä¸€æ ·ï¼Œå¦‚æœä¸ä¸€æ ·ï¼Œå¯ä»¥å»æ‰ä¸€ä¸ªï¼Œå¢åŠ iæˆ–å‡å°jï¼› public boolean validPalindrome(String s) { int i = -1, j = s.length(); while (++i &lt; --j) { if (s.charAt(i) != s.charAt(j)) { return isPalindrome(s, i, j - 1) || isPalindrome(s, i + 1, j); } } return true; } private boolean isPalindrome(String s, int i, int j) { while (i &lt; j) { if (s.charAt(i++) != s.charAt(j--)) { return false; } } return true; } 88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„é—®é¢˜ï¼šç»™å®šä¸¤ä¸ªæœ‰åºæ•´æ•°æ•°ç»„ nums1 å’Œ nums2*ï¼Œå°† *nums2 åˆå¹¶åˆ° nums1 ä¸­ï¼Œä½¿å¾— num1 æˆä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚ è¯´æ˜: åˆå§‹åŒ– nums1 å’Œ nums2 çš„å…ƒç´ æ•°é‡åˆ†åˆ«ä¸º m å’Œ nã€‚ ä½ å¯ä»¥å‡è®¾ nums1 æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼ˆç©ºé—´å¤§å°å¤§äºæˆ–ç­‰äº m + n*ï¼‰æ¥ä¿å­˜ *nums2 ä¸­çš„å…ƒç´ ã€‚ ç¤ºä¾‹: è¾“å…¥: nums1 = [1,2,3,0,0,0], m = 3 nums2 = [2,5,6], n = 3 è¾“å‡º: [1,2,2,3,5,6] è§£å†³ï¼šä½¿ç”¨åŒæŒ‡é’ˆï¼Œéœ€è¦ä»å°¾å¼€å§‹éå†ï¼Œå¦åˆ™åœ¨nums1ä¸Šå½’å¹¶å¾—åˆ°çš„å€¼ä¼šè¦†ç›–è¿˜æœªè¿›è¡Œå½’å¹¶æ¯”è¾ƒçš„å€¼ã€‚ public void merge(int[] nums1, int m, int[] nums2, int n) { int index1 = m - 1, index2 = n - 1; int indexMerge = m + n - 1; while (index1 >= 0 || index2 >= 0) { if (index1 &lt; 0) { nums1[indexMerge--] = nums2[index2--]; } else if (index2 &lt; 0) { nums1[indexMerge--] = nums1[index1--]; } else if (nums1[index1] > nums2[index2]) { nums1[indexMerge--] = nums1[index1--]; } else { nums1[indexMerge--] = nums2[index2--]; } } } 633. å¹³æ–¹æ•°ä¹‹å’Œé—®é¢˜ï¼šç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° c ï¼Œä½ è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªæ•´æ•° a å’Œ bï¼Œä½¿å¾— a2 + b2 = cã€‚ ç¤ºä¾‹1: è¾“å…¥: 5 è¾“å‡º: True è§£é‡Š: 1 * 1 + 2 * 2 = 5ç¤ºä¾‹2: è¾“å…¥: 3 è¾“å‡º: Falseè§£å†³ï¼šä¸€ä¸ªä»å¤´éå†ï¼Œä¸€ä¸ªä»ç›®æ ‡æ•°å­—çš„å¼€æ–¹å¾€å›éå†ï¼Œå¦‚æœç›®æ ‡æ•°å­—å¤§äºå®é™…æ•°å­—ï¼Œåˆ™i++;å¦‚æœç›®æ ‡æ•°å­—å°äºå®é™…æ•°å­—ï¼Œåˆ™jâ€“;å¦‚æœç›®æ ‡æ•°å­—ç­‰äºå®é™…æ•°å­—ï¼Œåˆ™æ‰¾åˆ°äº†; public boolean judgeSquareSum(int c) { int i = 0, j = (int) Math.sqrt(c); while (i &lt;= j) { int powSum = i * i + j * j; if (powSum == c) { return true; } else if (powSum > c) { j--; } else { i++; } } return false; }","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/LeetCode/"}],"tags":[{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/åŒæŒ‡é’ˆ/"}]},{"title":"LeetCodeä¸­çš„äºŒåˆ†æŸ¥æ‰¾","slug":"äºŒåˆ†æŸ¥æ‰¾","date":"2019-03-08T07:25:08.000Z","updated":"2019-09-10T09:40:36.000Z","comments":true,"path":"2019/03/08/er-fen-cha-zhao/","link":"","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/2019/03/08/er-fen-cha-zhao/","excerpt":"","text":"äºŒåˆ†æŸ¥æ‰¾æœ€è¿‘åœ¨çœ‹ç®—æ³•ç¬¬å››ç‰ˆï¼Œå…¶ä¸­æœ‰è¯´åˆ°äºŒåˆ†æœç´¢ï¼Œä¹Ÿå°±æ˜¯äºŒåˆ†æŸ¥æ‰¾ï¼Œä¹Ÿåœ¨LeetCodeä¸Šåˆ·é¢˜ï¼Œæ€»ç»“ä¸‹ å®šä¹‰äºŒåˆ†æŸ¥æ‰¾åˆå«æŠ˜åŠæŸ¥æ‰¾ï¼Œè¦æ±‚å¾…æŸ¥æ‰¾çš„åºåˆ—æœ‰åºã€‚æ¯æ¬¡å–ä¸­é—´ä½ç½®çš„å€¼ä¸å¾…æŸ¥å…³é”®å­—æ¯”è¾ƒï¼Œå¦‚æœä¸­é—´ä½ç½®çš„å€¼æ¯”å¾…æŸ¥å…³é”®å­—å¤§ï¼Œåˆ™åœ¨å‰åŠéƒ¨åˆ†å¾ªç¯è¿™ä¸ªæŸ¥æ‰¾çš„è¿‡ç¨‹ï¼Œå¦‚æœä¸­é—´ä½ç½®çš„å€¼æ¯”å¾…æŸ¥å…³é”®å­—å°ï¼Œåˆ™åœ¨ååŠéƒ¨åˆ†å¾ªç¯è¿™ä¸ªæŸ¥æ‰¾çš„è¿‡ç¨‹ã€‚ç›´åˆ°æŸ¥æ‰¾åˆ°äº†ä¸ºæ­¢ï¼Œå¦åˆ™åºåˆ—ä¸­æ²¡æœ‰å¾…æŸ¥çš„å…³é”®å­—ã€‚ ä¼˜ç¼ºç‚¹ä¼˜ç‚¹æ˜¯æ¯”è¾ƒæ¬¡æ•°å°‘ï¼ŒæŸ¥æ‰¾é€Ÿåº¦å¿«ï¼Œå¹³å‡æ€§èƒ½å¥½ï¼›å…¶ç¼ºç‚¹æ˜¯è¦æ±‚å¾…æŸ¥è¡¨ä¸ºæœ‰åºè¡¨ï¼Œä¸”æ’å…¥åˆ é™¤å›°éš¾ã€‚å› æ­¤ï¼ŒæŠ˜åŠæŸ¥æ‰¾æ–¹æ³•é€‚ç”¨äºä¸ç»å¸¸å˜åŠ¨è€ŒæŸ¥æ‰¾é¢‘ç¹çš„æœ‰åºåˆ—è¡¨ã€‚ä½¿ç”¨æ¡ä»¶ï¼šæŸ¥æ‰¾åºåˆ—æ˜¯é¡ºåºç»“æ„ï¼Œæœ‰åºã€‚ æ—¶é—´å¤æ‚åº¦æ¯æ¬¡éƒ½èƒ½å°†æŸ¥æ‰¾åŒºé—´å‡åŠï¼Œè¿™ç§æŠ˜åŠç‰¹æ€§çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º O(logN)ã€‚ ç©ºé—´å¤æ‚åº¦ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦å¹¶ä¸æ˜¯è®¡ç®—å®é™…å ç”¨çš„ç©ºé—´ï¼Œè€Œæ˜¯è®¡ç®—æ•´ä¸ªç®—æ³•çš„è¾…åŠ©ç©ºé—´å•å…ƒçš„ä¸ªæ•° éé€’å½’æ–¹å¼ï¼š ç”±äºè¾…åŠ©ç©ºé—´æ˜¯å¸¸æ•°çº§åˆ«çš„æ‰€ä»¥ï¼š ç©ºé—´å¤æ‚åº¦æ˜¯O(1); é€’å½’æ–¹å¼ï¼š é€’å½’çš„æ¬¡æ•°å’Œæ·±åº¦éƒ½æ˜¯log2 N,æ¯æ¬¡æ‰€éœ€è¦çš„è¾…åŠ©ç©ºé—´éƒ½æ˜¯å¸¸æ•°çº§åˆ«çš„ï¼š ç©ºé—´å¤æ‚åº¦ï¼šO(log2N ) å®ç°1.éé€’å½’ä»£ç (ä½¿ç”¨çš„æ¯”è¾ƒå¤š) public static int biSearch(int []array,int a){ int lo=0; int hi=array.length-1; int mid; while(lo&lt;=hi){ mid=(lo+hi)/2; if(array[mid]==a){ return mid+1; }else if(array[mid]&lt;a){ lo=mid+1; }else{ hi=mid-1; } } return -1; } 2.é€’å½’å®ç° public static int sort(int []array,int a,int lo,int hi){ if(lo&lt;=hi){ int mid=(lo+hi)/2; if(a==array[mid]){ return mid+1; } else if(a>array[mid]){ return sort(array,a,mid+1,hi); }else{ return sort(array,a,lo,mid-1); } } return -1; } å˜ç§äºŒåˆ†æŸ¥æ‰¾å¯ä»¥æœ‰å¾ˆå¤šå˜ç§ï¼Œè¿™é‡Œä»‹ç»ä¸¤ä¸ªå˜ç§ï¼Œå®ç°æ—¶è¦æ³¨æ„è¾¹ç•Œå€¼å’ŒåŒºé—´çš„åˆ¤æ–­ã€‚ä¾‹å¦‚åœ¨ä¸€ä¸ªæœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ä¸­æŸ¥æ‰¾ key çš„æœ€å·¦ä½ç½®çš„å®ç°å¦‚ä¸‹ï¼š å¾ªç¯æ¡ä»¶ä¸º l &lt; h h çš„èµ‹å€¼è¡¨è¾¾å¼ä¸º h = m æœ€åè¿”å› l è€Œä¸æ˜¯ -1 å¦å¤–ï¼Œåœ¨ h çš„èµ‹å€¼è¡¨è¾¾å¼ä¸º h = mid çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå¾ªç¯æ¡ä»¶ä¸º l &lt;= hï¼Œé‚£ä¹ˆä¼šå‡ºç°å¾ªç¯æ— æ³•é€€å‡ºçš„æƒ…å†µï¼Œå› æ­¤å¾ªç¯æ¡ä»¶åªèƒ½æ˜¯ l &lt; hã€‚public int binarySearch(int[] nums, int key) { int l = 0, h = nums.length - 1; while (l &lt; h) { //æ³¨æ„åŒºé—´èŒƒå›´ int m = l + (h - l) / 2; if (nums[m] >= key) { h = m;//æ³¨æ„è¿™é‡Œhçš„èµ‹å€¼ } else { l = m + 1; } } return l;//æœ€åè¿”å›l } åœ¨ä¸€ä¸ªæœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ä¸­æŸ¥è¯¢å…ƒç´ æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼š public static int biSearch(int []array,int a){ int n=array.length; int low=0; int hi=n-1; int mid=0; while(low&lt;hi){ mid=(low+hi+1)/2; if(array[mid]&lt;=a){ low=mid; }else{ hi=mid-1; } } if(array[low]!=a){ return -1; }else{ return hi; } } Leetcodeé¢˜ç›®ï¼š744ã€Find Smallest Letter Greater Than Target (Easy) é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªæœ‰åºçš„å­—ç¬¦æ•°ç»„ letters å’Œä¸€ä¸ªå­—ç¬¦ targetï¼Œè¦æ±‚æ‰¾å‡º letters ä¸­å¤§äº target çš„æœ€å°å­—ç¬¦ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±è¿”å›ç¬¬ 1 ä¸ªå­—ç¬¦ã€‚Input:letters = [â€œcâ€, â€œfâ€, â€œjâ€]target = â€œaâ€Output: â€œcâ€ Input:letters = [â€œcâ€, â€œfâ€, â€œjâ€]target = â€œcâ€Output: â€œfâ€ Input:letters = [â€œcâ€, â€œfâ€, â€œjâ€]target = â€œdâ€Output: â€œfâ€ Input:letters = [â€œcâ€, â€œfâ€, â€œjâ€]target = â€œgâ€Output: â€œjâ€ Input:letters = [â€œcâ€, â€œfâ€, â€œjâ€]target = â€œjâ€Output: â€œcâ€ Input:letters = [â€œcâ€, â€œfâ€, â€œjâ€]target = â€œkâ€Output: â€œcâ€ è§£é¢˜æ€è·¯ï¼šå…¸å‹çš„äºŒåˆ†æŸ¥æ‰¾çš„æ­£å¸¸å®ç°ï¼Œæœ€åçš„æ—¶å€™é€šè¿‡ä¸‰å…ƒè¿ç®—ç¬¦åˆ¤æ–­lè·Ÿnå¤§å°æ¥å†³å®šè¾“å‡ºlè¿˜æ˜¯nï¼Œåœ¨äºŒåˆ†æŸ¥æ‰¾ä¸­ï¼Œä¸­é—´å€¼çš„è®¡ç®—ç”¨m = l + (h - l) / 2 æ¯”ç”¨ m = (l + h) / 2è®¡ç®—è¦å¥½ï¼Œå¯ä»¥é˜²æ­¢l + h å‡ºç°åŠ æ³•æº¢å‡ºã€‚ public char nextGreatestLetter(char[] letters, char target) { int n = letters.length; int l = 0, h = n - 1; while (l &lt;= h) { int m = l + (h - l) / 2; if (letters[m] &lt;= target) { l = m + 1; } else { h = m - 1; } } return l &lt; n ? letters[l] : letters[0]; } 34ã€Search for a Range (Medium) é¢˜ç›®æè¿°ï¼šç»™å®šæ•´æ•°æ•°ç»„ï¼Œæ•°ç»„æŒ‰å‡åºæ’åºï¼Œæ‰¾å‡ºç»™å®šç›®æ ‡å€¼çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚ æ‚¨çš„ç®—æ³•çš„è¿è¡Œæ—¶å¤æ‚æ€§å¿…é¡»æ˜¯Oï¼ˆlog nï¼‰çš„é¡ºåºã€‚ å¦‚æœåœ¨æ•°ç»„ä¸­æ‰¾ä¸åˆ°ç›®æ ‡ï¼Œåˆ™è¿”å›[-1ï¼Œ-1]ã€‚ Input: nums = [5,7,7,8,8,10], target = 8Output: [3,4] Input: nums = [5,7,7,8,8,10], target = 6Output: [-1,-1] è§£é¢˜æ€è·¯ï¼šæœ¬é¢˜åŸºäºäºŒåˆ†æŸ¥æ‰¾çš„å˜ç§ï¼Œè€ƒè™‘å…ˆå†™ä¸€ä¸ªæ–¹æ³•æ¥åˆ¤æ–­target(å¯é‡å¤)åœ¨æ•°ç»„ä¸­å‡ºç°çš„æœ€å·¦ä½ç½®ï¼Œå†æ±‚æ±‚target+1å‡ºç°çš„æœ€å·¦ä½ç½®ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒå³å¯ã€‚ class Solution { public int[] searchRange(int[] nums, int target) { int first = binarySearch(nums,target); int last = binarySearch(nums,target + 1) -1;//æ±‚target+1å‡ºç°çš„æœ€å·¦ä½ç½® if(first ==nums.length || nums[first]!=target){ return new int []{-1,-1}; }else{ return new int[]{first,first>last?first:last};//å½“æŸ¥æ‰¾çš„ç›®æ ‡æ•°åœ¨æœ€åä¸€ä¸ªæ—¶,firstå¤§äºlast } } //ä»æ•°ç»„ä¸­æ‰¾å‡ºé‡å¤å…ƒç´ çš„æœ€å·¦ä½ç½® private static int binarySearch(int [] nums,int a){ int l = 0,h = nums.length;//æ³¨æ„è¿™é‡Œhçš„å–å€¼ï¼Œå½“æ•°ç»„ä¸­ä¸º[2,2]ç›®æ ‡ä¸º2æ—¶ï¼Œfirstå’Œlastéƒ½ä¸º0ï¼Œæ‰€ä»¥è¿™é‡Œhä¸èƒ½ä¸ºnums.length-1; while(l &lt; h){ int min = l + (h - l) / 2; if(nums[min] >= a){ h = min; }else{ l = min + 1; } } return l; } }","categories":[{"name":"LeetCode","slug":"LeetCode","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/categories/LeetCode/"}],"tags":[{"name":"BinarySearch","slug":"BinarySearch","permalink":"http://github.com/ForeverSen/ForeverSen.github.io/tags/BinarySearch/"}]}]}